---
title: "(Qt) 11. qt에서 쓰는 모든 event 이론적 정리"
permalink: qt/core/event/                # link 직접 지정
toc: true                       # for Sub-title (On this page)
comments: true                  # for disqus Comments
categories:                     # for categories
date: 2020-03-18 00:00:00 -0000
last_modified_at: 2020-03-18 00:00:00 -0000
sidebar:
  title: "qt"
  nav: qt
---

## 목차

* [qt Event 송신](/#qt-event-송신)
* [qt event 수신](#qt-event-수신)

---

## qt event 송신

Qt 송신 Event는 세 가지가 존재

* Window System Event : **Window native Event(Message)**
    - Generated by window system.
    - Put in some queue and processed one by one in the event loop
    - Qt에서 이 메시지를 보내려면 WIN32를 사용해서 보내야함(본 강의 내용과 무관하기에 넘어감)
* Posted Events : **event loop로 보내는 posted event**
    - Generated by Qt or application.
    - Stored in queue and processed by the **event loop**
    - `QCoreApplication::postEvent` 함수를 통해 보낼수 있다.
* Send Events : **특정 object를 지정해서 보내는 send event**
    - Generated by Qt or application.
    - Sent directly to **destination object**
    - `QCoreApplication::sendEvent` 함수를 통해 보낼수 있다.

대략적 이벤트 흐름도는 아래와 같다.

![](/file/image/qt-gdi-s2-11-image-1.png)

뭐 대략적 수도코드는 아래와 같다.<br>

```cpp
while(!appKilled) {
    while(!spontaneousQueue.empty()) {
        processNextSpontaneousEvent();
        if(sendEvent) {
            processSentEvent();
        }
    }
    while(!postedQueue.empty()) {
        processNextPostedEvent();
        if(sentEvent) {
            processSentEvent();
        }
    }
}
```

---

## qt event 수신

수신 event는 세 가지 방법으로 수신, 단, window메시지는 별도의 방법으로 수신해야함.

* `QApplication::notify()`
* `QObject::event()`
* `QWidget::mousePressEvent()` : mousePressEvent는 그냥 예시로 적음.

![](/file/image/qt-gdi-s2-5-image-1.png)

앱이 실행 `QApplication::exec()`되면 event를 대기

```cpp
// Event Loop example
while(appIsRunning) {
    while(!eventQueueEmpty) {
        dispatchEvent();
    }
    waitForNewEvents();
}
```

Event가 도착하면 `QApplication::notify()` 호출되고 `QObject::event` 에서 이벤트를 부르게 된다.<br>

**물론 notify, event 이 부분을 이론적으로만 알고있자.. 심각한 문제를 발생할 수 있기 때문이다.**<br>
말은즉슨 될 수 있으면 마지막 Event처리기를 사용하란말<br>
뒤에서 이 이벤트 처리를 override하는 과정에 대해 설명있다. -> 하지만 꼭 써야하는 상황에서만 사용하도록 하자.<br>

> * [notify event 처리](https://8bitscoding.github.io/Qt-GDI-S2-7/)
> * [event 처리](https://8bitscoding.github.io/Qt-GDI-S2-8/)