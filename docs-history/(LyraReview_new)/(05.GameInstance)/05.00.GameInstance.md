---
layout: default
title: "(05. GameInstance)"
parent: "(UE Lyra Review)"
has_children: true
nav_order: 1
---

* [Get Code ğŸŒŸ](https://github.com/Arthur880708/LyraCloneSample)

---

* GameInstanceëŠ” ë³„ê±° ì—†ë‹¤.

```cpp
UCLASS()
class MyGAME_API UMyGameInstance : public UCommonGameInstance
{
	GENERATED_BODY()

	virtual void Init() override;
	virtual void Shutdown() override;
};
```

```cpp
void UMyGameInstance::Init()
{
	Super::Init();

	// ë³„ê±°ë¼ í•  ë§Œí•œ ë¶€ë¶„ì€
        // 1. UGameFrameworkComponentManagerëŠ” ë­˜ê¹Œ
	UGameFrameworkComponentManager* ComponentManager = GetSubsystem<UGameFrameworkComponentManager>(this);
	if (ensure(ComponentManager))
	{
        // 2. FMyGameplayTagsëŠ” ë­˜ê¹Œ
		const FMyGameplayTags& GameplayTags = FMyGameplayTags::Get();

		ComponentManager->RegisterInitState(GameplayTags.InitState_Spawned, false, FGameplayTag());
		ComponentManager->RegisterInitState(GameplayTags.InitState_DataAvailable, false, GameplayTags.InitState_Spawned);
		ComponentManager->RegisterInitState(GameplayTags.InitState_DataInitialized, false, GameplayTags.InitState_DataAvailable);
		ComponentManager->RegisterInitState(GameplayTags.InitState_GameplayReady, false, GameplayTags.InitState_DataInitialized);
	}
}

void UMyGameInstance::Shutdown()
{
	Super::Shutdown();
}
```
