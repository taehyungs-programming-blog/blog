---
layout: default
title: "35. Mesh"
parent: "(DirectX 12 ğŸŒ )"
grand_parent: (C++)
nav_order: 4
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒ](https://github.com/taehyung77/DirextX-Example/tree/28)

## ì¤€ë¹„

* FBXë¼ëŠ” í¬ë©§ì˜ íŒŒì¼ì„ ë¡œë“œ í›„ ì¶œë ¥í•˜ëŠ” ì‹¤ìŠµì„ í•œë‹¤.
* ì¤€ë¹„ë¬¼ : [FBX SDK ğŸŒ](https://www.autodesk.com/developer-network/platform-technologies/fbx-sdk-2020-2-1)
    * Libì— FBXë³µë¶™

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/cpp/directx/directx-35-1.png"/>
</p>

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/cpp/directx/directx-35-2.png"/>
</p>

* [Free3D ğŸŒ](https://free3d.com/ko/3d-models/fbx)ì—ì„œ í•„ìš”í•œ FBXë¥¼ ë‹¤ìš´ë°›ì

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/cpp/directx/directx-35-3.png"/>
</p>

* ê²°ê³¼ë¥¼ ë¨¼ì €ë³´ìë©´

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/cpp/directx/directx-35-4.png"/>
</p>

---

## êµ¬í˜„

```cpp
// Engine.Pch
// ì‚¬ìš©ì¤€ë¹„ë¥¼ í•˜ì

#ifdef _DEBUG
#pragma comment(lib, "FBX\\debug\\libfbxsdk-md.lib")
#pragma comment(lib, "FBX\\debug\\libxml2-md.lib")
#pragma comment(lib, "FBX\\debug\\zlib-md.lib")
#else
#pragma comment(lib, "FBX\\release\libfbxsdk-md.lib")
#pragma comment(lib, "FBX\\release\libxml2-md.lib")
#pragma comment(lib, "FBX\\release\\zlib-md.lib")
#endif
```

```cpp
// wstring to string
// string to wstring


wstring s2ws(const string& s)
{
	int32 len;
	int32 slength = static_cast<int32>(s.length()) + 1;
	len = ::MultiByteToWideChar(CP_ACP, 0, s.c_str(), slength, 0, 0);
	wchar_t* buf = new wchar_t[len];
	::MultiByteToWideChar(CP_ACP, 0, s.c_str(), slength, buf, len);
	wstring ret(buf);
	delete[] buf;
	return ret;
}

string ws2s(const wstring& s)
{
	int32 len;
	int32 slength = static_cast<int32>(s.length()) + 1;
	len = ::WideCharToMultiByte(CP_ACP, 0, s.c_str(), slength, 0, 0, 0, 0);
	string r(len, '\0');
	::WideCharToMultiByte(CP_ACP, 0, s.c_str(), slength, &r[0], len, 0, 0);
	return r;
}
```

```cpp
// FBXLoaderëŠ” ì™¸ë¶€ì—ì„œ ë³µë¶™í•œ ì†ŒìŠ¤ì´ê¸°ì— í•˜ë‚˜í•˜ë‚˜ ë¶„ì„ì€
// í•´ë„ë˜ê³  ì•ˆí•´ë„ ë˜ê³  ã…

// ...

class FBXLoader
{
public:
	FBXLoader();
	~FBXLoader();

    // ...
```

```cpp
#pragma region FBX
	{
		shared_ptr<MeshData> meshData = GET_SINGLE(Resources)->LoadFBX(L"..\\Resources\\FBX\\Dragon.fbx");

		vector<shared_ptr<GameObject>> gameObjects = meshData->Instantiate();

		for (auto& gameObject : gameObjects)
		{
			gameObject->SetName(L"Dragon");
			gameObject->SetCheckFrustum(false);
			gameObject->GetTransform()->SetLocalPosition(Vec3(0.f, 0.f, 300.f));
			gameObject->GetTransform()->SetLocalScale(Vec3(1.f, 1.f, 1.f));
			scene->AddGameObject(gameObject);
		}
	}
#pragma endregion
```
