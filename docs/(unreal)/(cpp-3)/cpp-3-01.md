---
layout: default
title: "01. 시작 및 Pawn만들기"
parent: "(Unreal C++ Part3 - 3D Tank)"
grand_parent: "(Unreal 🚀)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## 프로젝트 세팅

* 기본 프로젝트 세팅은 [여기]()서 다운받자
    * 기본세팅하는데 너무 오래걸림 ㅎ;;
* Editor 수정
    * Edit -> Editor Perferences -> General -> Source Code -> Visual Studio Code

---

## BasePawn Class

* [Get Code 🌍]()

```
BasePawn --- Main Tank
          |
          -- Other Tank (enemy)
```

* 이런식으로 만들예정! 해보자!
* Tools -> New C++ Clases ... -> ??? **(여기서 뭘 선택하지?)**

* 세 가지 옵션이 있다.
* **Actor**
    * 물리 적용이 가능
    * Mesh를 사용가능(눈으로 볼 수 있다)
* **Pawn**
    * Possessed가능(컨트롤러를 붙일수 있다)
* **Character**
    * Movement를 적용가능(달리기, 수영, 날기 등 처리가 가능)

* 흠? 내가만드는건 Tank니 **Pawn**정도가 적당하겠군?
* Pawn으로 BasePawn을 하나 생성하자

---

### BasePawn내에 Component추가

* 우선 Component의 상속관계를 알아야 한다

```
USceneComponent --- Handles collision
                 |
                 -- UStaticMeshComponent
```

* **USceneComponent**
    * 최 상위 클래스로 transform, 다른 component의 attach를 담당한다
    * 참고로 Actor에서 사용되는 RootComponent가 USceneComponent이다
* **Handles collision**
    * 충돌을 담당한다
* **UStaticMeshComponent**
    * Mesh를 담당한다 (보이는 부분)

* 이를 바탕으로 BasePawn에 Component를 추가해 보자
* BasePawn에는 아래와 같은게 들어있어야 한다.
    * Base Mesh(Tank 몸체)
    * Turrent Mesh(Tank 머리)
    * Capsule(충돌을 위하여)
    * Projectile Spawn Point(USceneComponent정도면 적당할듯!)


```cpp
// header
private:
    // 전방선언에 유의하자(보통 전방선언함.)
	UPROPERTY(EditAnywhere)
	class UCapsuleComponent* CapsuleComp;
```

```cpp
// cpp
#include "Components/CapsuleComponent.h"

// ...

ABasePawn::ABasePawn()
{
	PrimaryActorTick.bCanEverTick = true;

	CapsuleComp = CreateDefaultSubobject<UCapsuleComponent>(TEXT("Capsule Collider"));

    // Capsule을 그냥 Root로 붙이자,
        // 어차피 현재는 해야할 동작이 거의 비슷함.
    RootComponent = CapsuleComp;
}
```
