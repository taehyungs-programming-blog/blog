---
layout: default
title: "01. ì‹œì‘ ë° Pawnë§Œë“¤ê¸°"
parent: "(Unreal C++ Part3 - 3D Tank)"
grand_parent: "(Unreal ğŸš€)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## í”„ë¡œì íŠ¸ ì„¸íŒ…

* ê¸°ë³¸ í”„ë¡œì íŠ¸ ì„¸íŒ…ì€ [ì—¬ê¸°]()ì„œ ë‹¤ìš´ë°›ì
    * ê¸°ë³¸ì„¸íŒ…í•˜ëŠ”ë° ë„ˆë¬´ ì˜¤ë˜ê±¸ë¦¼ ã…;;
* Editor ìˆ˜ì •
    * Edit -> Editor Perferences -> General -> Source Code -> Visual Studio Code

---

## BasePawn Class

* [Get Code ğŸŒ]()

```
BasePawn --- Main Tank
          |
          -- Other Tank (enemy)
```

* ì´ëŸ°ì‹ìœ¼ë¡œ ë§Œë“¤ì˜ˆì •! í•´ë³´ì!
* Tools -> New C++ Clases ... -> ??? **(ì—¬ê¸°ì„œ ë­˜ ì„ íƒí•˜ì§€?)**

* ì„¸ ê°€ì§€ ì˜µì…˜ì´ ìˆë‹¤.
* **Actor**
    * ë¬¼ë¦¬ ì ìš©ì´ ê°€ëŠ¥
    * Meshë¥¼ ì‚¬ìš©ê°€ëŠ¥(ëˆˆìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤)
* **Pawn**
    * Possessedê°€ëŠ¥(ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë¶™ì¼ìˆ˜ ìˆë‹¤)
* **Character**
    * Movementë¥¼ ì ìš©ê°€ëŠ¥(ë‹¬ë¦¬ê¸°, ìˆ˜ì˜, ë‚ ê¸° ë“± ì²˜ë¦¬ê°€ ê°€ëŠ¥)

* í ? ë‚´ê°€ë§Œë“œëŠ”ê±´ Tankë‹ˆ **Pawn**ì •ë„ê°€ ì ë‹¹í•˜ê² êµ°?
* Pawnìœ¼ë¡œ BasePawnì„ í•˜ë‚˜ ìƒì„±í•˜ì

---

### BasePawnë‚´ì— Componentì¶”ê°€

* ìš°ì„  Componentì˜ ìƒì†ê´€ê³„ë¥¼ ì•Œì•„ì•¼ í•œë‹¤

```
USceneComponent --- Handles collision
                 |
                 -- UStaticMeshComponent
```

* **USceneComponent**
    * ìµœ ìƒìœ„ í´ë˜ìŠ¤ë¡œ transform, ë‹¤ë¥¸ componentì˜ attachë¥¼ ë‹´ë‹¹í•œë‹¤
    * ì°¸ê³ ë¡œ Actorì—ì„œ ì‚¬ìš©ë˜ëŠ” RootComponentê°€ USceneComponentì´ë‹¤
* **Handles collision**
    * ì¶©ëŒì„ ë‹´ë‹¹í•œë‹¤
* **UStaticMeshComponent**
    * Meshë¥¼ ë‹´ë‹¹í•œë‹¤ (ë³´ì´ëŠ” ë¶€ë¶„)

* ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ BasePawnì— Componentë¥¼ ì¶”ê°€í•´ ë³´ì
* BasePawnì—ëŠ” ì•„ë˜ì™€ ê°™ì€ê²Œ ë“¤ì–´ìˆì–´ì•¼ í•œë‹¤.
    * Base Mesh(Tank ëª¸ì²´)
    * Turrent Mesh(Tank ë¨¸ë¦¬)
    * Capsule(ì¶©ëŒì„ ìœ„í•˜ì—¬)
    * Projectile Spawn Point(USceneComponentì •ë„ë©´ ì ë‹¹í• ë“¯!)


```cpp
// header
private:
    // ì „ë°©ì„ ì–¸ì— ìœ ì˜í•˜ì(ë³´í†µ ì „ë°©ì„ ì–¸í•¨.)
	UPROPERTY()
	class UCapsuleComponent* CapsuleComp;

    UPROPERTY()
	UStaticMeshComponent* BaseMesh;

    UPROPERTY()
    UStaticMeshComponent* TurrentMesh;

    UPROPERTY()
    USceneComponent* ProjectileSpawnPoint;
```

```cpp
// cpp
#include "Components/CapsuleComponent.h"
#include "Components/StaticMeshComponent.h"

// ...

ABasePawn::ABasePawn()
{
	PrimaryActorTick.bCanEverTick = true;

	CapsuleComp = CreateDefaultSubobject<UCapsuleComponent>(TEXT("Capsule Collider"));

    // Capsuleì„ ê·¸ëƒ¥ Rootë¡œ ë¶™ì´ì,
        // ì–´ì°¨í”¼ í˜„ì¬ëŠ” í•´ì•¼í•  ë™ì‘ì´ ê±°ì˜ ë¹„ìŠ·í•¨.
    RootComponent = CapsuleComp;

    BaseMesh = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("Base Mesh"));
    BaseMesh->SetupAttachment(CapsuleComp);

    TurrentMesh = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("Turrent Mesh"));
    TurrentMesh->SetupAttachment(BaseMesh);

    ProjectileSpawnPoint = CreateDefaultSubobject<USceneComponent>(TEXT("Projectile Spawn Point"));
    ProjectileSpawnPoint->SetupAttachment(TurrentMesh);
}
```

---

### Blueprintë¡œ ìƒì†í•´ ë³´ê¸°

* ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•´ ë³´ë©´

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/unreal/unreal_cpp_3/ucpp3-1-1.png"/>
</p>

* ë‚´ë¶€êµ¬ì¡°ê°€ ìƒê°í–ˆë˜ê²ƒê³¼ ë™ì¼í•˜ê²Œ ìƒì„±ë¨ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/unreal/unreal_cpp_3/ucpp3-1-2.png"/>
</p>


