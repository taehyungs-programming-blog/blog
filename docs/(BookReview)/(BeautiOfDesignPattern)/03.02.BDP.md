---
layout: default
title: "Ch.3.2 - OCP (Open-Closed Principle)"
parent: "(ë””ìì¸ íŒ¨í„´ì˜ ì•„ë¦„ë‹¤ì›€)"
grand_parent: "ì±…(ê°œë°œë„ì„œ) ë¦¬ë·° ğŸ“š"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## OCP (Open-Closed Principle)

* "ì†Œí”„íŠ¸ì›¨ì–´ ì—”í‹°í‹°(í´ë˜ìŠ¤, ëª¨ë“ˆ, í•¨ìˆ˜ ë“±)ëŠ” í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆì–´ì•¼ í•˜ì§€ë§Œ, ë³€ê²½ì—ëŠ” ë‹«í˜€ ìˆì–´ì•¼ í•œë‹¤"ëŠ” ê°œë…ì…ë‹ˆë‹¤. 
* ì´ ì›ì¹™ì€ **ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì‹œìŠ¤í…œì˜ ê¸°ëŠ¥ì„ í™•ì¥**í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. 
* ì´ë¥¼ í†µí•´ ì½”ë“œ ìˆ˜ì •ìœ¼ë¡œ ì¸í•œ ìœ„í—˜ì„ ì¤„ì´ê³ , ì‹œìŠ¤í…œì˜ ìœ ì—°ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```cpp
#include<iostream>
using namespace std;

// Customer í´ë˜ìŠ¤ëŠ” ê³ ê° ì •ë³´ì™€ í• ì¸ ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
class Customer {
public:
    Customer(string type): type(type) {}
    
    // í• ì¸ìœ¨ì„ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜
    double getDiscount(double amount) const {
        if (type == "Regular") {
            return amount - amount * 0.1;  // ì¼ë°˜ ê³ ê°ì€ 10% í• ì¸
        } else if (type == "VIP") {
            return amount - amount * 0.2;  // VIP ê³ ê°ì€ 20% í• ì¸
        }
        return amount;  // í• ì¸ ì—†ìŒ
    }

private:
    string type;
};

int main() {
    Customer regular("Regular");
    Customer vip("VIP");
    
    cout << "Regular customer discount: $" << regular.getDiscount(100) << endl;
    cout << "VIP customer discount: $" << vip.getDiscount(100) << endl;
    return 0;
}
```

```cpp
#include<iostream>
using namespace std;

// DiscountStrategy ì¸í„°í˜ì´ìŠ¤ëŠ” í• ì¸ ê³„ì‚°ì„ ìœ„í•œ ë©”ì„œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
class DiscountStrategy {
public:
    virtual double getDiscount(double amount) const = 0;
};

// RegularDiscountì™€ VIPDiscountëŠ” DiscountStrategyë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.
class RegularDiscount : public DiscountStrategy {
public:
    double getDiscount(double amount) const override {
        return amount - amount * 0.1;  // 10% í• ì¸
    }
};

class VIPDiscount : public DiscountStrategy {
public:
    double getDiscount(double amount) const override {
        return amount - amount * 0.2;  // 20% í• ì¸
    }
};

// Customer í´ë˜ìŠ¤ëŠ” DiscountStrategyë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
class Customer {
public:
    Customer(DiscountStrategy* strategy): strategy(strategy) {}
    
    double getDiscount(double amount) const {
        return strategy->getDiscount(amount);
    }

private:
    DiscountStrategy* strategy;
};

int main() {
    RegularDiscount regularDiscount;
    VIPDiscount vipDiscount;

    Customer regular(&regularDiscount);
    Customer vip(&vipDiscount);
    
    cout << "Regular customer discount: $" << regular.getDiscount(100) << endl;
    cout << "VIP customer discount: $" << vip.getDiscount(100) << endl;
    return 0;
}
```