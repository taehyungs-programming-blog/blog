---
layout: default
title: "11. File Down Load System"
parent: (Django)
grand_parent: Python
nav_order: 2
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒ](https://github.com/Arthur880708/QuantumTrade.BackEnd)

---

```py
# models.py

from django.db import models

class MyFile(models.Model):
    file = models.FileField(upload_to='uploads/')
    # ì—¬ê¸°ì— ì¶”ê°€ì ì¸ í•„ë“œë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```

```py
# serializers.py

from rest_framework import serializers
from .models import MyFile

class MyFileSerializer(serializers.ModelSerializer):
    class Meta:
        model = MyFile
        fields = ['id', 'file']

```

```py
# views.py

from django.http import FileResponse
from rest_framework.views import APIView
from rest_framework.response import Response
from .models import MyFile
from .serializers import MyFileSerializer

class FileDownloadView(APIView):
    def get(self, request, pk, format=None):
        myfile = MyFile.objects.get(pk=pk)
        response = FileResponse(myfile.file.open(), as_attachment=True)
        return response

```

```py
# urls.py

from django.urls import path
from .views import FileDownloadView
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    path('download/<int:pk>/', FileDownloadView.as_view(), name='file-download'),
]

# ëŒ€ìš©ëŸ‰ íŒŒì¼ì˜ ì„œë¹™ì€ ë³„ë„ë¡œ ì„œë²„ë¥¼ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.
    # ì—¬ê¸°ì„œëŠ” defaultë¡œ ê·¸ëƒ¥ djangoì—ì„œ ì„œë¹™í•˜ê²Œ í•©ë‹ˆë‹¤.
if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

