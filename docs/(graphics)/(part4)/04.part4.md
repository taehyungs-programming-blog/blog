---
layout: default
title: "04. CSì´ìš© Matrix, Vector ê³±í•˜ê¸°"
parent: "(Computer Animation)"
grand_parent: "(Graphics ğŸ˜)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒ](https://github.com/Arthur880708/Graphics_Part4/blob/main/Examples/Ex1403_MatVecMult.h)

```cpp
Texture2D<float4> matTex : register(t0); // matrixë¥¼ textureë¡œ ì˜¬ë¦°ë‹¤
Texture2D<float4> vecTex : register(t1); // vectorë„ textureë¡œ ì˜¬ë¦°ë‹¤
// ìœ ì˜í•  ê²ƒì€ pixelì— rgbaê°€ ë“¤ì–´ê°€ë‹ˆ 4ê°œì˜ ìˆ«ìë¥¼ ë„£ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ.
RWTexture2D<float> outputTex : register(u0); 

[numthreads(256, 1, 1)]
void main(
    int3 gID : SV_GroupID, 
    int3 gtID : SV_GroupThreadID,
    uint3 dtID : SV_DispatchThreadID)
{
    uint width, height;
    matTex.GetDimensions(width, height);

    uint r = dtID.x;
    float sum = 0.0;
    for (uint i = 0; i < width; i++)
    {
        float4 m = matTex[uint2(i, r)];
        float4 v = vecTex[uint2(i, 0)];
        
        sum += dot(m, v);
    }

    outputTex[dtID.xy].r += sum;
}
```

* (ì°¸ê³ ) í—·ê°ˆë¦´ìˆ˜ ìˆëŠ”ë° MatrixëŠ” 1024 x 2048
    * Thread Groupì€ 1024 / 256 = 4ê°œë¥¼ ë§Œë“¤ê³ 
    * ê° Thread Groupì˜ ThreadëŠ” 256ê°œë¥¼ ë§Œë“¦