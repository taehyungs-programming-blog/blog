---
layout: default
title: "02. OpenGL ê¸°ë³¸ êµ¬ì¡° CodeReview!"
parent: "(OpenGL - Part.1)"
grand_parent: "(Graphics ğŸ˜)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
// ì•„ë˜ì˜ include ìˆœì„œë¥¼ ê¸°ì–µí•˜ì
#include <GL/glew.h>
#include <GLFW/glfw3.h>

#pragma comment(lib, "opengl32.lib")
#pragma comment(lib, "glew32.lib")
#pragma comment(lib, "glfw3.lib")
#pragma warning(disable: 4711 4710 4100)

#include <stdio.h>
#include <string.h>

const unsigned int WIN_W = 1024;
const unsigned int WIN_H = 768;

#if 0 // Windowì˜ posë¥¼ ì§€ì •í•˜ê³  ì‹¶ë‹¤ë©´ ì—¬ê¸¸ í™œì„±í™” í•˜ì
const unsigned int WIN_X = 100; 
const unsigned int WIN_Y = 100;
#endif

// OpenGLì€ ì´ëŸ°ì‹ìœ¼ë¡œ Callbackì„ ë°›ëŠ” í˜•íƒœë¡œ êµ¬í˜„ëœë‹¤.
    // refresh - ë‹¤ì‹œ ê·¸ë¦´ í•„ìš”ê°€ ìˆëŠ”ê²½ìš°ë¥¼ ì˜ë¯¸.
void refreshFunc(GLFWwindow* window) {
	// glClear - GL_COLOR_BUFFER_BITë²„í¼ë¥¼ ë¹„ì›Œë‹¬fk
        // GL_COLOR_BUFFER_BIT ë§ê³  ë‹¤ë¥¸ ë²„í¼ëŠ” GL_DEPTH_BUFFER_BIT, GL_STENCIL_BUFFER_BIT... ë“±ì´ ì¡´ì¬
	glClear(GL_COLOR_BUFFER_BIT);

    // glFinish - ë” ì´ìƒ glëª…ë ¹ì´ ì—†ìŒì„ ì˜ë¯¸(ëŒ€ê¸°)
	glFinish();

	// glfwSwapBuffers - windowì˜ ë°±/í”„ë¡ íŠ¸ ë²„í¼ swap
	glfwSwapBuffers(window);
}

GLfloat clr[4] = { 0.933F, 0.769F, 0.898F, 1.0F };

void keyFunc(GLFWwindow* window, int key, int scancode, int action, int mods) {
	switch (key) {
	case 'Q': clr[0] += 0.01F; if (clr[0] > 1.0F) clr[0] = 1.0F; break;
	case 'W': clr[1] += 0.01F; if (clr[1] > 1.0F) clr[1] = 1.0F; break;
	case 'E': clr[2] += 0.01F; if (clr[2] > 1.0F) clr[2] = 1.0F; break;
	case 'A': clr[0] -= 0.01F; if (clr[0] < 0.0F) clr[0] = 0.0F; break;
	case 'S': clr[1] -= 0.01F; if (clr[1] < 0.0F) clr[1] = 0.0F; break;
	case 'D': clr[2] -= 0.01F; if (clr[2] < 0.0F) clr[2] = 0.0F; break;
	case GLFW_KEY_ESCAPE:
		if (action == GLFW_PRESS) {
			glfwSetWindowShouldClose(window, GL_TRUE);
		}
		break;
	}
	glClearColor(clr[0], clr[1], clr[2], clr[3]);
}

int main(int argc, char* argv[]) {
#if defined(_WIN32) || defined(_WIN64)
	char* win_name = (strrchr(argv[0], '\\') == NULL) ? argv[0] : (strrchr(argv[0], '\\') + 1);
#else // Unix, Linux, MacOS
	char* win_name = (strrchr(argv[0], '/') == NULL) ? argv[0] : (strrchr(argv[0], '/') + 1);
#endif
	// start GLFW & GLEW
	glfwInit();
	GLFWwindow* window = glfwCreateWindow(WIN_W, WIN_H, win_name, NULL/*full screenì—¬ë¶€*/, NULL);
#if 0 // Windowì˜ posë¥¼ ì§€ì •í•˜ê³  ì‹¶ë‹¤ë©´ ì—¬ê¸¸ í™œì„±í™” í•˜ì
	glfwSetWindowPos(window, WIN_X, WIN_Y);
#endif
	glfwMakeContextCurrent(window);
	glewInit();
	
	glfwSetWindowRefreshCallback(window, refreshFunc);
	glfwSetKeyCallback(window, keyFunc);
	glClearColor(clr[0], clr[1], clr[2], clr[3]);

	// main loop
	while (!glfwWindowShouldClose(window)) {
		
		glClear(GL_COLOR_BUFFER_BIT);
		glFinish();
		
		glfwSwapBuffers(window);
		glfwPollEvents();
	}
	// done
	glfwTerminate();
	return 0;
}
```