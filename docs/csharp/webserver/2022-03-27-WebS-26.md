---
layout: default
title: "26. Example - WebApi 2"
parent: (WebServer)
grand_parent: "(C#)"
nav_order: 3
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

{% raw %}

* [Get Code ğŸŒ](https://github.com/EasyCoding-7/AspNetTutorial/tree/26.Example.WebApi)

â˜• í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ì„œ DBì— ë°ì´í„°ë¥¼ ëª‡ê°œ ë„£ì–´ë³´ì.<br>
â˜• dbìš°í´ë¦­ -> ë°ì´í„° ë³´ê¸°

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/webserver/web-26-1.png"/>
</p>

â˜• **REST** ë¥¼ ë§Œë“¤ì–´ ë³´ì. (**REST** - ê¸°ì¡´ì˜ HTTPì—ì„œ ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•´ ë°ì´í„° ì†¡ìˆ˜ì‹  ê·œì¹™ì„ ë§Œë“  ê²ƒ)<br>
â˜• RESTì—ì„œëŠ” ë³´í†µ CREATE(POST) / READ(GET) / UPDATE(PUT) / DELETE(DELETE) ë¥¼ ì‚¬ìš©í•œë‹¤. <br>
â˜• ìš°ì„  Controllers/RankingController.cs ì¶”ê°€í•˜ì

```csharp
namespace WebAPI.Controllers
{
    [Route("api/[controller]")]
    [ApiController]
    public class RankingController : ControllerBase
    {
        ApplicationDbContext _context;

        public RankingController(ApplicationDbContext context)
        {
            _context = context;
        }

        // CREATE

        // READ
        [HttpGet]
        public List<GameResult> GetGameReults()
        {
            List<GameResult> results = _context.GameResults
                                        .OrderByDescending(item => item.Score)
                                        .ToList();

            // ì´ë ‡ê²Œ ë°˜í™˜í•´ë„ ë°›ëŠ”ìª½ì—ì„œ ìƒê´€ì—†ë‚˜ ì‹¶ì§€ë§Œ
            // ê·¸ëƒ¥ C# ê°ì²´ë¥¼ ë°˜í™˜í•´ë„ ìƒê´€ì—†ìŒ(ì•Œì•„ì„œ JSONìœ¼ë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤.)
            return results;
        }

        [HttpGet("{_id}")]
        public GameResult GetGameReults(int _id)
        {
            GameResult results = _context.GameResults
                                 .Where(item => item.Id == _id)
                                 .FirstOrDefault();

            return results;
        }

        // UPDATE

        // DELETE
    }
}
```

â˜• [POSTman](https://www.postman.com/)ì„ í†µí•´ì„œ ë””ë²„ê¹… í•´ë³´ì.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/webserver/web-26-2.png"/>
</p>

{% endraw %}
