---
layout: default
title: "3. Transform"
parent: Unity
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Asset ë‹¤ìš´ë¡œë“œ

ğŸ… Window -> Asset Store (ë²„ê·¸ê°€ ìˆì–´ì„œ chromeìœ¼ë¡œ ì ‘ì†ì„ ì¶”ì²œ)<br>
ğŸ… Unity-Chan! ë‹¤ìš´, Import(Art, Audio)<br>

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-3-1.png"/>
</p>

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-3-2.png"/>
</p>

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-3-3.png"/>
</p>

---

## Unity Chanì„ ì›€ì§ì—¬ ë³´ì.

```csharp
public class PlayerController : MonoBehaviour
{
    [SerializedField]       // privateìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ë‚˜ Unityì—ì„œëŠ” ìˆ˜ì •ì´ ê°€ëŠ¥.
    float _speed = 10.0f;

    void Start()
    {
        
    }

    void Update()
    {
        /*
        if (Input.GetKey(KeyCode.W))
            transform.position += new Vector3(0.0f, 0.0f, 1.0f) * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.S))
            transform.position -= new Vector3(0.0f, 0.0f, 1.0f) * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.A))
            transform.position += new Vector3(1.0f, 0.0f, 0.0f) * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.D))
            transform.position -= new Vector3(1.0f, 0.0f, 0.0f) * Time.deltaTime * _speed;
        */

        /*
        // ì½”ë“œ ê°€ë…ì„± ê°œì„ 
        if (Input.GetKey(KeyCode.W))
            transform.position += Vector3.forward * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.S))
            transform.position += Vector3.back * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.A))
            transform.position += Vector3.left * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.D))
            transform.position += Vector3.right * Time.deltaTime * _speed;
        */

        /*
        // ìºë¦­í„°ê°€ ë°”ë¼ë³´ëŠ” ë°©í–¥ì„ ê¸°ì¤€ìœ¼ë¡œ ìˆ˜ì •
        if (Input.GetKey(KeyCode.W))
            transform.position += transform.TransformDirection(Vector3.forward * Time.deltaTime * _speed);
        if (Input.GetKey(KeyCode.S))
            transform.position += transform.TransformDirection(Vector3.back * Time.deltaTime * _speed);
        if (Input.GetKey(KeyCode.A))
            transform.position += transform.TransformDirection(Vector3.left * Time.deltaTime * _speed);
        if (Input.GetKey(KeyCode.D))
            transform.position += transform.TransformDirection(Vector3.right * Time.deltaTime * _speed);
        */

        // ì½”ë“œ ê°„ê²°í™”
        if (Input.GetKey(KeyCode.W))
            transform.Translate(Vector3.forward * Time.deltaTime * _speed);
        if (Input.GetKey(KeyCode.S))
            transform.Translate(Vector3.back * Time.deltaTime * _speed);
        if (Input.GetKey(KeyCode.A))
            transform.Translate(Vector3.left * Time.deltaTime * _speed);
        if (Input.GetKey(KeyCode.D))
            transform.Translate(Vector3.right * Time.deltaTime * _speed);
    }
}
```

ğŸ… `x` ë¥¼ ëˆ„ë¥´ë©´ ìºë¦­í„°ê¸°ì¤€ ë°”ë¼ë³´ëŠ” ë°©í–¥ìœ¼ë¡œ ì¢Œí‘œê³„ë¥¼ ë³´ì—¬ì¤€ë‹¤.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-3-4.png"/>
</p>

---

## Unity Chanì„ íšŒì „ì‹œì¼œ ë³´ì.

```csharp
public class PlayerController : MonoBehaviour
{
    [SerializedField]       // privateìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ë‚˜ Unityì—ì„œëŠ” ìˆ˜ì •ì´ ê°€ëŠ¥.
    float _speed = 10.0f;
    float _yAngle = 0.0f;

    void Start()
    {
        
    }

    void Update()
    {
        /*
        // ì ˆëŒ€ íšŒì „ê°ë„ ì§€ì •
        _yAngle += Time.deltaTime * 100;
        transform.eulerAngles = new Vector3(0.0f, _yAngle, 0.0f);
        */

        /*
        // ì¶•ì„ ê¸°ì¤€ìœ¼ë¡œ ì–¼ë§Œí¼ íšŒì „ì„ í•˜ê² ë‹¤.
        _yAngle += Time.deltaTime * 100;
        transform.Rotate(new Vector3(0.0f, _yAngle, 0.0f));
        */

        // Quaternionìœ¼ë¡œ ì²˜ë¦¬ê°€ëŠ¥.
        _yAngle += Time.deltaTime * 100;
        transform.rotation = Quaternion.Euler(new Vector3(0.0f, _yAngle, 0.0f));

        if (Input.GetKey(KeyCode.W))
            transform.rotation = Quaternion.LookRotation(Vector3.forward);  // ë°”ë¼ë³´ëŠ” ë°©í–¥
        if (Input.GetKey(KeyCode.S))
            transform.rotation = Quaternion.LookRotation(Vector3.back);
        if (Input.GetKey(KeyCode.A))
            transform.rotation = Quaternion.LookRotation(Vector3.left);
        if (Input.GetKey(KeyCode.D))
            transform.rotation = Quaternion.LookRotation(Vector3.right);
    }
```

ì¢€ ë” ë¶€ë“œëŸ½ê²Œ íšŒì „í•˜ê²Œ í•´ë³´ì.

```csharp
if (Input.GetKey(KeyCode.W))
    transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.forward), 0.2f);
    transform.position += Vector3.forward * Time.deltaTime * _speed;
if (Input.GetKey(KeyCode.S))
    transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.back), 0.2f);
    transform.position += Vector3.back * Time.deltaTime * _speed;
if (Input.GetKey(KeyCode.A))
    transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.left), 0.2f);
    transform.position += Vector3.left * Time.deltaTime * _speed;
if (Input.GetKey(KeyCode.D))
    transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.right), 0.2f);
    transform.position += Vector3.right * Time.deltaTime * _speed;
```

---

## Input Manager

ğŸ… í‚¤ë³´ë“œ ì…ë ¥ì„ ë°›ëŠ” ë¶€ë¶„ì„ í•˜ë‚˜ë¡œ ëª¨ìœ¼ì.

```csharp
public class InputManager
{
    public Action KeyAction = null;
    public void OnUpdate()
    {
        if (Input.anyKey == false)
            return;

        if (KeyAction != null)
            KeyAction.Invoke();
    }
}
```

```csharp
public class Managers : MonoBehaviour
{
    static Managers Instance;
    public static Managers GetInstance() { Init(); return Instance; }

    InputManager _input = new InputManager();
    public static InputManager Input { get { return Instance._input; } }
    void Start()
    {
        
    }

    void Update()
    {
        _input.OnUpdate();
    }

    // ...
```

```csharp
public class Players : MonoBehaviour
{
    float _speed = 10.0f;

    void Start()
    {
        Managers.Input.KeyAction -= OnKeyboard; // í˜¹ì‹œë‚˜ ë‹¤ë¥¸ê³³ì—ì„œ += OnKeyboardì„ í–ˆì„ê¹Œë´ ë¯¸ë¦¬ ë¹¼ì¤Œ.

        // OnUpdateì´ í˜¸ì¶œì‹œ OnKeyboardë„ í˜¸ì¶œë˜ê²Œ Actionì²˜ë¦¬
        Managers.Input.KeyAction += OnKeyboard;
    }

    // ...

    void OnKeyboard()
    {
        if (Input.GetKey(KeyCode.W))
            transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.forward), 0.2f);
        transform.position += Vector3.forward * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.S))
            transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.back), 0.2f);
        transform.position += Vector3.back * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.A))
            transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.left), 0.2f);
        transform.position += Vector3.left * Time.deltaTime * _speed;
        if (Input.GetKey(KeyCode.D))
            transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.right), 0.2f);
        transform.position += Vector3.right * Time.deltaTime * _speed;
    }
```