---
layout: default
title: "7.3. ì†Œë©¸ ì´í™íŠ¸"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒ](https://github.com/EasyCoding-7/UnityPortfolio/tree/7.3.Destroy)

---

ğŸ¬ ëª¬ìŠ¤í„° ì‚¬ë§ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ì´ í•„ìš”í•˜ë‹¤<br>
ğŸ¬ **Tiny RPG Forest/Artwork/sprites/misc/enemy-death**ì˜ spriteì¤‘ í•˜ë‚˜ë¥¼ gameobjectì— ë„£ìœ¼ë©´ Sprite Rendererê°€ ë¶™ì€ Gameobjectê°€ í•˜ë‚˜ ìƒì„±ëœë‹¤.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity-adv/unity-adv-7-3-1.png"/>
</p>

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity-adv/unity-adv-7-3-2.png"/>
</p>

ğŸ¬ ìƒì„±í•œ DieEffect GameObjectì— Animator ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ë‚˜ ì¶”ê°€í•˜ê³ , Animator Controllerë¥¼ ì¶”ê°€í•œë‹¤.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity-adv/unity-adv-7-3-3.png"/>
</p>

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity-adv/unity-adv-7-3-4.png"/>
</p>

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity-adv/unity-adv-7-3-5.png"/>
</p>

```csharp
public class MonsterController : CreatureController
{
    // ...

	public override void OnDamanaged()
	{
		GameObject effect = Managers.Resource.Instantiate("Effect/DieEffect");
		effect.transform.position = transform.position;
		effect.GetComponent<Animator>().Play("START");

		GameObject.Destroy(effect, 0.5f);
		Managers.Object.Remove(gameObject);
		Managers.Resource.Destroy(gameObject);
	}
```

```csharp
public class ArrowController : CreatureController
{
    // ...

	protected override void UpdateIdle()
	{
		// ...

			State = CreatureState.Moving;
			if (Managers.Map.CanGo(destPos))
			{
				GameObject go = Managers.Object.Find(destPos);
				if (go == null)
				{
					CellPos = destPos;
				}
				else
                {
					CreatureController cc = go.GetComponent<CreatureController>();
					if(cc != null)
						cc.OnDamanaged();

					Debug.Log(go.name);
					Managers.Resource.Destroy(gameObject);
				}
			}
```