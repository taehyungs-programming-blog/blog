---
layout: default
title: "4. Prefab"
parent: Unity-ê¸°ì´ˆ
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Prefab

ğŸ† Sceneì—ì„œ objectë¥¼ ìƒˆë¡œ ë§Œë“¤ì–´ Projectì— ë„£ì.<br>
ğŸ† ì´ë ‡ê²Œ ì €ì¥ëœ objectë¥¼ prefabì´ë¼ í•œë‹¤.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-4-1.png"/>
</p>

ğŸ† prefabì„ ë”ë¸”í´ë¦­í•˜ë©´ í¸ì§‘í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-4-2.png"/>
</p>

ğŸ† Prefabë‚´ì— Prefabì„ ì¶”ê°€í• ìˆ˜ ìˆìŒ(Nested Prefab)

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-4-3.png"/>
</p>

---

## Resource Manager

ğŸ† ì½”ë“œë¡œ Prefabì„ ë§Œë“¤ì–´ ë³´ì.

```csharp
public class PrefabTestScripts : MonoBehaviour
{
    public GameObject prefab;

    void Start()
    {
        Object.Instantiate(prefab);
    }
}
```

ğŸ† Unityì—ì„œ ë‚´ê°€ ì›í•˜ëŠ” Prefabì¶”ê°€

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-4-4.png"/>
</p>

```csharp
public class PrefabTestScripts : MonoBehaviour
{
    public GameObject prefab;
    void Start()
    {
        var tank = Object.Instantiate(prefab);

        Destroy(tank, 3.0f/*3ì´ˆ í›„ ì‚­ì œ*/);
    }
}
```

ğŸ† Prefabì„ publicìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì‹«ë‹¤ë©´??

```csharp
public class PrefabTestScripts : MonoBehaviour
{
    GameObject prefab;
    
    void Start()
    {
        prefab = Resources.Load<GameOBject>("Prefabs/Tank");    // ë‹¨, ê²½ë¡œëŠ” Assests/Resources ì•„ë˜ ìˆì–´ì•¼í•¨.
        var tank = Object.Instantiate(prefab);

        Destroy(tank, 3.0f/*3ì´ˆ í›„ ì‚­ì œ*/);
    }
}
```

ğŸ† ì´ëŸ° Prefabì„ ResourceManagerë¥¼ í†µí•´ì„œ í•´ë³´ì.

```csharp
public class ResourceManager
{
    public T Load<T>(string path) where T : Object
    {
        return Resources.Load<T>(path);
    }

    public GameObject Instantiate(string path, Transform parent = null)
    {
        GameObject prefab = Load<GameObject>($"Prefabs/{path}");

        if(prefab == null)
        {
            Debug.Log($"Failed to load prefab : {path}");
            return null;
        }

        return Object.Instantiate(prefab, parent);
    }

    public void Destroy(GameObject go)
    {
        if (go == null)
            return;

        Object.Destroy(go);
    }
}
```

```csharp
public class Managers : MonoBehaviour
{
    static Managers Instance;
    public static Managers GetInstance() { Init(); return Instance; }

    InputManager _input = new InputManager();
    public static InputManager Input { get { return Instance._input; } }

    // ì „ì—­ì—ì„œ ê´€ë¦¬í•˜ê²Œ ë³€ê²½
    ResourceManager _resource = new ResourceManager();
    public static ResourceManager Resource { get { return Instance._resource; } }

    // ...
```

```csharp
var tank = Managers.Resource.Instantiate("Tank")
Destroy(tank);
```