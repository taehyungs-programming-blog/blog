---
layout: default
title: "15-5. CameraController"
parent: "15. FrameWork ì‚¬ìš©ë²• ì •ë¦¬"
grand_parent: Unity-ê¸°ì´ˆ
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒ](https://github.com/EasyCoding-7/unity_tutorials/tree/15.1)

```csharp
public class CameraController : MonoBehaviour
{
    [SerializeField]
    Define.CameraMode _mode = Define.CameraMode.QuarterView;

    [SerializeField]
    Vector3 _delta = new Vector3(0.0f, 6.0f, -5.0f);

    [SerializeField]
    GameObject _player = null;

    void Start()
    {
        
    }

    void LateUpdate()
    { 
        if (_mode == Define.CameraMode.QuarterView)
        {
            RaycastHit hit;
            if (Physics.Raycast(_player.transform.position,         // ìºë¦­í„°ì—ì„œ
                                _delta,                             // deltaë§Œí¼ Rayë¥¼ ê·¸ë¦¬ê³ 
                                out hit,                            // hitëëŠ”ì§€ í™•ì¸
                                _delta.magnitude/*ìµœëŒ€ê±°ë¦¬*/,       // ë‹¨, ìµœëŒ€ ê±°ë¦¬ëŠ” ì´ë§Œí¼
                                LayerMask.GetMask("Wall")))         // ë‹¨, Wall ì¼ ê²½ìš°ë§Œ ì²´í¬
            {
                float dist = (hit.point - _player.transform.position).magnitude * 0.8f;
                transform.position = _player.transform.position + _delta.normalized * dist;
            }
            else
            {
				transform.position = _player.transform.position + _delta;
				transform.LookAt(_player.transform);
			}
		}
    }

    public void SetQuarterView(Vector3 delta)
    {
        _mode = Define.CameraMode.QuarterView;
        _delta = delta;
    }
}
```

