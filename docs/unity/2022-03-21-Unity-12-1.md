---
layout: default
title: "12-1. Coroutine"
parent: "12. Coroutine"
grand_parent: Unity
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Coroutine ì´ë¡ 

```csharp
class CoroutineTest : IEnumerable
{
    public IEnumerator GetEnumerator()
    {
        yield return 1;
        yield return 2;
        yield return 3;
        yield return 4;
        yield return 5;

        // ì¢…ë£Œê´€ë ¨
        yield return null;  // ë§Œì•½ì— ì•„ë¬´ê²ƒë„ ì•ˆë„˜ê¸°ê³  ì‹¶ë‹¤ë©´ nullë¡œ ë¦¬í„´í•˜ì
        yield break;        // ì§„ì§œë¡œ ì¢…ë£Œí•˜ê³ ì í•œë‹¤ë©´ breakí•˜ì.
    }
}

CoroutineTest test = new CoroutineTest();
foreach(var t in test)
{
    Debug.Log(t);
    // 1, 2, 3, 4, 5 ì¶œë ¥ ë¨.
    // ìˆœì°¨ì ìœ¼ë¡œ ì¶œë ¥ë¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.
}
```

```csharp
class Test
{
    public int Id = 0;
}

class CoroutineTest : IEnumerable
{
    public IEnumerator GetEnumerator()
    {
        yield return new Test() {Id = 1};
        yield return new Test() {Id = 2};
        yield return new Test() {Id = 3};
        yield return new Test() {Id = 4};
        yield return new Test() {Id = 5};
    }
}

CoroutineTest test = new CoroutineTest();
foreach(var t in test)
{
    // objectë¡œ ë°›ì„ìˆ˜ ìˆìŒ
    int value = ((Test)t).Id;
    Debug.Log(value);
}
```

---

## Coroutine Example

ğŸ¥— 4ì´ˆ í›„ í­íŒŒí•˜ëŠ” ìŠ¤í‚¬ì´ ìˆë‹¤ê³  ê°€ì •í•˜ì.

```csharp
float deltaTime = 0;
void ExplodeAfter4Seconds()
{
    deltaTime += Time.deltaTime;
    if(deltaTime >= 4)
    {
        // ...
    }
}
```

ğŸ¥— í‹±ë§ˆë‹¤ ì²´í¬í•˜ë©´ ë êº¼ ê°™ì€ë°... ë§Œì•½ ì´ ìŠ¤í‚¬ì„ ì“°ëŠ” ê°ì²´ê°€ 1000ê°œë¼ë©´?? 10000ê°œë¼ë©´ ??? ì—„ì²­ë‚œ ë¶€í•˜ì´ë‹¤.

```csharp
Coroutine co = StartCoroutine("ExplodeAfterSceconds", 4.0f);
// StopCoroutine(co);   // ì·¨ì†Œí•˜ê³ ì í•œë‹¤ë©´?

IEnumerator ExplodeAfterSceconds(float seconds)
{
    Debug.Log("ExplodeAfterSceconds - Enter");
    yield return new WaitForSeconds(seconds);
    Debug.Log("ExplodeAfterSceconds - Start");
}
```