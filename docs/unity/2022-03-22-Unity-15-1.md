---
layout: default
title: "15-1. Unity ê¸°ë³¸ê¸° ë‹¤ì‹œ ë³´ê¸°"
parent: "15. FrameWork ì‚¬ìš©ë²• ì •ë¦¬"
grand_parent: Unity
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒ](https://github.com/EasyCoding-7/unity_tutorials/tree/15.1)

---

## `transform.Rotate()` ì¨ë³´ê¸°

```csharp
public class PlayerController : MonoBehaviour
{
    // ...

	void Update()
    {
		// ...

        // ì—…ë°ì´íŠ¸ë§ˆë‹¤ ê°ì„ ëŒë¦°ë‹¤.
		transform.Rotate(new Vector3(1.0f, 1.0f, 1.0f));
	}
```

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-15-1-1.gif"/>
</p>

---

## GameObject ê²€ìƒ‰

```csharp
// @Managerë¼ëŠ” Componentê°€ ìˆë‹¤ë©´ ê²€ìƒ‰ì´ ëœë‹¤.
GameObject o = GameObject.Find("@Manager");
Manager m = o.GetComponent<Manager>();
```

---

## Singleton êµ¬í˜„

```csharp
public class Managers : MonoBehaviour
{
    // ë§¤ë‹ˆì € ìì²´ë¥¼ Singletoní™” í•œë‹¤.
    static Managers s_instance;
    static Managers Instance { get { Init(); return s_instance; } }

    // ...

    DataManager _data = new DataManager();
    public static DataManager Data { get { return Instance._data; } }

    // ...

    static void Init()
    {
        if (s_instance == null)
        {
			GameObject go = GameObject.Find("@Managers");
            if (go == null)
            {
                go = new GameObject { name = "@Managers" };
                go.AddComponent<Managers>();
            }

            DontDestroyOnLoad(go);
            s_instance = go.GetComponent<Managers>();
        }		
	}
```

---

## í‚¤ë³´ë“œ ì…ë ¥ ë°›ê¸°

```csharp
void Update()
{
    // ...

    // ìºë¦­í„°ê°€ ë°”ë¼ë³´ëŠ” ê¸°ì¤€ ì •í™•íˆ ìœ„ì¹˜ë§Œ ì´ë™
    if (Input.GetKey(KeyCode.W))
        transform.Translate(Vector3.forward * Time.deltaTime * _speed);
    if (Input.GetKey(KeyCode.S))
        transform.Translate(Vector3.back * Time.deltaTime * _speed);
    if (Input.GetKey(KeyCode.A))
        transform.Translate(Vector3.left * Time.deltaTime * _speed);
    if (Input.GetKey(KeyCode.D))
        transform.Translate(Vector3.right * Time.deltaTime * _speed);
```

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-15-1-2.gif"/>
</p>

```csharp
void Update()
{
    // ...

    // ì¹´ë©”ë¼ ê¸°ì¤€ìœ¼ë¡œ ìºë¦­í„°ì˜ í—¤ë”©ì„ ì´ë™
    if (Input.GetKey(KeyCode.W))
        transform.rotation = Quaternion.LookRotation(Vector3.forward);
    if (Input.GetKey(KeyCode.S))
        transform.rotation = Quaternion.LookRotation(Vector3.back);
    if (Input.GetKey(KeyCode.A))
        transform.rotation = Quaternion.LookRotation(Vector3.left);
    if (Input.GetKey(KeyCode.D))
        transform.rotation = Quaternion.LookRotation(Vector3.right);
```

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-15-1-3.gif"/>
</p>

```csharp
void Update()
{
    // ...

    // ì¡°ê¸ˆ ë” ë¶€ë“œëŸ½ê²Œ ì›€ì§ì´ê²Œ í•´ë³´ì.
    if (Input.GetKey(KeyCode.W))
        transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.forward), 0.2f);
    transform.position += Vector3.forward * Time.deltaTime * _speed;
    if (Input.GetKey(KeyCode.S))
        transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.back), 0.2f);
    transform.position += Vector3.back * Time.deltaTime * _speed;
    if (Input.GetKey(KeyCode.A))
        transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.left), 0.2f);
    transform.position += Vector3.left * Time.deltaTime * _speed;
    if (Input.GetKey(KeyCode.D))
        transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.LookRotation(Vector3.right), 0.2f);
    transform.position += Vector3.right * Time.deltaTime * _speed;
```

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-15-1-4.gif"/>
</p>

---

## ì¶©ëŒ

ğŸ¥¨ ì¶©ëŒê³¼ ê´€ë ¨ëœ ì‚¬í•­ì€ Rigidbody, Capsule/Mesh Colliderê°€ ìˆëŠ”ë°<br>
ğŸ¥¨ RigidbodyëŠ” ë¬¼ë¦¬ì—”ì§€ ê´€ë ¨<br>
ğŸ¥¨ ColliderëŠ” ì¶©ëŒê´€ë ¨ ì»´í¬ë„ŒíŠ¸ë¼ ìƒê°í•˜ì.

```csharp
// ì¶©ëŒì—¬ë¶€ í™•ì¸ ë°©ë²•

public class TestCollision : MonoBehaviour
{
    /*
        OnCollisionEnter ì¡°ê±´
            * ë‚˜í•œí…Œ RigidBody ìˆìŒ (ë‹¨, IsKinematic Off)
            * ë‚˜í•œí…Œ Collider ìˆìŒ (ë‹¨, IsTrigger Off)
            * ìƒëŒ€ì—ê²Œ Collider ìˆìŒ (ë‹¨, IsTrigger Off)
    */
    private void OnCollisionEnter(Collision collision)  // collision : ë‚˜ë‘ Collsionëœ objectì˜ ì •ë³´ê°€ ë“¤ì–´ê°„ë‹¤.
    {
        Debug.Log($"Collision @ {collision.gameObject.name}");
    }

    /*
        OnTriggerEnter ì¡°ê±´
            * ë‘˜ ë‹¤ Collider ìˆìŒ
            * ë‘˜ ì¤‘ í•˜ë‚˜ IsTrigger On
            * ë‘˜ ì¤‘ í•˜ë‚˜ RigidBody ìˆìŒ
    */
    private void OnTriggerEnter(Collider other)
    {
        Debug.Log("Trigger");
    }
```

---

## RayCast ì²˜ë¦¬

```csharp
public class TestCollision : MonoBehaviour
{
    // ...

    void Update()
    {
        // RayCast ê·¸ë ¤ë³´ê¸°
            // playerê°€ ë°”ë¼ë³´ëŠ” ì¢Œí‘œë¥¼ worldì¢Œí‘œê³„ë¡œ ì „í™˜
        Vector3 look = transform.TransformDirection(Vector3.forward);
        Debug.DrawRay(transform.position, look, Color.red);
        

        // ìºë¦­í„° ì•ìœ¼ë¡œ RayCastê·¸ë ¤ì„œ hitì—¬ë¶€ ì²´í¬
        RaycastHit hit;
        if (Physics.Raycast(transform.position, Vector3.forward, out hit ,10))
        {
            Debug.Log($"RayCast {hit.collider.gameObject.name}")
        }

        // Raycastì— ë§ëŠ” ì˜¤ë¸Œì íŠ¸ê°€ ì—¬ëŸ¬ê°œ ì¼ì‹œ
        RaycastHit[] hit;
        hit = Physics.RaycastAll(transform.position, Vector3.forward, out hit ,10)
        foreach(RaycastHit h in hit)
        {
            Debug.Log($"RayCast {h.collider.gameObject.name}")
        }
    }

    // ...
```

---




