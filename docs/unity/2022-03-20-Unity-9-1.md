---
layout: default
title: "9-1. Scene Manager"
parent: "9. Scene"
grand_parent: Unity
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code 🌍](https://github.com/EasyCoding-7/unity_tutorials/tree/9.1.1)

👽 현재는 모든 초기화를 PlayerController에서 하고있는데 매번 Player가 있을꺼라는 보장도 없고 Scene 자체에서 하는게 맞다.<br>
👽 그럼 Scene으로 초기화를 할텐데, Scene에서 Scene으로 이동하는 법은? <br>

```csharp
public abstract class BaseScene : MonoBehaviour
{
    public Define.Scene SceneType { get; protected set; } = Define.Scene.Unkown;

    void Start()
    {
        
    }

    protected virtual void Init()
    {

    }

    public abstract void Clear();
}
```

```csharp
public class GameScene : BaseScene
{
    // Start is called before the first frame update
    void Start()
    {
        Init();
    }

    protected override void Init()
    {
        base.Init();

        SceneType = Define.Scene.Game;

        // 이제 UI는 GameScene에서 불러온다.
        Managers.UI.ShowSceneUI<UI_Inven>();
    }

    public override void Clear()
    {

    }
}
```

👽 새로운 Scene을 만들어 보자.<br>
👽 File -> New Scene -> Login Scene 생성<br>
👽 새로운 Scene을 만들어 보면 EventSystem이 없는데 이러면 UI 이벤트 처리를 할 수 없다. -> EventSystem을 만들게 변경하자

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-9-1-1.png"/>
</p>

```csharp
public abstract class BaseScene : MonoBehaviour
{
    // ...

    protected virtual void Init()
    {
        // EvnetSystem을 찾고 없다면 Prefab으로 만들어둔 EventSystem 사용
        Object obj = GameObject.FindObjectOfType(typeof(EventSystem));
        if (obj == null)
            Managers.Resource.Instantiate("UI/EventSystem").name = "@EventSystem";
    }
```

---


