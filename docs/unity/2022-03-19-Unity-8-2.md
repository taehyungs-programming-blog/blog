---
layout: default
title: "8-2. Button Event"
parent: "8. UI"
grand_parent: Unity
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒ](https://github.com/EasyCoding-7/unity_tutorials/tree/8.2)

ğŸ Buttonì„ í´ë¦­ì‹œ Textë¥¼ ë³€ê²½ë˜ê²Œ í•´ë³´ì.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-8-2-1.png"/>
</p>

ğŸ Buttonì˜ Inspectorì— ê°€ë³´ë©´ On Click()ì´ë¼ê³  ìˆë‹¤.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-8-2-2.png"/>
</p>

ğŸ UI_Button C# Scriptë¥¼ ë§Œë“¤ì–´ì„œ OnClick Eventë¥¼ ë°›ë„ë¡ í•´ë³´ì<br>
ğŸ UI Canvasì—­ì‹œ Prefabìœ¼ë¡œ ì €ì¥í•˜ê³  í•„ìš”í• ë•Œë§ˆë‹¤ ì €ì¥ëœ Prefabì„ ê°€ì ¸ì˜¤ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.<br>
ğŸ í˜„ì¬ êµ¬í˜„ëœ UI Canvasë„ Prefabìœ¼ë¡œ ë§Œë“¤ì–´ ë³´ì.

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-8-2-3.png"/>
</p>

ğŸ On Clickì„ objectë¥¼ UI_Button Canvasë¡œ ì§€ì •í•˜ê³ 

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-8-2-4.png"/>
</p>

ğŸ On Clickì„ ë°›ì•„ì¤„ Scriptë¥¼ ì‘ì„±í•˜ì

```csharp
public class UI_Button : MonoBehaviour
{
    public void OnButtonClicked()
    {
        Debug.Log("ButtonClicked");
    }
}
```

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-8-2-5.png"/>
</p>

ğŸ Button í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë°›ëŠ” ê²½ìš°ëŠ” Button ì´ë²¤íŠ¸ë§Œ ì²˜ë¦¬í•˜ì§€ ìºë¦­ì˜ ë™ì‘ì€ ì•ˆë˜ê²Œ ë°”ê¿”ë†”ì•¼í•œë‹¤.

```csharp
public class InputManager
{
    public Action KeyAction = null;
    public Action<Define.MouseEvent> MouseAction = null;

    bool _pressed = false;

    public void OnUpdate()
    {
        // UI ê°€ í´ë¦­ë˜ì—ˆëŠ”ì§€ í™•ì¸
        if (EventSystem.current.IsPointerOverGameObject())
            return;

        // ...
```

ğŸ ì´ì œ Textë¥¼ ì—…ë°ì´íŠ¸ ì‹œì¼œë³´ì.

```csharp
public class UI_Button : MonoBehaviour
{
    [SerializeField]
    Text _text;

    int _score = 0;

    public void OnButtonClicked()
    {
        // Debug.Log("ButtonClicked");

        _score++;
        _text.text = $"ì ìˆ˜ : {_score}";
    }
}
```

ğŸ ì´ì œ `_text`ë¥¼ UI Textì— ì—°ê²°ì‹œí‚¤ì

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/csharp/unity/unity-8-2-6.png"/>
</p>

---

### UI Canvas ìì²´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì„ í•´ë³´ì.

```csharp
public class PlayerController : MonoBehaviour
{
    [SerializeField]
    float _speed = 10.0f;

	Vector3 _destPos;

    void Start()
    {
		Managers.Input.MouseAction -= OnMouseClicked;
		Managers.Input.MouseAction += OnMouseClicked;

        // ì‹œì‘ê³¼ ë™ì‹œì— UIë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.
		Managers.Resource.Instantiate("UI/UI_Button");
	}

    // ...
```

---

ğŸ ê°œì„ ì‚¬í•­ì´ ëª‡ ê°€ì§€ ìˆë‹¤.<br>
    ğŸ UIë¥¼ Unity Toolë¡œ í•˜ë‚˜í•˜ë‚˜ ì—°ê²°í•˜ëŠ” ê²ƒì€ ë„ˆë¬´ í° ì¼ì´ë‹¤. <br>
    ğŸ **ìë™í™”(UI Manager)**ê°€ í•„ìš”í•´ ë³´ì¸ë‹¤. <br>

    