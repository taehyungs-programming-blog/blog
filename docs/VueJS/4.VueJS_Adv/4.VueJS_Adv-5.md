---
layout: default
title: "5. Router 2"
parent: "(Vue.JS ê³ ê¸‰)"
grand_parent: "Vue.JS"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

{% raw %}

ğŸ¥¨ ì¢€ ê¹Œë¨¹ì€ê±° ê°™ì•„ì„œ ë‹¤ì‹œ ì •ë¦¬

* [ì°¸ê³  ğŸŒ](https://taehyungs-programming-blog.github.io/blog/docs/VueJS/2.VueJS_InterM/VueJS.InterM-7/)

* **state** - ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì— ê³µìœ ë˜ëŠ” ë°ì´í„°
* **getters** - ì—°ì‚°ëœ stateì— ì ‘ê·¼
* **mutations** - stateë¥¼ ë³€ê²½í•˜ëŠ” ì´ë²¤íŠ¸/ë§¤ì„œë“œ
* **actions** - ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ ì„ ì–¸ ë§¤ì„œë“œ

---

* [Get Code ğŸŒ](https://github.com/EasyCoding-7/vue3.0-adv-tutorial/tree/router3)

ğŸ¥¨ ì•„ì´ì½˜ ì“¸ ì¤€ë¹„ `public\index.html`

```html
<!DOCTYPE html>
<html lang="">
  <head>
    <!-- ... -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt"
    crossorigin="anonymous">
    <title><%= htmlWebpackPlugin.options.title %></title>
<!-- ... -->
```

ğŸ¥¨ idì— ë”°ë¼ì„œ ë¼ìš°íŒ…ì´ ë˜ê²Œ ë¼ìš°í„° ìˆ˜ì • `routers/index.js`

```js
// ...

export const router = createRouter({
  history: createWebHistory(),
  routes: [
    // ...
    {
      path: '/item/:id',
      component: ItemView,
    },
    {
      path: '/user/:id',
      component: UserView,
    }
  ]
})
```

---

## action ì¶”ê°€

```js
  export default {
    // ...
    
    FETCH_USER({ commit }, userId) {
        // storeì— ì—°ê²°ì´ ë˜ê²Œ ëœë‹¤.
      return fetchUser(userId).then(res => commit('SET_USER', res.data));
    },
    FETCH_ITEM({ commit }, itemId) {
      return fetchItem(itemId).then(res => commit('SET_ITEM', res.data));
    },
```

```vue
<template>
  <div>
    <p>id : {{ fetchedUser.id }}</p>
    <p>karma : {{ fetchedUser.karma }}</p>
    <p>joined : {{ fetchedUser.created }}</p>
  </div>
</template>

<script>
import { mapGetters } from 'vuex';

export default {
  created() {
      // ë¼ìš°í„°ë¡œ ë¶€í„° idê°’ì„ ë°›ê³ 
    const userId = this.$route.params.id;
    // FETCH_USERë¡œ idë¥¼ ë³´ë‚¸ë‹¤
    this.$store.dispatch('FETCH_USER', userId);
  },
  computed: {
      // fetchedUserë¥¼ ì“°ê² ë‹¤ê³  ì•Œë¦°ë‹¤
    ...mapGetters(['fetchedUser']),
  },
}
</script>
```

---

## getters

```js
export default {
    fetchedItem(state) {
        return state.item;
      },
      fetchedUser(state) {
        return state.user;
      }
}
```

---

## mutations

```js
export default {
  
    //...
    SET_USER(state, user) {
      state.user = user;
    },
    SET_ITEM(state, item) {
      state.item = item;
    },
  }
```

{% endraw %}