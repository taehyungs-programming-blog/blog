---
layout: default
title: "10. Refactoring 5"
parent: "(Vue.JS ê³ ê¸‰)"
grand_parent: "Vue.JS"
nav_order: 2
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

{% raw %}

* [Get Code ğŸŒ](https://github.com/EasyCoding-7/vue3.0-adv-tutorial/tree/refactoring5)

ğŸŸ busë¥¼ í™œìš©í•œ ê° ì»´í¬ë„ŒíŠ¸ì˜ ì½”ë“œì •ë¦¬ë¥¼ ì¡°ê¸ˆ í•´ë³´ì.<br>
ğŸŸ ë‹¨, vue3ë¶€í„°ëŠ” event busë³´ë‹¤ **mitt**ë¥¼ ì“°ëŠ”ê²ƒì„ ì¶”ì²œ

```bash
$ npm i mitt@next --save
```

```vue
<template>
  <div id="app">
    <progress-bar :loading="loading"></progress-bar>
    <tool-bar></tool-bar>
    <transition name="routing-fade" mode="out-in">
      <router-view></router-view>
    </transition>
  </div>
</template>

<script>
import ToolBar from './components/ToolBar.vue'
import ProgressBar from './components/ProgressBar.vue';

export default {
  components: {
    ToolBar,
    ProgressBar
  },
  data() {
    return {
      loading: true,
    }
  },
  methods: {
    onProgress() {
      this.loading = true;
    },
    offProgress() {
      this.loading = false;
    }
  },
  created() {
    this.emitter.on("on:progress", this.onProgress);
    this.emitter.on("off:progress", this.offProgress);
  }
}
```

{% endraw %}