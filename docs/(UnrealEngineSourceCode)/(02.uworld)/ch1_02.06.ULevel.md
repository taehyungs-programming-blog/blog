---
layout: default
title: "02-06. ULevel"
parent: "(02. CreateWorld)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
/**
 * the level object:
 * contains the level's actor list, BSP information, and brush list
 * every level has a World as its Outer and can be used as the PersistentLevel, however,
 * when a Level has been streamed in the OwningWorld represents the World that it is a part of 
 */
/**
 * ë ˆë²¨ ê°ì²´:
 * ë ˆë²¨ì˜ ì•¡í„° ëª©ë¡, BSP ì •ë³´, ë¸ŒëŸ¬ì‹œ ëª©ë¡ì„ í¬í•¨í•©ë‹ˆë‹¤
 * ëª¨ë“  ë ˆë²¨ì€ Worldë¥¼ Outerë¡œ ê°€ì§€ë©° PersistentLevelë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜
 * ë ˆë²¨ì´ ìŠ¤íŠ¸ë¦¬ë°ë˜ë©´ OwningWorldëŠ” í•´ë‹¹ ë ˆë²¨ì´ ì†í•œ Worldë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤
 */

/**
 * a level is a collection of Actors (lights, volumes, mesh instances etc)
 * multiple levels can be loaded and unloaded into the World to create a streaming experience 
 */
/**
 * ë ˆë²¨ì€ ì•¡í„°ë“¤ì˜ ëª¨ìŒì…ë‹ˆë‹¤ (ì¡°ëª…, ë³¼ë¥¨, ë©”ì‹œ ì¸ìŠ¤í„´ìŠ¤ ë“±)
 * ì—¬ëŸ¬ ë ˆë²¨ì„ Worldì— ë¡œë“œí•˜ê³  ì–¸ë¡œë“œí•˜ì—¬ ìŠ¤íŠ¸ë¦¬ë° ê²½í—˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤
 */


// Level?
// - level == collection of actors:
//   - examples of actors:
//     - light, static-mesh, volume, brush(e.g. BSP brush: binary-search-partitioning), ...
//       [ ] explain BSP brush with the editor
// - rest of content will be skipped for now:
//   - when we cover different topics like world-partition, streaming etc, we will visit it again

// ë ˆë²¨ì´ë€?
// - ë ˆë²¨ == ì•¡í„°ë“¤ì˜ ëª¨ìŒ:
//   - ì•¡í„°ì˜ ì˜ˆì‹œ:
//     - ì¡°ëª…, ì •ì  ë©”ì‹œ, ë³¼ë¥¨, ë¸ŒëŸ¬ì‹œ(ì˜ˆ: BSP ë¸ŒëŸ¬ì‹œ: ì´ì§„ ê³µê°„ ë¶„í• ), ...
//       [ ] ì—ë””í„°ë¡œ BSP ë¸ŒëŸ¬ì‹œ ì„¤ëª…í•˜ê¸°
// - ë‚˜ë¨¸ì§€ ë‚´ìš©ì€ ì§€ê¸ˆì€ ê±´ë„ˆëœë‹ˆë‹¤:
//   - ì›”ë“œ íŒŒí‹°ì…˜, ìŠ¤íŠ¸ë¦¬ë° ë“±ì˜ ì£¼ì œë¥¼ ë‹¤ë£° ë•Œ ë‹¤ì‹œ ì‚´í´ë³¼ ê²ƒì…ë‹ˆë‹¤
class ULevel : public UObject
```

* ë³€ìˆ˜ í™•ì¸

```cpp
    /** array of all actors in this level, used by FActorIteratorBase and derived classes */
    // ì´ ë ˆë²¨ì˜ ëª¨ë“  ì•¡í„° ë°°ì—´ë¡œ, FActorIteratorBaseì™€ íŒŒìƒ í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©ë¨
    TArray<TObjectPtr<AActor>> Actors;

    /** cached level collection that this level is contained in */
    // ì´ ë ˆë²¨ì´ í¬í•¨ëœ ìºì‹œëœ ë ˆë²¨ ì»¬ë ‰ì…˜
    FLevelCollection* CachedLevelCollection;

    /**
     * the world that has this level in its Levels array
     * this is not the same as GetOuter(), because GetOuter() for a streaming level is a vestigial world that is not used
     * it should not be accessed during BeginDestroy(), just like any other UObject references, since GC may occur in any order
     */
    /**
     * ì´ ë ˆë²¨ì„ Levels ë°°ì—´ì— ê°€ì§€ê³  ìˆëŠ” ì›”ë“œ
     * ìŠ¤íŠ¸ë¦¬ë° ë ˆë²¨ì˜ ê²½ìš° GetOuter()ì™€ ë‹¤ë¦„. GetOuter()ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì”ì¡´ ì›”ë“œì´ê¸° ë•Œë¬¸
     * BeginDestroy() ì¤‘ì—ëŠ” ë‹¤ë¥¸ UObject ì°¸ì¡°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì ‘ê·¼í•˜ë©´ ì•ˆ ë¨. GCê°€ ì–´ë–¤ ìˆœì„œë¡œë“  ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸
     */
    TObjectPtr<UWorld> OwningWorld;

    enum class EIncrementalComponentState : uint8
    {
        Init,
        RegisterInitialComponents,
#if WITH_EDITOR || 1
        RunConstructionScripts,
#endif
        Finalize,
    };

    /** the current stage for incrementally updating actor components in the level */
    // ë ˆë²¨ì—ì„œ ì•¡í„° ì»´í¬ë„ŒíŠ¸ë¥¼ ì ì§„ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” í˜„ì¬ ë‹¨ê³„
    EIncrementalComponentState IncrementalComponentState;

    /** whether the actor referenced by CurrentActorIndexForUpdateComponents has called PreRegisterAllComponents */
    // CurrentActorIndexForUpdateComponentsê°€ ì°¸ì¡°í•˜ëŠ” ì•¡í„°ê°€ PreRegisterAllComponentsë¥¼ í˜¸ì¶œí–ˆëŠ”ì§€ ì—¬ë¶€
    uint8 bHasCurrentActorCalledPreRegister : 1;

    /** whether components are currently registered or not */
    // í˜„ì¬ ì»´í¬ë„ŒíŠ¸ê°€ ë“±ë¡ë˜ì–´ ìˆëŠ”ì§€ ì—¬ë¶€
    uint8 bAreComponentsCurrentlyRegistered : 1;

    /** current index into actors array for updating components */
    // ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì•¡í„° ë°°ì—´ì˜ í˜„ì¬ ì¸ë±ìŠ¤
    int32 CurrentActorIndexForIncrementalUpdate;

    /** data structures for holding the tick functions */
    // í‹± í•¨ìˆ˜ë¥¼ ë³´ìœ í•˜ëŠ” ë°ì´í„° êµ¬ì¡°
    FTickTaskLevel* TickTaskLevel;
};
```