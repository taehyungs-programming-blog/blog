---
layout: default
title: "02-04. Actorì— ê´€í•˜ì—¬"
parent: "(02. CreateWorld)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Actorì— ê´€í•˜ì—¬

```cpp
// ActorëŠ” ë ˆë²¨ì— ë°°ì¹˜ë˜ê±°ë‚˜ ìŠ¤í°ë  ìˆ˜ ìˆëŠ” ê°ì²´ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
// ActorëŠ” ActorComponentì˜ ì»¬ë ‰ì…˜ì„ í¬í•¨í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ì•¡í„°ì˜ ì´ë™, ë Œë”ë§ ë“±ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// Actorì˜ ë˜ ë‹¤ë¥¸ ì£¼ìš” ê¸°ëŠ¥ì€ ê²Œì„ í”Œë ˆì´ ì¤‘ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•œ ì†ì„± ë° í•¨ìˆ˜ í˜¸ì¶œì˜ ë³µì œì…ë‹ˆë‹¤.
// 
// Actor ì´ˆê¸°í™”ëŠ” ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§€ë©°, ë‹¤ìŒì€ í˜¸ì¶œë˜ëŠ” ì¤‘ìš”í•œ ê°€ìƒ í•¨ìˆ˜ë“¤ì˜ ìˆœì„œì…ë‹ˆë‹¤:
// - UObject::PostLoad:
//     ë ˆë²¨ì— ì •ì ìœ¼ë¡œ ë°°ì¹˜ëœ ì•¡í„°ì˜ ê²½ìš°, ì¼ë°˜ UObject PostLoadê°€ ì—ë””í„°ì™€ ê²Œì„í”Œë ˆì´ ëª¨ë‘ì—ì„œ í˜¸ì¶œë©ë‹ˆë‹¤.
//     ìƒˆë¡œ ìŠ¤í°ëœ ì•¡í„°ì— ëŒ€í•´ì„œëŠ” í˜¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
// 
// - UActorComponent::OnComponentCreated:
//     ì•¡í„°ê°€ ì—ë””í„°ë‚˜ ê²Œì„í”Œë ˆì´ ì¤‘ì— ìŠ¤í°ë  ë•Œ, ëª¨ë“  ë„¤ì´í‹°ë¸Œ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ í˜¸ì¶œë©ë‹ˆë‹¤.
//     ë¸”ë£¨í”„ë¦°íŠ¸ë¡œ ìƒì„±ëœ ì»´í¬ë„ŒíŠ¸ì˜ ê²½ìš°, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„± ì¤‘ì— í˜¸ì¶œë©ë‹ˆë‹¤.
//     ë ˆë²¨ì—ì„œ ë¡œë“œëœ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ì„œëŠ” í˜¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
// 
// - AActor::PreRegisterAllComponents:
//     ì •ì ìœ¼ë¡œ ë°°ì¹˜ëœ ì•¡í„°ì™€ ë„¤ì´í‹°ë¸Œ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ìˆëŠ” ìŠ¤í°ëœ ì•¡í„°ì˜ ê²½ìš° ì§€ê¸ˆ í˜¸ì¶œë©ë‹ˆë‹¤.
//     ë„¤ì´í‹°ë¸Œ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ì—†ëŠ” ë¸”ë£¨í”„ë¦°íŠ¸ ì•¡í„°ì˜ ê²½ìš°, ì´ëŸ¬í•œ ë“±ë¡ í•¨ìˆ˜ë“¤ì€ ë‚˜ì¤‘ì— ìƒì„± ì¤‘ì— í˜¸ì¶œë©ë‹ˆë‹¤.
// 
// - UActorComponent::RegisterComponent:
//     ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ì—ë””í„°ì™€ ëŸ°íƒ€ì„ì— ë“±ë¡ë˜ë©°, ì´ëŠ” ë¬¼ë¦¬ì /ì‹œê°ì  í‘œí˜„ì„ ìƒì„±í•©ë‹ˆë‹¤.
//     ì´ í˜¸ì¶œì€ ì—¬ëŸ¬ í”„ë ˆì„ì— ê±¸ì³ ë¶„ì‚°ë  ìˆ˜ ìˆì§€ë§Œ, í•­ìƒ PreRegisterAllComponents ì´í›„ì— ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.
// 
// - AActor::PostRegisterAllComponents:
//     ì—ë””í„°ì™€ ê²Œì„í”Œë ˆì´ ëª¨ë‘ì—ì„œ ëª¨ë“  ì•¡í„°ì— ëŒ€í•´ í˜¸ì¶œë˜ë©°, ëª¨ë“  ê²½ìš°ì— ë§ˆì§€ë§‰ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
// 
// - AActor::PostActorCreated:
//     ì•¡í„°ê°€ ì—ë””í„°ë‚˜ ê²Œì„í”Œë ˆì´ ì¤‘ì— ìƒì„±ë  ë•Œ, ìƒì„± ì§ì „ì— í˜¸ì¶œë©ë‹ˆë‹¤.
//     ë ˆë²¨ì—ì„œ ë¡œë“œëœ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ì„œëŠ” í˜¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
// 
// - AActor::UserConstructionScript:
//     ìƒì„± ìŠ¤í¬ë¦½íŠ¸ë¥¼ êµ¬í˜„í•œ ë¸”ë£¨í”„ë¦°íŠ¸ì— ëŒ€í•´ í˜¸ì¶œë©ë‹ˆë‹¤.
// 
// - AActor::OnConstruction:
//     ExecuteConstructionì˜ ëì—ì„œ í˜¸ì¶œë˜ë©°, ì´ëŠ” ë¸”ë£¨í”„ë¦°íŠ¸ ìƒì„± ìŠ¤í¬ë¦½íŠ¸ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
//     ëª¨ë“  ë¸”ë£¨í”„ë¦°íŠ¸ë¡œ ìƒì„±ëœ ì»´í¬ë„ŒíŠ¸ê°€ ì™„ì „íˆ ìƒì„±ë˜ê³  ë“±ë¡ëœ í›„ì— í˜¸ì¶œë©ë‹ˆë‹¤.
//     ê²Œì„í”Œë ˆì´ ì¤‘ ìŠ¤í°ëœ ì•¡í„°ì— ëŒ€í•´ì„œë§Œ í˜¸ì¶œë˜ë©°, ì—ë””í„°ì—ì„œ ë¸”ë£¨í”„ë¦°íŠ¸ë¥¼ ë³€ê²½í•  ë•Œ ë‹¤ì‹œ ì‹¤í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// 
// - AActor::PreInitializeComponents:
//     ì•¡í„°ì˜ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ InitializeComponentê°€ í˜¸ì¶œë˜ê¸° ì „ì— í˜¸ì¶œë©ë‹ˆë‹¤.
//     ê²Œì„í”Œë ˆì´ ì¤‘ê³¼ íŠ¹ì • ì—ë””í„° í”„ë¦¬ë·° ì°½ì—ì„œë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.
// 
// - UActorComponent::Activate:
//     ì»´í¬ë„ŒíŠ¸ì— bAutoActivateê°€ ì„¤ì •ëœ ê²½ìš°ì—ë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.
//     ë‚˜ì¤‘ì— ì»´í¬ë„ŒíŠ¸ì— bAutoActivateê°€ ì„¤ì •ë˜ë©´ ë‹¤ì‹œ í˜¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
// 
// - UActorComponent::InitializeComponent:
//     ì»´í¬ë„ŒíŠ¸ì— bWantsInitializeComponentSetê°€ ì„¤ì •ëœ ê²½ìš°ì—ë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.
//     ê²Œì„í”Œë ˆì´ ì„¸ì…˜ë‹¹ í•œ ë²ˆë§Œ ë°œìƒí•©ë‹ˆë‹¤.
// 
// - AActor::PostInitializeComponents:
//     ì•¡í„°ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ì´ˆê¸°í™”ëœ í›„ì— í˜¸ì¶œë˜ë©°, ê²Œì„í”Œë ˆì´ ì¤‘ê³¼ ì¼ë¶€ ì—ë””í„° í”„ë¦¬ë·°ì—ì„œë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.
// 
// - AActor::BeginPlay:
//     ë ˆë²¨ì´ í‹±í‚¹ì„ ì‹œì‘í•  ë•Œ í˜¸ì¶œë˜ë©°, ì‹¤ì œ ê²Œì„í”Œë ˆì´ ì¤‘ì—ë§Œ í˜¸ì¶œë©ë‹ˆë‹¤.
//     ì¼ë°˜ì ìœ¼ë¡œ PostInitializeComponents ì§í›„ì— ë°œìƒí•˜ì§€ë§Œ, ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ìì‹ ì•¡í„°ì˜ ê²½ìš° ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

// 12 - Foundation - CreateWorld - AActor
// 
// - Actor:
//   - AActor == collection of ActorComponents (-> Entity-Component structure)
//   - ActorComponent's examples:
//     - UStaticMeshComponent, USkeletalMeshComponent, UAudioComponent, ... etc.
//   - (networking) the unit of replication for propagating updates for state and RPC calls
//
// - Actor's Initializations:
//   1. UObject::PostLoad:
//     - when you place AActor in ULevel, AActor will be stored in ULevel's package
//     - in game build, when ULevel is streaming (or loaded), the placed AActor is loaded and call UObject::PostLoad()
//       - FYI, the UObject::PostLoad() is called when [object need-to-be-spawned]->[asset need-to-be-load]->[after loaded call post-event UObject::PostLoad()]
//   
//   2. UActorComponent::OnComponentCreated:
//     - AActor is already 'spawned'
//     - notification per UActorComponent
//     - one thing to remember is 'component-creation' first!
//   
//   3. AActor::PreRegisterAllComponents:
//     - pre-event for registering UActorComponents to AActor
//     - one thing to remember:
//       - *** [UActorComponent Creation] ---then---> [UActorComponent Registration] ***
//   
//   4. AActor::RegisterComponent:
//     - incremental-registration: register UActorComponent to AActor over multiple frames
//     - what is register stage done?
//       - register UActorComponent to worlds (GameWorld[UWorld], RenderWorld[FScene], PhysicsWorld[FPhysScene], ...)
//       - ***initialize state*** required from each world
//   
//   5. AActor::PostRegisterAllComponents:
//     - post-event for registering UActorComponents to AActor
//
//   6. AActor::UserConstructionScript:
//     [ ] explain UserConstructionScript vs. SimpleConstructionScript in the editor:
//        - UserConstructionScript: called a function for creating UActorComponent in BP event graph
//        - SimpleConstructionScript: construct UActorComponent in BP viewport (hierarchical)
//
//   7. AActor::PreInitializeComponents:
//     - pre-event for initializing UActorComponents of UActor
//     - [UActorComponent Creation]-->[UActorComponent Register]-->[UActorComponent Initialization]
//
//   8. UActorComponent::Activate:
//     - before initializing UActorComponent, UActorComponent's activation is called first
//
//   9. UActorComponent::InitializeComponent:
//     - we can think of UActorComponent's initialization as two stages:
//       1. Activate
//       2. InitializeComponent
//
//  10. AActor::PostInitializeComponents:
//     - post-event when UActorComponents initializations are finished
// 
//  11. AActor::Beginplay:
//     - when level is ticking, AActor calls BeginPlay()
//
//  Diagrams:
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                    
// â”‚ UObject::PostLoad() â”‚                                                                    
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                                    
//           â”‚                                                                                
//           â”‚                                                                                
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚ AActor Spawn        â”œâ”€â”€â”€â”€â”€â–ºâ”‚                                                            â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  UActorComponent Creation:                                 â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â””â”€â”€UActorComponent::OnComponentCreated()                 â”‚
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”‚  UActorComponent Register:                                 â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€AActor::PreRegisterAllComponents()                    â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€For each UActorComponent in AActor's UActorComponents â”‚
//           â”‚                  â”‚   â”‚   â”‚                                                    â”‚
//           â”‚                  â”‚   â”‚   â””â”€â”€AActor::RegisterComponent()                       â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â””â”€â”€AActor::PostRegisterAllComponents()                   â”‚
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//           â”‚                  â”‚  AActor::UserConstructionScript()                          â”‚
//           â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”‚  UActorComponent Initialization:                           â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€AActor::PreInitializeComponents()                     â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€For each UActorComponent in AActor's UActorComponents â”‚
//           â”‚                  â”‚   â”‚   â”‚                                                    â”‚
//           â”‚                  â”‚   â”‚   â”œâ”€â”€UActorComponent::Activate()                       â”‚
//           â”‚                  â”‚   â”‚   â”‚                                                    â”‚
//           â”‚                  â”‚   â”‚   â””â”€â”€UActorComponent::InitializeComponent()            â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â””â”€â”€AActor::PostInitializeComponents                      â”‚
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//           â”‚                                                                                
//  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        
//  â”‚ AActor Preparation â”œâ”€â”€â”€â”€â”€â–ºâ”‚ AActor::BeginPlay()â”‚                                        
//  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        
// - Actor:
//   - AActor == ActorComponentì˜ ì§‘í•© (-> ì—”í‹°í‹°-ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°)
//   - ActorComponentì˜ ì˜ˆ:
//     - UStaticMeshComponent, USkeletalMeshComponent, UAudioComponent, ... ë“±
//   - (ë„¤íŠ¸ì›Œí‚¹) ìƒíƒœ ì—…ë°ì´íŠ¸ ë° RPC í˜¸ì¶œ ì „íŒŒë¥¼ ìœ„í•œ ë³µì œ ë‹¨ìœ„
//
// - Actorì˜ ì´ˆê¸°í™”:
//   1. UObject::PostLoad:
//     - AActorë¥¼ ULevelì— ë°°ì¹˜í•˜ë©´ AActorëŠ” ULevelì˜ íŒ¨í‚¤ì§€ì— ì €ì¥ë©ë‹ˆë‹¤
//     - ê²Œì„ ë¹Œë“œì—ì„œ ULevelì´ ìŠ¤íŠ¸ë¦¬ë°(ë˜ëŠ” ë¡œë“œ)ë  ë•Œ, ë°°ì¹˜ëœ AActorê°€ ë¡œë“œë˜ê³  UObject::PostLoad()ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤
//       - ì°¸ê³ ë¡œ, UObject::PostLoad()ëŠ” [ìŠ¤í°ì´ í•„ìš”í•œ ê°ì²´]->[ë¡œë“œê°€ í•„ìš”í•œ ì—ì…‹]->[ë¡œë“œ í›„ í›„ì²˜ë¦¬ ì´ë²¤íŠ¸ UObject::PostLoad() í˜¸ì¶œ] ìˆœì„œë¡œ í˜¸ì¶œë©ë‹ˆë‹¤
//   
//   2. UActorComponent::OnComponentCreated:
//     - AActorê°€ ì´ë¯¸ 'ìŠ¤í°'ëœ ìƒíƒœì…ë‹ˆë‹¤
//     - UActorComponentë³„ ì•Œë¦¼ì…ë‹ˆë‹¤
//     - ê¸°ì–µí•´ì•¼ í•  í•œ ê°€ì§€ëŠ” 'ì»´í¬ë„ŒíŠ¸ ìƒì„±'ì´ ë¨¼ì €ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤!
//   
//   3. AActor::PreRegisterAllComponents:
//     - AActorì— UActorComponentë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•œ ì‚¬ì „ ì´ë²¤íŠ¸ì…ë‹ˆë‹¤
//     - ê¸°ì–µí•´ì•¼ í•  í•œ ê°€ì§€:
//       - *** [UActorComponent ìƒì„±] ---ê·¸ ë‹¤ìŒ---> [UActorComponent ë“±ë¡] ***
//   
//   4. AActor::RegisterComponent:
//     - ì ì§„ì  ë“±ë¡: ì—¬ëŸ¬ í”„ë ˆì„ì— ê±¸ì³ UActorComponentë¥¼ AActorì— ë“±ë¡í•©ë‹ˆë‹¤
//     - ë“±ë¡ ë‹¨ê³„ì—ì„œ ë¬´ì—‡ì„ ìˆ˜í–‰í•˜ë‚˜ìš”?
//       - UActorComponentë¥¼ ì›”ë“œì— ë“±ë¡í•©ë‹ˆë‹¤ (GameWorld[UWorld], RenderWorld[FScene], PhysicsWorld[FPhysScene], ...)
//       - ê° ì›”ë“œì—ì„œ í•„ìš”í•œ ***ìƒíƒœ ì´ˆê¸°í™”***ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤
//   
//   5. AActor::PostRegisterAllComponents:
//     - AActorì— UActorComponentë¥¼ ë“±ë¡í•˜ê¸° ìœ„í•œ í›„ì²˜ë¦¬ ì´ë²¤íŠ¸ì…ë‹ˆë‹¤
//
//   6. AActor::UserConstructionScript:
//     [ ] ì—ë””í„°ì—ì„œ UserConstructionScript vs. SimpleConstructionScript ì„¤ëª…:
//        - UserConstructionScript: BP ì´ë²¤íŠ¸ ê·¸ë˜í”„ì—ì„œ UActorComponentë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤
//        - SimpleConstructionScript: BP ë·°í¬íŠ¸ì—ì„œ UActorComponentë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤ (ê³„ì¸µì )
//
//   7. AActor::PreInitializeComponents:
//     - UActorì˜ UActorComponentë¥¼ ì´ˆê¸°í™”í•˜ê¸° ìœ„í•œ ì‚¬ì „ ì´ë²¤íŠ¸ì…ë‹ˆë‹¤
//     - [UActorComponent ìƒì„±]-->[UActorComponent ë“±ë¡]-->[UActorComponent ì´ˆê¸°í™”]
//
//   8. UActorComponent::Activate:
//     - UActorComponentë¥¼ ì´ˆê¸°í™”í•˜ê¸° ì „ì— UActorComponentì˜ í™œì„±í™”ê°€ ë¨¼ì € í˜¸ì¶œë©ë‹ˆë‹¤
//
//   9. UActorComponent::InitializeComponent:
//     - UActorComponentì˜ ì´ˆê¸°í™”ë¥¼ ë‘ ë‹¨ê³„ë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
//       1. Activate
//       2. InitializeComponent
//
//  10. AActor::PostInitializeComponents:
//     - UActorComponent ì´ˆê¸°í™”ê°€ ì™„ë£Œë˜ì—ˆì„ ë•Œì˜ í›„ì²˜ë¦¬ ì´ë²¤íŠ¸ì…ë‹ˆë‹¤
// 
//  11. AActor::Beginplay:
//     - ë ˆë²¨ì´ í‹±í‚¹ì„ ì‹œì‘í•  ë•Œ AActorê°€ BeginPlay()ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤

class AActor : public UObject
```

---

## Actorì˜ ë³€ìˆ˜

```cpp
    /** 
     * primary actor tick function, which calls TickActor() 
     * - tick functions can be configured to control whether ticking is enabled, at what time during a frame the update occurs, and to set up tick dependencies
     */
    // unreal engine code separates the state(class) and the tick by FTickFunction
    // - we'll cover this in detail later

    struct FActorTickFunction PrimaryActorTick;

    /** all ActorComponents owned by this Actor; stored as a Set as actors may have a large number of components */
    // all components in AActor is stored here
    TSet<TObjectPtr<UActorComponent>> OwnedComponents;

    /**
     * indicates that PreInitializeComponents/PostInitializeComponents has been called on this Actor
     * prevents re-initializing of actors spawned during level startup 
     */
    // when PostInitializeComponents is called, bActorInitialized is set to 'true'
    uint8 bActorInitialized : 1;

    /** whether we've tried to register tick functions; reset when they are unregistered */
    // tick function is registered
    uint8 bTickFunctionsRegistered : 1;

    /** enum defining if BeginPlay has started or finished */
    enum class EActorBeginPlayState : uint8
    {
        HasNotBegunPlay,
        BeginningPlay,
        HasBegunPlay,
    };

    /** 
     * indicates that BeginPlay has been called for this actor 
     * set back to HasNotBegunPlay once EndPlay has been called
     */
    // this is VERY INTERESTING!
    // - uint8 bit assignment is working even on middle of uint8's enum type!
    // - ActorHasBegunPlay is updated by BeginPlay() or EndPlay() calls
    EActorBeginPlayState ActorHasBegunPlay : 2;

    /** 
     * the component that defines the transform (location, rotation, scale) of this Actor in the world
     * all other components must be attached to this one somehow
     */
    // AActor manages its components(UActorComponent) in a form of scene graph using USceneComponent:
    // [ ] see BP's viewport (refer to SCS[Simple Construction Script])
    //
    // Diagram:                                                                                         
    // AActor                                                                                
    //  â”‚                                                                                    
    //  â”œâ”€â”€OwnedComponents: TSet<TObjectPtr<UActorComponent>                                 
    //  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    
    //  â”‚    â”‚ [Component0, Component1, Component2, Component3, Component4, Component5] â”‚    
    //  â”‚    â”‚                                                                          â”‚    
    //  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Linear Formatâ”€â”€â”€â”€â”€â”€â”€â”˜    
    //  â””â”€â”€RootComponent: TObjectPtr<USceneComponent>                                        
    //       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  
    //       â”‚ Component0 [RootComponent] â”‚                                                  
    //       â”‚  â”‚                         â”‚                                                  
    //       â”‚  â”œâ”€â”€Component1             â”‚                                                  
    //       â”‚  â”‚   â”‚                     â”‚                                                  
    //       â”‚  â”‚   â”œâ”€â”€Component2         â”‚                                                  
    //       â”‚  â”‚   â”‚                     â”‚                                                  
    //       â”‚  â”‚   â””â”€â”€Component3         â”‚                                                  
    //       â”‚  â”‚       â”‚                 â”‚                                                  
    //       â”‚  â”‚       â””â”€â”€Component4     â”‚                                                  
    //       â”‚  â”‚                         â”‚                                                  
    //       â”‚  â””â”€â”€Component5             â”‚                                                  
    //       â”‚                            â”‚                                                  
    //       â””â”€â”€â”€â”€Hierachrical Formatâ”€â”€â”€â”€â”€â”˜                                                  
    //                                                                                       
    TObjectPtr<USceneComponent> RootComponent;

    /** The UChildActorComponent that owns this Actor */
    // we are not covering UChildActorComponent in detail, but let's cover concept of UChildActorComponent
    // - UChildActorComponent supports connection between Actor and Actor
    // - we only have Actor-ActorComponent connection, how to support Actor-Actor connection?
    //   - see Diagram:                                                                                               
    //     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              
    //     â”‚  Actor0  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Actor1  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Actor2  â”‚              
    //     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
    //                                                                                                           
    //     RootComponent                        RootComponent â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             RootComponent             
    //      â”‚                                    â”‚                       â”‚              â”‚                        
    //      â”œâ”€â”€â”€Component1â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”œâ”€â”€â”€Component1     Actor2-Actor1       â””â”€â”€â”€Component1           
    //      â”‚                        â”‚           â”‚                       â”‚                                       
    //      â”œâ”€â”€â”€Component2    Actor1-Actor0      â””â”€â”€â”€Component2          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ParentComponent           
    //      â”‚    â”‚                   â”‚                                                                           
    //      â”‚    â””â”€â”€â”€Component3      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ParentComponent                                                  
    //      â”‚                                                                                                    
    //      â””â”€â”€â”€Component4                                                                                       
    //                                                                                                           
    //                                                                                                           
    //                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  
    //                 â”‚                                      â”‚                                                  
    //                 â”‚      Actor0 â—„â”€â”€â”€                     â”‚                                                  
    //                 â”‚       â”‚                              â”‚                                                  
    //                 â”‚       â””â”€RootComponent                â”‚                                                  
    //                 â”‚          â”‚                           â”‚                                                  
    //                 â”‚          â””â”€Component1                â”‚                                                  
    //                 â”‚             â”‚                        â”‚                                                  
    //                 â”‚             â””â”€Actor1 â—„â”€â”€â”€            â”‚                                                  
    //                 â”‚                â”‚                     â”‚                                                  
    //                 â”‚                â””â”€RootComponent       â”‚                                                  
    //                 â”‚                   â”‚                  â”‚                                                  
    //                 â”‚                   â””â”€Actor2 â—„â”€â”€â”€â”€     â”‚                                                  
    //                 â”‚                                      â”‚                                                  
    //                 â”‚                                      â”‚                                                  
    //                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                  
    TWeakObjectPtr<UChildActorComponent> ParentComponent;
};
```