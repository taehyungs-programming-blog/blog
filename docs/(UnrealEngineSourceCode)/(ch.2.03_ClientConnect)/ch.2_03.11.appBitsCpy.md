---
layout: default
title: "03-11. appBitsCpy"
parent: "([Network] 03. ClientConnect)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 2
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
void appBitsCpy(uint8* Dest, int32 DestBit, uint8* Src, int32 SrcBit, int32 BitCount)
{
    // for calculation efficiency, it has several special case handing (for quicker calculation)

    // ê³„ì‚° íš¨ìœ¨ì„±ì„ ìœ„í•´ ëª‡ ê°€ì§€ íŠ¹ë³„í•œ ê²½ìš°ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤ (ë¹ ë¥¸ ê³„ì‚°ì„ ìœ„í•´)
    if (BitCount == 0) return;

    // special case - always at least one bit to copy, a maximum of 2 bytes to read, 2 to write - only touch bytes that are actually used
    // 1. BitCount <= 8, handling bits[0,7] 
    // - BitCount <= 8 implies that it touches 1-byte memory twice to read and twice to write:

    // íŠ¹ë³„í•œ ê²½ìš° - í•­ìƒ ìµœì†Œí•œ í•œ ë¹„íŠ¸ë¥¼ ë³µì‚¬í•˜ë©°, ìµœëŒ€ 2ë°”ì´íŠ¸ë¥¼ ì½ê³  2ë°”ì´íŠ¸ë¥¼ ì”ë‹ˆë‹¤ - ì‹¤ì œë¡œ ì‚¬ìš©ëœ ë°”ì´íŠ¸ë§Œ ë§Œì§‘ë‹ˆë‹¤
    // 1. BitCount <= 8, ë¹„íŠ¸[0,7] ì²˜ë¦¬
    // - BitCount <= 8ì€ ì½ê¸°ì™€ ì“°ê¸°ì— ê°ê° 1ë°”ì´íŠ¸ ë©”ëª¨ë¦¬ë¥¼ ë‘ ë²ˆ ì‚¬ìš©í•¨ì„ ì˜ë¯¸í•©ë‹ˆë‹¤

    //
    //   - when we copy bits from SRC two bits index[7] and index[8] to DEST                    
    //                                                                                          
    //     - NOTE that the below figures are based on little-endian (x86)                       

    //   - SRCì—ì„œ ì¸ë±ìŠ¤[7]ê³¼ ì¸ë±ìŠ¤[8]ì˜ ë¹„íŠ¸ë¥¼ DESTë¡œ ë³µì‚¬í•  ë•Œ
    // 
    //     - ì•„ë˜ ê·¸ë¦¼ì€ ë¦¬í‹€ ì—”ë””ì–¸(x86)ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤
    //                                                                                          
    //       INDEX:   7   6   5   4   3   2   1   0     15  14  13  12  11  10  9   8           
    //              â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”         
    //        DEST: â”‚ 0 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚         
    //              â””â”€â–²â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â–²â”€â”˜         
    //                â”‚                                                             â”‚           
    //                â”‚                                                             â”‚           
    //                â”‚                                                             â”‚           
    //              â”Œâ”€â”´â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”´â”€â”         
    //         SRC: â”‚ 1 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 1 â”‚         
    //              â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜         
    //                                                                                          
    //     *** in this case, we touch 2-bytes from SRC to read and 2-bytes from DEST to write   
    //                                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  

    //     *** ì´ ê²½ìš°, ì½ê¸° ìœ„í•´ SRCì—ì„œ 2ë°”ì´íŠ¸ë¥¼ ì½ê³  ì“°ê¸° ìœ„í•´ DESTì—ì„œ 2ë°”ì´íŠ¸ë¥¼ ì”ë‹ˆë‹¤
    //                                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
    if (BitCount <= 8)
    {
        // in this if-statement, (LastSrc - SrcIndex) and (LastDest - DestIndex) cannot exceed more than '1', cuz we are dealing with BitCount <= 8

        // ì´ ifë¬¸ì—ì„œ, (LastSrc - SrcIndex)ì™€ (LastDest - DestIndex)ëŠ” '1'ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤, ì™œëƒí•˜ë©´ BitCount <= 8ì„ ì²˜ë¦¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤
        uint32 DestIndex    = DestBit / 8;
        uint32 SrcIndex     = SrcBit / 8;
        uint32 LastDest     = (DestBit + BitCount - 1) / 8;
        uint32 LastSrc      = (SrcBit + BitCount - 1) / 8;

        // maximum bit range[0, 7] can be inserted in same 1-byte
        // - this is because (SrcBit,DestBit) & 7!

        // ìµœëŒ€ ë¹„íŠ¸ ë²”ìœ„[0, 7]ì€ ë™ì¼í•œ 1ë°”ì´íŠ¸ì— ì‚½ì…ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤
        // - ì´ëŠ” (SrcBit, DestBit) & 7 ë•Œë¬¸ì…ë‹ˆë‹¤!
        uint32 ShiftSrc     = SrcBit & 7;
        uint32 ShiftDest    = DestBit & 7;

        // on BitCount <= 8, we can access maximum 2-byte memory:
        // - 0xFF is 255 and 0xFE is 254
        //   - 0xFF is 11111111(2)
        //   - 0xFE is 11111110(2) : 0xFE is pre-shifted left by 1: 11111111(2) << 1 = 11111110(2)
        // - why do we pre-shifted? we'll understand the reason in soon!

        // BitCount <= 8ì—ì„œëŠ” ìµœëŒ€ 2ë°”ì´íŠ¸ì˜ ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
        // - 0xFFëŠ” 255ì´ê³  0xFEëŠ” 254ì…ë‹ˆë‹¤
        //   - 0xFFëŠ” 11111111(2)ì…ë‹ˆë‹¤
        //   - 0xFEëŠ” 11111110(2)ì…ë‹ˆë‹¤ : 0xFEëŠ” ì™¼ìª½ìœ¼ë¡œ 1ë¹„íŠ¸ í”„ë¦¬ì‹œí”„íŠ¸ëœ ê°’ì…ë‹ˆë‹¤: 11111111(2) << 1 = 11111110(2)
        // - ì™œ í”„ë¦¬ì‹œí”„íŠ¸ë¥¼ í–ˆëŠ”ì§€? ê³§ ê·¸ ì´ìœ ë¥¼ ì•Œê²Œ ë  ê²ƒì…ë‹ˆë‹¤!
        uint32 FirstMask    = 0xFF << ShiftDest;
        uint32 LastMask     = 0xFE << ((DestBit + BitCount - 1) & 7); // pre-shifted left by 1

        // Accu is accumlator of intermediate calculation results
        // - when SrcIndex and LastSrc is same, all bits are converged into 1-byte

        // AccuëŠ” ì¤‘ê°„ ê³„ì‚° ê²°ê³¼ì˜ ëˆ„ì‚°ê¸°ì…ë‹ˆë‹¤
        // - SrcIndexì™€ LastSrcê°€ ê°™ì„ ë•Œ, ëª¨ë“  ë¹„íŠ¸ëŠ” 1ë°”ì´íŠ¸ë¡œ ëª¨ì…ë‹ˆë‹¤
        uint32 Accu;
        if (SrcIndex == LastSrc)
            Accu = (Src[SrcIndex] >> ShiftSrc);
        else
            // how two bytes(uint8) are combined into single int-value(uint32) [feat. little-endian]
            //
            // - how two bytes (with little-endian) are combined into one integer (4 bytes)?       
            //                                                                                     
            //       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”     â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”       
            //   [0]:â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ [1]:â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 1 â”‚       
            //       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜     â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜       
            //       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       
            //                    â”‚                                      â”‚                         
            //                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         
            //                                        â”‚                                            
            //                                        â”‚ How to order them to make complete value?  
            //                                        â”‚   - we expect 255([0]) + 256[1]            
            //                                        â”‚                                            
            //                                        â–¼                                            
            //           â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”         
            //           â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚         
            //           â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜         
            //                                                                                     

            // ë‘ ë°”ì´íŠ¸(uint8)ë¥¼ í•˜ë‚˜ì˜ ì •ìˆ˜ ê°’(uint32)ìœ¼ë¡œ ì–´ë–»ê²Œ ê²°í•©í•˜ëŠ”ê°€ [feat. ë¦¬í‹€ ì—”ë””ì•ˆ]
            //
            // - ë‘ ë°”ì´íŠ¸ë¥¼ (ë¦¬í‹€ ì—”ë””ì•ˆì—ì„œ) ì–´ë–»ê²Œ í•˜ë‚˜ì˜ ì •ìˆ˜(4ë°”ì´íŠ¸)ë¡œ ê²°í•©í•˜ëŠ”ê°€?
            // 
            //       (ìƒëµ)
            // 
            // - ê·¸ë“¤ì„ ì–´ë–»ê²Œ ì •ë ¬í•˜ì—¬ ì™„ì „í•œ ê°’ì„ ë§Œë“¤ê¹Œ?
            //   - ìš°ë¦¬ëŠ” 255([0]) + 256[1]ì„ ê¸°ëŒ€í•©ë‹ˆë‹¤
            // 
            //       (ê²°ê³¼ ê°’ ê·¸ë¦¼ ìƒëµ)
            Accu = ((Src[SrcIndex] >> ShiftSrc) | (Src[LastSrc] << (8 - ShiftSrc)));
        
        if (DestIndex == LastDest)
        {
            // focus on how MultiMask(for uint32) is constructed
            // - "~LastMask" apply inverse-operator!
            //   - now we can understand why we try to pre-shifted on LastMask:
            //     - what the statement, "uint32 LastMask = 0xFE << ((DestBit + Count - 1) & 7)" means?
            //       - let's suppose (DestBit + Count - 1) & 7 as '1, 2, 3':
            //                                                                                                              
            //                                                     left-shift 1 (<< 1)    â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” 
            //                                                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 0 â”‚ 0 â”‚ 
            //              â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                             â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ 
            //         0xFE:â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 0 â”‚                                                               
            //              â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜      left-shift 2 (<< 2)    â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” 
            //                                                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 
            //                                                                            â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ 

            // MultiMask(uint32)ì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ëŠ”ì§€ì— ì´ˆì ì„ ë§ì¶¥ë‹ˆë‹¤
            // - "~LastMask"ëŠ” ë°˜ì „ ì—°ì‚°ìë¥¼ ì ìš©í•©ë‹ˆë‹¤!
            //   - ì´ì œ ì™œ LastMaskì— í”„ë¦¬ì‹œí”„íŠ¸ë¥¼ í–ˆëŠ”ì§€ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
            //     - "uint32 LastMask = 0xFE << ((DestBit + Count - 1) & 7)" ë¬¸ì¥ì€ ë¬´ì—‡ì„ ì˜ë¯¸í•©ë‹ˆê¹Œ?
            //       - (DestBit + Count - 1) & 7ì„ '1, 2, 3'ìœ¼ë¡œ ê°€ì •í•´ ë´…ì‹œë‹¤:
            // 
            //       (ê·¸ë¦¼ ìƒëµ)
            //
            //       - ~ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆìŠ¤í‚¹ ê¸°ëŠ¥ì„ ì´í•´í•´ ë´…ì‹œë‹¤:
            //       
            //       (ìƒëµ)
            //
            // - "(DestBit + Count - 1) & 7"ì´ 0ì¼ ë•Œ "FirstMask & ~LastMask"ì˜ ì˜ˆìƒ ê°’ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?
            //   - 2ë°”ì´íŠ¸ì˜ í†µí•© ë§ˆìŠ¤í¬ì…ë‹ˆë‹¤:
            //           
            //       (ê·¸ë¦¼ ìƒëµ)
            uint32 MultiMask = FirstMask & ~LastMask;

            // based on what we covered, it is easy to understand:
            // - Dest[DestIndex] & ~MultiMask --> clearing the value
            // - (Accu << ShiftDest) & MultiMask --> masking the value
            // - (Dest[DestIndex] & ~MultiMask) | ((Accu << ShiftDest) & MultiMask) --> applying(copying) 'Accu' value to destination
            //
            // - lastly, what does it mean force-casting by "(uint8)"?:
            //                                                                                                                                           
            //                               (uint8) â”‚ (uint8)                                                                                           
            //    (dropped)                          â”‚                            (retained)                                                             
            //        â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                                                                    
            //       â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”     force-casting by uint8    â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”   
            //       â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 0 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚ 1 â”‚   
            //       â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”¼â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                               â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜   
            //                                       â”‚                                                                                                   
            //                                       â”‚                                                                                                   
            //                                       â”‚                                                                                                   
            //                                                                                                                                           

            // ë‹¤ë£¬ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©´ ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤:
            // - Dest[DestIndex] & ~MultiMask --> ê°’ì„ ì§€ì›ë‹ˆë‹¤
            // - (Accu << ShiftDest) & MultiMask --> ê°’ì„ ë§ˆìŠ¤í‚¹í•©ë‹ˆë‹¤
            // - (Dest[DestIndex] & ~MultiMask) | ((Accu << ShiftDest) & MultiMask) --> 'Accu' ê°’ì„ ëŒ€ìƒì— ì ìš©(ë³µì‚¬)í•©ë‹ˆë‹¤
            //
            // - ë§ˆì§€ë§‰ìœ¼ë¡œ "(uint8)"ë¡œ ê°•ì œ ìºìŠ¤íŒ…í•œë‹¤ëŠ” ê²ƒì€ ë¬´ì—‡ì„ ì˜ë¯¸í•©ë‹ˆê¹Œ?
            // 
            // (ê·¸ë¦¼ ìƒëµ)
            Dest[DestIndex] = (uint8)((Dest[DestIndex] & ~MultiMask) | ((Accu << ShiftDest) & MultiMask));
        }
        else
        {
            Dest[DestIndex] = (uint8)((Dest[DestIndex] & ~FirstMask) | ((Accu << ShiftDest) & FirstMask));

            // (8 - ShiftDest) means dropping the bits applied for DestIndex

            // (8 - ShiftDest)ëŠ” DestIndexì— ì ìš©ëœ ë¹„íŠ¸ë¥¼ ë²„ë¦°ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤
            Dest[LastDest] = (uint8)((Dest[LastDest] & LastMask) | ((Accu >> (8 - ShiftDest)) & ~LastMask));
        }

        return;
    }
}
```