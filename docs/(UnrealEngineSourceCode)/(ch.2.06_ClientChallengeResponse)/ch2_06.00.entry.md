---
layout: default
title: "([Network] 06. ClientChallengeResponse)"
parent: "(UE SourceCode ë¶„ì„ ðŸ¤–)"
has_children: true
nav_order: 3
---

```cpp
class UPendingNetGame : public UObject, FNetworkNotify
{
    virtual void Tick(float DeltaTime)
    {
        // ...
        // Tickì—ì„œ ì‹œìž‘ì´ ëœë‹¤.

        NetDriver->TickDispatch(DeltaTime);
}
```

```cpp
/** handle time update; read and process packets */

// [ClientChallengeResponse]
// most of code to process received packets are same, for now what we are interested in is "ChallengeResponse"
//   - first focus on "Connection" variable on client-side

// ìˆ˜ì‹ ëœ íŒ¨í‚·ì„ ì²˜ë¦¬í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ ì½”ë“œëŠ” ë™ì¼í•©ë‹ˆë‹¤. í˜„ìž¬ ìš°ë¦¬ê°€ ê´€ì‹¬ ìžˆëŠ” ê²ƒì€ "ChallengeResponse"ìž…ë‹ˆë‹¤.
//   - ë¨¼ì € í´ë¼ì´ì–¸íŠ¸ ì¸¡ì˜ "Connection" ë³€ìˆ˜ì— ì§‘ì¤‘í•˜ê² ìŠµë‹ˆë‹¤
virtual void TickDispatch(float DeltaTime) override
{
    //...

        if (MyServerConnection)
        {
            // [ClientChallengeResponse]
            // do we have valid "MyServerConnection"?
            // - YES: for client-side, we already construct IpConnection successfully and we are ready to send/receive packet by ServerConnection
            // - we also meet the condition, 'MyServerConnection->RemoteAddr->CompareEndpoints(*FromAddr)'
            // - now we set "Connection" with "MyServerConnection" successfully in **client-side**
            // - we'll go straight to the code line

            // [ClientChallengeResponse]
            // ìœ íš¨í•œ "MyServerConnection"ì´ ìžˆë‚˜ìš”?
            // - ë„¤: í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œëŠ” ì´ë¯¸ IpConnectionì„ ì„±ê³µì ìœ¼ë¡œ êµ¬ì„±í–ˆê³  ServerConnectionìœ¼ë¡œ íŒ¨í‚·ì„ ì†¡ìˆ˜ì‹ í•  ì¤€ë¹„ê°€ ë˜ì–´ ìžˆìŠµë‹ˆë‹¤
            // - ë˜í•œ 'MyServerConnection->RemoteAddr->CompareEndpoints(*FromAddr)' ì¡°ê±´ë„ ì¶©ì¡±í•©ë‹ˆë‹¤
            // - ì´ì œ **í´ë¼ì´ì–¸íŠ¸ ì¸¡**ì—ì„œ "Connection"ì„ "MyServerConnection"ìœ¼ë¡œ ì„±ê³µì ìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤
            // - ë°”ë¡œ ì½”ë“œ ë¼ì¸ìœ¼ë¡œ ì´ë™í•˜ê² ìŠµë‹ˆë‹¤
            if (MyServerConnection->RemoteAddr->CompareEndpoints(*FromAddr))
            {
                Connection = MyServerConnection;
            }
        }

            // send the packet to the connection for processing
            // íŒ¨í‚·ì„ ì—°ê²°ë¡œ ë³´ë‚´ ì²˜ë¦¬í•©ë‹ˆë‹¤

            //  it is the first time for client to be handled by FPacketIterator
            //  í´ë¼ì´ì–¸íŠ¸ê°€ FPacketIteratorì— ì˜í•´ ì²˜ë¦¬ë˜ëŠ” ì²« ë²ˆì§¸ ì‹œì ìž…ë‹ˆë‹¤

            if (Connection != nullptr && !bIgnorePacket)
            {
                Connection->ReceivedRawPacket((uint8*)ReceivedPacket.DataView.GetData(), ReceivedPacket.DataView.NumBytes());
            }
```