---
layout: default
title: "(03. Tickë“¤ì–´ê°€ê¸°)"
parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
has_children: true
nav_order: 2
---

```cpp
/**
 * abstract base class for all tick functions 
 */
struct FTickFunction
{
    /** see if the tick function is currently registered */
    bool IsTickFunctionRegistered() const { return (InternalData && InternalData->bRegistered); }

    /** returns whether the tick function is currently enabled */
    bool IsTickFunctionEnabled() const { return TickState != ETickState::Disabled; }

    /** enables or disables this tick function */
    void SetTickFunctionEnable(bool bInEnabled)
    {
        // ...
    }

    /** adds the tick function to the primary list of tick functions */
    void RegisterTickFunction(ULevel* Level)
    {
        // ...
    }

    /** removes the tick function from the primary list of tick functions */
    void UnRegisterTickFunction()
    {
        // ...
    }

    /** If false, this tick function will never be registered and will never tick. Only settable in defaults */
    //  if true, it will tick every frame
    uint8 bCanEverTick : 1;

    /** if true, this tick function will start enabled, but can be disabled later on */
    // like bAutoActivate, when tick function is instantiated, automatically register tick function to tick every frame
    uint8 bStartWithTickEnabled : 1;

    enum class ETickState : uint8
    {
        Disabled,
        Enabled,
        CoolingDown
    };

    /**
     * if Disabled, this tick will not fire
     * if CoolingDown, this tick has an interval frequency that is being adhered to currently
     * CAUTION: do not set this directly
     */
    // see ETickState:
    // tick function could be specified its frequency
    // - when frequency value is set, tick function will have a moment to be in CoolingDown
    ETickState TickState;

    /** internal data structure that contains members only required for a registered tick function */
    struct FInternalData
    {
        /** whether the tick function is registered */
        bool bRegistered : 1;

        /** cache whether this function was rescheduled as an interval function during StartParallel */
        // if true, the TickFunction is in CoolingDown list
        bool bWasInternal : 1;

        /** the next function in the cooling down list for ticks with an interval */
        // cooling down tick-function list is in a form of linked list
        FTickFunction* Next;

        /** back pointer to the FTickTaskLevel containing this tick function if it is registered */
        // FTickFunction has similar relationship between AActor and ULevel:
        class FTickTaskLevel* TickTaskLevel;
    };

    /** lazily allocated struct that contains the necessary data for a tick function that is registered */
    // why does it separate data as InternalData?
    // - we can achieve the following benefits, splitting hot/cold data
    //   - memory optimization
    //   - performance optimization
    // - think how many tick functions exist: Actor & ActorComponent
    TUniquePtr<FInternalData> InternalData;
};
```

---

```cpp
/**
 * tick function that calls Actor::TickActor 
 */
// Tick ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” êµ¬ì¡°ì²´ ì…ë‹ˆë‹¤. ì–¸ë¦¬ì–¼ì—”ì§„ì—ì„œëŠ” TickFunctionì„ í†µí•´ Tickê³¼ í´ë˜ìŠ¤ë¥¼ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.
struct FActorTickFunction : public FTickFunction
{
    /** AActor that is the target of this tick */
    class AActor* Target;
};
```

```cpp
/**
 * abstract base class for all tick functions 
 */
struct FTickFunction
{
    // ...

    /** If false, this tick function will never be registered and will never tick. Only settable in defaults */
    // if true, it will tick <every frame?>
    // Tick í•¨ìˆ˜ì— ë“±ë¡ì„ ê²°ì •í•˜ëŠ” ë³€ìˆ˜ ì…ë‹ˆë‹¤. falseì¼ ê²½ìš° í‹±ì´ ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ trueë¼ê³  í•´ì„œ ë§¤ í”„ë ˆì„ë§ˆë‹¤ ë°˜ë“œì‹œ ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤
    uint8 bCanEverTick : 1;

    /** if true, this tick function will start enabled, but can be disabled later on */
    // like bAutoActivate, when tick function is instantiated, automatically register tick function to tick every frame
    uint8 bStartWithTickEnabled : 1;

    enum class ETickState : uint8
    {
        Disabled,   // Tick í•¨ìˆ˜ ë°œë™ X 
        Enabled,    // Tick í•¨ìˆ˜ ë°œë™ O
        CoolingDown // CoolingDown : ì¼ì • ì£¼ê¸°ë§Œí¼ íœ´ì‹
    };

    /**
     * if Disabled, this tick will not fire
     * if CoolingDown, this tick has an interval frequency that is being adhered to currently
     * CAUTION: do not set this directly
     */
    // tick function could be specified its frequency
    // - when frequency value is set, tick function will have a moment to be in CoolingDown
    ETickState TickState;

    /** lazily allocated struct that contains the necessary data for a tick function that is registered */
    // why does it separate data as InternalData?
    // - we can achieve the following benefits, splitting hot/cold data
    //   - memory optimization
    //   - performance optimization
    // - think how many tick functions exist: Actor & ActorComponent
    TUniquePtr<FInternalData> InternalData;
}
```

```cpp
/** internal data structure that contains members only required for a registered tick function */
struct FInternalData
{
    /** whether the tick function is registered */
    // ì–¸ë¦¬ì–¼ì—”ì§„ì—ëŠ” ë§ì€ Tick í•¨ìˆ˜ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. 
    // Actorë§ˆë‹¤ Tick í•¨ìˆ˜ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì²´í¬í•˜ëŠ”ë°©ì‹ì´ ì•„ë‹Œ 
    // InternalDataë¥¼ í†µí•´ Tick í•¨ìˆ˜ê°€ í™œì„±í™”ë˜ì–´ ìˆë‹¤ë©´ ê´€ë ¨ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. (Hot/Cold ë°©ì‹) 
    bool bRegistered : 1;

    /** cache whether this function was rescheduled as an interval function during StartParallel */
    // if true, the TickFunction is in CoolingDown list
    // ì¦‰ì‹œ ì‹¤í–‰ì´ ì•„ë‹Œ ì¼ì • ê°„ê²© í›„ ì‹¤í–‰ë ì§€ì— ëŒ€í•œ ì—¬ë¶€ë¡œ Trueì¸ ê²½ìš° TickFunctionì˜ CoolingDown ëª©ë¡ì— ì¡´ì¬í•©ë‹ˆë‹¤.
    bool bWasInternal : 1;

    /** the next function in the cooling down list for ticks with an interval */
    // cooling down tick-function list is in a form of linked list
    // ë§í¬ë“œë¦¬ìŠ¤íŠ¸ ë°©ì‹ì„ ì´ìš©í•˜ì—¬ CoolingDown ëª©ë¡ì„ ì—°ê²°ì„ ì§„í–‰í•©ë‹ˆë‹¤. 
    // ì´ ë°©ì‹ì„ í†µí•´ CoolingDownì˜ ëª©ë¡ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    FTickFunction* Next;

    /** back pointer to the FTickTaskLevel containing this tick function if it is registered */
    // FTickFunction has similar relationship between AActor and ULevel:
    // - FTickFunction is contained in FTickTaskLevel
    // FTickTaskLevelì€ Actorì™€ ULevelì˜ ê´€ê³„ì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤. 
    // ê° Level ë‹¨ìœ„ë¡œ FTickFunctionì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
    class FTickTaskLevel* TickTaskLevel;
};
```