---
layout: default
title: "05. UBlueprintGeneratedClass"
parent: "(06.USceneComponent::OnRegister ë¶„ì„)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
// Diagram:
//                                                                                      
//  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   With UCLASS() macro           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                             
//  â”‚ Cpp Code â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º UClass â”‚                             
//  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   UHT(UnrealHeaderTool)         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             
//                 creates UClass instance                                              
//                                                                                      
//                                                                                      
//  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         
//  â”‚Asset      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º UBlueprintGeneneratedClass â”‚         
//  â”‚(Blueprint)â”‚    UBlueprint generates        â””â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         
//  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    UBlueprintGeneratedClass       â”‚                                   
//                                                  â”œâ”€â”€â”€UAnimBlueprintGeneratedClass    
//                                                  â”‚                                   
//                                                  â””â”€â”€â”€UWidgetBlueprintGeneratedClass  
//                                                                                      

class UBlueprintGeneratedClass : public UClass
{
    // ...

    // ì—­ì‹œ ë³€ìˆ˜ë¶€í„° ë³´ì

    /** stores data to override (in children classes) components (created by SCS) from parent classes */
    TObjectPtr<class UInheritableComponentHandler> InheritableComponentHandler;

    /** 'simple' construction script - graph of components to instance */
    TObjectPtr<class USimpleConstructionScript> SimpleConstructionScript;

    /** array of templates for timelines that should be created */
    TArray<TObjectPtr<class UTimelineTemplate>> Timelines;
};
```

```cpp
class UInheritableComponentHandler : public UObject
{
    const FComponentOverrideRecord* FindRecord(const FComponentKey& Key) const
    {
        for (const FComponentOverrideRecord& Record : Records)
        {
            if (Record.ComponentKey.Match(Key))
            {
                return &Record;
            }
        }
        return nullptr;
    }

    UActorComponent* GetOverridenComponentTemplate(const FComponentKey& Key) const
    {
        const FComponentOverrideRecord* Record = FindRecord(Key);
        return Record ? Record->ComponentTemplate : nullptr;
    }

    /** all component records */
    TArray<FComponentOverrideRecord> Records;

    // Diagram:
    //                                                                                                                                         
    // BP0                                                                                                                                 
    //  â”‚                                                                                                                                  
    //  â”œâ”€â”€SCS(SimpleConstructionScript)      Component4 is attached to Component3                                                         
    //  â”‚   â”‚                                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                1.Look up InheritableComponentHandler                 
    //  â”‚   â””â”€â”€Component1                                                               whether any mapping exists for Component4          
    //  â”‚       â”‚                                                                                                                          
    //  â”‚       â”œâ”€Component2                                                            InheritableComponentHandler                        
    //  â”‚       â”‚                                                                        â”‚                                                 
    //  â”‚       â””â”€Component3                                                             â””â”€â”€Component4:Component5â—„â”€â”€â”€â”€*** mapping exists!  
    //  â”‚                                                                                                                                  
    //  â”‚                                                                                                                                  
    //  â””â”€â”€InheritableComponentHandler                                                         â”‚                                           
    //      â”‚                                                                                  â”‚                                           
    //      â””â”€â”€Component4:Component5                                                           â”‚                                           
    //                                                                                         â”‚                                           
    //                                                                                         â”‚                                           
    //                                                                                         â–¼                                           
    //                                                                               2.Replace Template from Component4 to Component5      
    //                                                                                 then add 'Component5' to BP0 on Component3          
    //                                                                                                                                     
    //                                                                                    BP0                                              
    //                                                                                     â”‚                                               
    //                                                                                     â”œâ”€â”€SCS(SimpleConstructionScript)                
    //                                                                                     â”‚   â”‚                                           
    //                                                                                     â”‚   â””â”€â”€Component1                               
    //                                                                                     â”‚       â”‚                                       
    //                                                                                     â”‚       â”œâ”€Component2                            
    //                                                                                     â”‚       â”‚                                       
    //                                                                                     â”‚       â””â”€Component3                            
    //                                                                                     â”‚          â”‚                                    
    //                                                                                     â”‚          â””â”€â”€Component5                        
    //                                                                                     â”‚                                               
    //                                                                                     â””â”€â”€InheritableComponentHandler                  
    //                                                                                         â”‚                                           
    //                                                                                         â””â”€â”€Component4:Component5                    
                                                                                                                                      
};
```