---
layout: default
title: "02. UWorld"
parent: "(02.CreateWorld)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## UWorldì˜ ìƒì†

```cpp
class UWorld final : public UObject, public FNetworkNotify
{
    // ...
}
```

```cpp
class UObjectBase
{
    // ...

    // ë§í•˜ê³ ì í•˜ëŠ”ê²ƒì€ ...
    // UObjectì˜ Baseì—ëŠ” Objectì˜ Flagsì™€

    EObjectFlags ObjectFlags;

    // Privateì˜ í¬ì¸í„°ê°€ ì¡´ì¬í•˜ê²Œëœë‹¤.
        // ê·¸ëŸ¼ ì§ˆë¬¸. UObjectëŠ” í•˜ë‚˜ì˜ Private(File)ì„ ê°–ë‚˜?
        // UE3ê¹Œì§€ì˜ ì„¤ê³„ëŠ” ê·¸ëŸ¬í•˜ì˜€ë‹¤. í•˜ì§€ë§Œ ì´í›„ ì„¤ê³„ì—ì„œ ì¡°ê¸ˆ ë°”ë€Œê¸´í–ˆìœ¼ë‚˜
        // ê¸°ì¡°ëŠ” í•˜ë‚˜ì˜ UObjectì— í•˜ë‚˜ì˜ Fileì„ ê¸°ì¡°ë¡œ í•œë‹¤.
            // ì°¸ê³ ) ActorëŠ” Cookingë˜ë©° Levelì•ˆìœ¼ë¡œ ë“¤ì–´ê°€ê¸°ì— Fileì´ ë˜ì§€ ëª»í•¨.
    UObject* OuterPrivate;
};
```

```cpp
enum EObjectFlags
{
    // ì•ì„œë§í•œ Transaction(Serializeí•˜ì§€ë§ë¼) Flag
    RF_Transactional			=0x00000008,	///< Object is transactional.

    // ì—„ì²­ë‚˜ê²Œ ë§ì€ Flagê°€ ì¡´ì¬í•˜ê²Œ ëœë‹¤.
};
```

---

## UWorldì˜ ë³€ìˆ˜

```cpp
class UWorld final : public UObject, public FNetworkNotify
{
    // ...

    // ë¦¬ì†ŒìŠ¤ URL
    FURL URL;

    TEnumAsByte<EWorldType::Type> WorldType;

    // ì—¬ê¸°ì„œ ë˜ ì¤‘ìš”í•œ ê°œë…ì´ ë“±ì¥! ULevel 3ì¥ ì°¸ì¡°!
    TObjectPtr<class ULevel> PersistentLevel;

#if WITH_EDITORONLY_DATA || 1
    /** pointer to the current level being edited; level has to be in the levels array and == PersistentLevel in the game */
    TObjectPtr<class ULevel> CurrentLevel;
#endif

    /** array of levels currently in this world; NOT serialized to disk to avoid hard references */
    UPROPERTY(Transient)
    TArray<TObjectPtr<class ULevel>> Levels;

    /** array of level collections currently in this world */
    TArray<FLevelCollection> LevelCollections;

    /** index of the level collection that's currently ticking */
    int32 ActiveLevelCollectionIndex;

    /** DefaultPhysicsVolume used for whole game */
    TObjectPtr<APhysicsVolume> DefaultPhysicsVolume;

    /** physics scene for this world */
    FPhysScene* PhysicsScene;

    FObjectSubsystemCollection<UWorldSubsystem> SubsystemCollection;

    /** line batchers: */
    TObjectPtr<class ULineBatchComponent> LineBatcher;
    TObjectPtr<class ULineBatchComponent> PersistentLineBatcher;
    TObjectPtr<class ULineBatchComponent> ForegroundLineBatcher;

    // haker: let's wrap up what we have looked through classes:
    //                                                                                â”Œâ”€â”€â”€WorldSubsystem0       
    //                                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         
    //                                                 Worldâ”€â”€â”¤SubsystemCollectionsâ”œâ”€â”€â”¼â”€â”€â”€WorldSubsystem1       
    //                                                   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                         
    //                                                   â”‚                            â””â”€â”€â”€WorldSubsystem2       
    //             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                                 
    //             â”‚                                          â”‚                                                 
    //           Level0                                     Level1                                              
    //             â”‚                                          â”‚                                                 
    //         â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”                                 â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”                                            
    //         â”‚ Actor0 â”œâ”€â”€â”€â”€Component0(RootComponent)    â”‚ Actor0 â”œâ”€â”€â”€â”€â”€Component0(RootComponent)              
    //         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚                                     
    //         â”‚ Actor1 â”‚     â”œâ”€Component1                â”‚ Actor1 â”‚      â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”                          
    //         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤      â””â”€â”€â”€â”¤Actor2â”œâ”€â”€RootComponent           
    //         â”‚ Actor2 â”‚     â””â”€Component2                â”‚ Actor2 â”‚          â””â”€â”€â”€â”€â”€â”€â”˜   â”‚                      
    //         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤                                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”œâ”€â”€Component0          
    //         â”‚ Actor3 â”‚                                 â”‚ Actor3 â”‚                     â”‚                      
    //         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”œâ”€â”€Component1          
    //                                                                                   â”‚   â”‚                  
    //                                                                                   â”‚   â””â”€â”€Component2      
    //                                                                                   â”‚                      
    //                                                                                   â””â”€â”€Component3          
    // search 'goto 4'
};
```