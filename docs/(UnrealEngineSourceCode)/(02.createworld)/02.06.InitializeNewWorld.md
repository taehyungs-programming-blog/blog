---
layout: default
title: "06. InitializeNewWorld"
parent: "(02.CreateWorld)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
void InitializeNewWorld
(
    const InitializationValues IVS = InitializationValues(), 
    bool bInSkipInitWorld = false
)
{
    if (!IVS.bTransactional)
    {
        ClearFlags(RF_Transactional);
    }

    // PersistentLevel - Worldê°€ ì—†ì–´ì§€ì§€ ì•ŠëŠ”í•œ ì§€ì†ì ìœ¼ë¡œ ìˆëŠ” Levelì„ ì˜ë¯¸
    PersistentLevel = NewObject<ULevel>(this, TEXT("PersistentLevel"));
    PersistentLevel->OwningWorld = this;

#if WITH_EDITORONLY_DATA || 1
    CurrentLevel = PersistentLevel;
#endif

    // AWorldSettingsì€ ì¤‘ìš”í•˜ê¸°ì— ì ˆëŒ€ ë‚´ë ¤ê°€ì§€ ì•ŠëŠ” PersistentLevelì˜ Actorë¡œ ë“±ë¡
        // ActorëŠ” Levelê³¼ ìƒëª…ì£¼ê¸°ë¥¼ ê°™ì´í•¨.
    AWorldSettings* WorldSettings = nullptr;
    {
        // Actor Spawnìš© Param
        FActorSpawnParameters SpawnInfo;
        SpawnInfo.SpawnCollisionHandlingOverride = ESpawnActorCollisionHandlingMethod::AlwaysSpawn;

        SpawnInfo.Name = GEngine->WorldSettingsClass->GetFName();

        WorldSettings = SpawnActor<AWorldSettings>(GEngine->WorldSettingsClass, SpawnInfo);
    }
    
    if (IVS.DefaultGameMode)
    {
        WorldSettings->DefaultGameMode = IVS.DefaultGameMode;
    }

    PersistentLevel->SetWorldSettings(WorldSettings);

#if WITH_EDITOR || 1
    WorldSettings->SetIsTemporaryHiddenInEditor(true);

    if (IVS.bCreateWorldParitition)
    {
        
    }
#endif

    if (!bInSkipInitWorld)
    {        
        InitWorld(IVS);

        const bool bRerunConstructionScripts = !FPlatformProperties::RequiresCookedData();
        UpdateWorldComponents(bRerunConstructionScripts, false);
    }
}
```