---
layout: default
title: "04. AActor"
parent: "(02.CreateWorld)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
// Actorì˜ ë¡œë“œìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

//  Diagrams:
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                                    
// â”‚ UObject::PostLoad() â”‚                                                                    
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                                    
//           â”‚                                                                                
//           â”‚                                                                                
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚ AActor Spawn        â”œâ”€â”€â”€â”€â”€â–ºâ”‚                                                            â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  UActorComponent Creation:                                 â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â””â”€â”€UActorComponent::OnComponentCreated()                 â”‚
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”‚  UActorComponent Register:                                 â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€AActor::PreRegisterAllComponents()                    â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€For each UActorComponent in AActor's UActorComponents â”‚
//           â”‚                  â”‚   â”‚   â”‚                                                    â”‚
//           â”‚                  â”‚   â”‚   â””â”€â”€AActor::RegisterComponent()                       â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â””â”€â”€AActor::PostRegisterAllComponents()                   â”‚
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//           â”‚                  â”‚  AActor::UserConstructionScript()                          â”‚
//           â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â”‚  UActorComponent Initialization:                           â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€AActor::PreInitializeComponents()                     â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â”œâ”€â”€For each UActorComponent in AActor's UActorComponents â”‚
//           â”‚                  â”‚   â”‚   â”‚                                                    â”‚
//           â”‚                  â”‚   â”‚   â”œâ”€â”€UActorComponent::Activate()                       â”‚
//           â”‚                  â”‚   â”‚   â”‚                                                    â”‚
//           â”‚                  â”‚   â”‚   â””â”€â”€UActorComponent::InitializeComponent()            â”‚
//           â”‚                  â”‚   â”‚                                                        â”‚
//           â”‚                  â”‚   â””â”€â”€AActor::PostInitializeComponents                      â”‚
//           â”‚                  â”‚                                                            â”‚
//           â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//           â”‚                                                                                
//  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        
//  â”‚ AActor Preparation â”œâ”€â”€â”€â”€â”€â–ºâ”‚ AActor::BeginPlay()â”‚                                        
//  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        


class AActor : public UObject
{
    // ...

    // ì—­ì‹œ ë³€ìˆ˜ë¶€í„°

    // ìš°ì„  Tickì€ ìƒëµ ì´í›„ì— ëŒ€ë‹¨ì›ìœ¼ë¡œ ì„¤ëª…
    struct FActorTickFunction PrimaryActorTick;

    /** all ActorComponents owned by this Actor; stored as a Set as actors may have a large number of components */
    TSet<TObjectPtr<UActorComponent>> OwnedComponents;

    /**
     * indicates that PreInitializeComponents/PostInitializeComponents has been called on this Actor
     * prevents re-initializing of actors spawned during level startup 
     */
    uint8 bActorInitialized : 1;

    /** whether we've tried to register tick functions; reset when they are unregistered */
    uint8 bTickFunctionsRegistered : 1;

    /** enum defining if BeginPlay has started or finished */
    enum class EActorBeginPlayState : uint8
    {
        HasNotBegunPlay,
        BeginningPlay,
        HasBegunPlay,
    };

    /** 
     * indicates that BeginPlay has been called for this actor 
     * set back to HasNotBegunPlay once EndPlay has been called
     */
    EActorBeginPlayState ActorHasBegunPlay : 2;

    // ì•„ë˜ëŠ” Actorì˜ Componentê°€ ì €ì¥ë˜ë©´ Setìœ¼ë¡œ Hierarchy í•˜ì§€ ì•Šê²Œ ì €ì¥ë˜ëŠ”ë° ì–´ë–»ê²Œ Hierarchy ë¥¼ ê´€ë¦¬í•˜ëŠ”ì§€ì— ëŒ€í•œ ì„¤ëª…ì´ë‹¤.
    /** 
     * the component that defines the transform (location, rotation, scale) of this Actor in the world
     * all other components must be attached to this one somehow
     */
    //
    // Diagram:                                                                                         
    // AActor                                                                                
    //  â”‚                                                                                    
    //  â”œâ”€â”€OwnedComponents: TSet<TObjectPtr<UActorComponent>                                 
    //  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    
    //  â”‚    â”‚ [Component0, Component1, Component2, Component3, Component4, Component5] â”‚    
    //  â”‚    â”‚                                                                          â”‚    
    //  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Linear Formatâ”€â”€â”€â”€â”€â”€â”€â”˜    
    //  â””â”€â”€RootComponent: TObjectPtr<USceneComponent>                                        
    //       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  
    //       â”‚ Component0 [RootComponent] â”‚                                                  
    //       â”‚  â”‚                         â”‚                                                  
    //       â”‚  â”œâ”€â”€Component1             â”‚                                                  
    //       â”‚  â”‚   â”‚                     â”‚                                                  
    //       â”‚  â”‚   â”œâ”€â”€Component2         â”‚                                                  
    //       â”‚  â”‚   â”‚                     â”‚                                                  
    //       â”‚  â”‚   â””â”€â”€Component3         â”‚                                                  
    //       â”‚  â”‚       â”‚                 â”‚                                                  
    //       â”‚  â”‚       â””â”€â”€Component4     â”‚                                                  
    //       â”‚  â”‚                         â”‚                                                  
    //       â”‚  â””â”€â”€Component5             â”‚                                                  
    //       â”‚                            â”‚                                                  
    //       â””â”€â”€â”€â”€Hierachrical Formatâ”€â”€â”€â”€â”€â”˜                                                  
    //                                                                                       
    // ê²°êµ­ Rootë¡œ ê´€ë¦¬í•œë‹¤ëŠ” ë§.
    TObjectPtr<USceneComponent> RootComponent;

    /** The UChildActorComponent that owns this Actor */
    //   - see Diagram:                                                                                               
    //     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              
    //     â”‚  Actor0  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Actor1  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Actor2  â”‚              
    //     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
    //                                                                                                           
    //     RootComponent                        RootComponent â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             RootComponent             
    //      â”‚                                    â”‚                       â”‚              â”‚                        
    //      â”œâ”€â”€â”€Component1â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”œâ”€â”€â”€Component1     Actor2-Actor1       â””â”€â”€â”€Component1           
    //      â”‚                        â”‚           â”‚                       â”‚                                       
    //      â”œâ”€â”€â”€Component2    Actor1-Actor0      â””â”€â”€â”€Component2          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ParentComponent           
    //      â”‚    â”‚                   â”‚                                                                           
    //      â”‚    â””â”€â”€â”€Component3      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ParentComponent                                                  
    //      â”‚                                                                                                    
    //      â””â”€â”€â”€Component4                                                                                       
    //                                                                                                           
    //                                                                                                           
    //                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                  
    //                 â”‚                                      â”‚                                                  
    //                 â”‚      Actor0 â—„â”€â”€â”€                     â”‚                                                  
    //                 â”‚       â”‚                              â”‚                                                  
    //                 â”‚       â””â”€RootComponent                â”‚                                                  
    //                 â”‚          â”‚                           â”‚                                                  
    //                 â”‚          â””â”€Component1                â”‚                                                  
    //                 â”‚             â”‚                        â”‚                                                  
    //                 â”‚             â””â”€Actor1 â—„â”€â”€â”€            â”‚                                                  
    //                 â”‚                â”‚                     â”‚                                                  
    //                 â”‚                â””â”€RootComponent       â”‚                                                  
    //                 â”‚                   â”‚                  â”‚                                                  
    //                 â”‚                   â””â”€Actor2 â—„â”€â”€â”€â”€     â”‚                                                  
    //                 â”‚                                      â”‚                                                  
    //                 â”‚                                      â”‚                                                  
    //                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                  
    TWeakObjectPtr<UChildActorComponent> ParentComponent;
};
```