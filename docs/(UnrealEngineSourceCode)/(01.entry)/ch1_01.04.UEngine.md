---
layout: default
title: "01-04. UEngine"
parent: "(01. UEì˜ Mainì€ ì–´ë””ì¼ê¹Œ?)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
// ëª¨ë“  ì—”ì§„ í´ë˜ìŠ¤ì˜ ë² ì´ìŠ¤ í´ë˜ìŠ¤ë¡œ ì—ë””í„°ë‚˜ ê²Œì„ ì‹œìŠ¤í…œì— ì¤‘ìš”í•œ ì‹œìŠ¤í…œ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤

class UEngine : public UObject, public FExec
{
    FWorldContext& CreateNewWorldContext(EWorldType::Type WorldType)
    {
        FWorldContext* NewWorldContext = new FWorldContext;
        WorldList.Add(NewWorldContext);
        NewWorldContext->WorldType = WorldType;
        NewWorldContext->ContextHandle = FName(*FString::Printf(TEXT("Context_%d"), NextWorldContextHandle++));
        return *NewWorldContext;
    }

    /** initialize the game engine */
    // ê²Œì„ ì—”ì§„ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤
    virtual void Init(IEngineLoop* InEngineLoop)
    {
        if (GIsEditor)
        {
            // create a WorldContext for the editor to use and create an initially empty world
            // here, we make sure that at least, one editor world exists
            // ì—ë””í„°ì—ì„œ ì‚¬ìš©í•  WorldContextë¥¼ ìƒì„±í•˜ê³  ì´ˆê¸°ì— ë¹ˆ ì›”ë“œë¥¼ ë§Œë“­ë‹ˆë‹¤
            // ì—¬ê¸°ì„œ ìµœì†Œí•œ í•˜ë‚˜ì˜ ì—ë””í„° ì›”ë“œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤
            FWorldConext& InitialWorldContext = CreateNewWorldContext(EWorldType::Editor);

            // we get into Foundation - CreateWorld
            // Foundation - CreateWorldë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤
            InitialWorldContext.SetCurrentWorld(UWorld::CreateWorld(EWorldType::Editor, true));
            GWorld = InitialWorldContext.World();
        }
    }

    // recommend to look into TIndirectArray, focusing on differences from TArray
    // TIndirectArrayë¥¼ ì‚´í´ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤, TArrayì™€ì˜ ì°¨ì´ì ì— ì´ˆì ì„ ë§ì¶”ì„¸ìš”
    TIndirectArray<FWorldContext> WorldList;
    int32 NextWorldContextHandle;
};
```