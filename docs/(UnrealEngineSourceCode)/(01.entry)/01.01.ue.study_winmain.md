---
layout: default
title: "01-01. WinMain"
parent: "(01. UEì˜ Mainì€ ì–´ë””ì¼ê¹Œ?)"
grand_parent: "(UE SourceCode ë¶„ì„ ğŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
int32 WinMain(_In_ HINSTANCE hInInstance, _In_opt_ HINSTANCE hPrevInstance, _In_ char* pCmdLine, _In_ int32 nCmdShow)
{
    // ì‹œì‘
        // ì•„ë§ˆ Main Loopê°€ ì—¬ê¸°ì„œ ëŒê² ì§€?
    int32 Result = LaunchWindowsStartup(hInInstance, hPrevInstance, pCmdLine, nCmdShow, nullptr);

    // ì¢…ë£Œ
    LaunchWindowsShutdown();
    return Result;
}
```

```cpp
int32 LaunchWindowsStartup(HINSTANCE hInInstance, HINSTANCE hPrevInstance, char*, int32 nCmdShow, const TCHAR* CmdLine)
{
    int32 ErrorLevel = 0;

    if (!CmdLine)
    {
        // argë¥¼ ì—¬ê¸°ì„œ ë°›ê³ 
        CmdLine = GetCommandLineW();
        if (ProcessCommandLine())
        {
            CmdLine = *GSavedCommandLine;
        }
    }

    {
        // SEH (structured exception handling)ë¡œ ë®ì–´ë†” Exceptionì²˜ë¦¬ë¥¼ í•˜ê²Œëœë‹¤.
        __try
        {
            GIsGuarded = 1;
            ErrorLevel = GuardedMainWrapper(CmdLine);
            GIsGuarded = 0;
        }
        __except(FPlatformMisc::GetCrashHandlingType == ECrashHandlingType::Default
            ? ReportCrash(GetExceptionInformation())
			: EXCEPTION_CONTINUE_SEARCH)
        {
            ErrorLevel = 1;
            FPlatformMisc::RequestExit(true);
        }
    }

    return ErrorLevel;
}
```

```cpp
int32 GuardedMainWrapper(const TCHAR* CmdLine)
{
    int32 ErrorLevel = 0;

    // ê²°êµ­ ì‹¤ì œ ì‹œì‘ì€ ì—¬ê¸°ê°€ ë˜ê² ì§€?
        // ë‹¤ìŒì¥ ì°¸ì¡°!
    ErrorLevel = GuardMain(CmdLine);
    return ErrorLevel;
}
```