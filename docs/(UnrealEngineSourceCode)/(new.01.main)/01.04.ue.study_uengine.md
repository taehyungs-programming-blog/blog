---
layout: default
title: "01-04. UEngine"
parent: "(01. UEì˜ Mainì€ ì–´ë””ì¼ê¹Œ?)"
grand_parent: "(UE SourceCode ë¶„ì„ ðŸ¤–)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
// ëª¨ë“  ì—”ì§„ í´ëž˜ìŠ¤ì˜ ë² ì´ìŠ¤ í´ëž˜ìŠ¤ë¡œ ì—ë””í„°ë‚˜ ê²Œìž„ ì‹œìŠ¤í…œì— ì¤‘ìš”í•œ ì‹œìŠ¤í…œ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤
class UEngine : public UObject, public FExec
{
    FWorldContext& CreateNewWorldContext(EWorldType::Type WorldType)
    {
        FWorldContext* NewWorldContext = new FWorldContext;
        WorldList.Add(NewWorldContext);
        NewWorldContext->WorldType = WorldType;
        NewWorldContext->ContextHandle = FName(*FString::Printf(TEXT("Context_%d"), NextWorldContextHandle++));
        return *NewWorldContext;
    }

    virtual void Init(IEngineLoop* InEngineLoop)
    {
        if (GIsEditor)
        {
            FWorldConext& InitialWorldContext = CreateNewWorldContext(EWorldType::Editor);

            InitialWorldContext.SetCurrentWorld(UWorld::CreateWorld(EWorldType::Editor, true));
            GWorld = InitialWorldContext.World();
        }
    }

    TIndirectArray<FWorldContext> WorldList;
    int32 NextWorldContextHandle;
};
```