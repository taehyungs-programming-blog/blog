---
layout: default
title: "([Network] 09. ServerChallengeControlMessage)"
parent: "(UE SourceCode λ¶„μ„ π¤–)"
has_children: true
nav_order: 3
---

* NMT_Challengeλ” μ–Έλ¦¬μ–Ό μ—”μ§„μ λ„¤νΈμ›ν¬ ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ—μ„ μ¤‘μ”ν• μ—­ν• μ„ ν•λ” μ»¨νΈλ΅¤ λ©”μ‹μ§€μ…λ‹λ‹¤.

* λ°μƒ μ‹μ 
    * ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— NMT_Hello λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄λ©΄
    * μ„λ²„λ” μ΄λ¥Ό κ²€μ¦ν• ν›„ NMT_Challenge λ©”μ‹μ§€λ΅ μ‘λ‹µν•©λ‹λ‹¤
* λ©μ 
    * ν΄λΌμ΄μ–ΈνΈμ μ •λ‹Ήμ„±μ„ ν™•μΈν•κΈ° μ„ν• λ³΄μ• λ©”μ»¤λ‹μ¦
    * λ¬΄μ‘μ„λ΅ μƒμ„±λ μ±λ¦°μ§€ κ°’μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅
    * ν΄λΌμ΄μ–ΈνΈλ” μ΄ μ±λ¦°μ§€ κ°’μ„ μ΄μ©ν•΄ μ‘λ‹µμ„ μƒμ„±ν•΄μ•Ό ν•¨

*  μ¦‰, μ„λ²„μ—μ„ μ‘λ‹µμΌλ΅ λ³΄λ‚Ό Challenge(λλ¤κ°’)μ„ μ–΄λ–»κ² λ³΄λ‚΄λ”μ§€ 

---

* μ°μ„ , ν¨ν‚·μ€ μμ‹ λμ—λ‹¤κ³  κ°€μ •ν•λ‹¤.

```cpp
class FNetPacketNotify
{
public:
    enum { SequenceNumberBits = 14 };
    enum { MaxSequenceHistoryLength = 256 };

    typedef TSequenceNumber<SequenceNumberBits, uint16> SequenceNumberT;
    typedef TSequenceHistory<MaxSequenceHistoryLength> SequenceHistoryT;

    // μ†μ„±λ“¤μ„ μ„λ²„ κ΄€μ μ—μ„ ν•λ‚μ”© λ¶„μ„ν•΄λ΄…μ‹λ‹¤
    // - Seq: ν΄λΌμ΄μ–ΈνΈ μΈ΅μ OutSeq
    // - AckedSeq: ν΄λΌμ΄μ–ΈνΈ μΈ΅μ InAckSeq(μ—¬κΈ°μ„ 'In'μ€ server -> clientλ¥Ό μλ―Έ)
    // - History: InAckSeq μ΄ν›„μ ν¨ν‚· μ „λ‹¬ μ΄λ ¥
    //   - Historyλ” InAckSeqAckλ¥Ό κ³„μ‚°ν•λ”λ° μ‚¬μ©λ©λ‹λ‹¤!
    //
    //     ***FNetPacketNotify::FNotificationHeader                                       
    //        β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€                                       
    //            β”‚                                                                       
    //            β”β”€β”€AckedSeq: InAckSeq(client): 1024                                     
    //            β”‚                                                                       
    //            β””β”€β”€History:      β”β”€β”€β”€bit-0λ” κ°€μ¥ μµκ·Όμ μ „λ‹¬ μƒνƒλ¥Ό μλ―Έν•©λ‹λ‹¤(μµμ‹ )!       
    //               β”β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β”€β”€β”¬β”€β–Όβ”€β”                                                    
    //               β”‚ 1 β”‚ 1 β”‚ 0 β”‚ 0 β”‚                                                    
    //               β””β”€β–²β”€β”΄β”€β–²β”€β”΄β”€β”€β”€β”΄β”€β”€β”€β”                                                    
    //                 β”‚   β”‚                                                              
    //                 β”‚  ***1024κ°€ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ„±κ³µμ μΌλ΅ ν™•μΈλ¨                    
    //                 β”‚                                                                  
    //                 β”‚                                                                  
    //           ***1023μ΄ ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μ„±κ³µμ μΌλ΅ ν™•μΈλ¨                             
    //               β”‚                                                                    
    //               β””β”€InAckSeq(client) == OutSeq(server)                                 
    //                 : ν¨ν‚· ID(1023)κ°€ μ„λ²„μ—μ„ μ „μ†΅λμ–΄ ν΄λΌμ΄μ–ΈνΈκ°€ μμ‹ ν•¨         
    //                                                                                 
    struct FNotificationHeader
    {
        SequenceHistoryT History;
        SIZE_T HisotryWordCount;
        SequenceNumberT Seq;
        SequenceNumberT AckedSeq;
    }
```