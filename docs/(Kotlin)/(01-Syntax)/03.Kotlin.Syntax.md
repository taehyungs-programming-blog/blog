---
layout: default
title: "03. Adv"
parent: "(Part.1 - ë¬¸ë²•)"
grand_parent: "(Kotlin ğŸŒŸ)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## lambda

```kotlin

fun b() = "text"

val sumNumber1 = {a : Int, b : Int -> a + b}
val sumNumber2 : (Int, Int) -> Int? = {a, b -> a + b}
val sumString1 = {a : String, b : String -> "string1 : $a string2 : $b"} 
val sumString2 = (String, String) -> String {a, b -> "string1 : $a string2 : $b"} 
```

---

## ê³ ì°¨ í•¨ìˆ˜ (High-order Function)

* í•¨ìˆ˜ì— í•¨ìˆ˜ë¥¼ ë„˜ê²¨ë³´ì

```kotlin
fun main() {
    sum(1, 2, {a : Int, b : Int -> a + b})
    sum(1, 2, ::testSum)
}

// ê¼­ operationì´ë¼ ì´ë¦„ì„ ì •ì˜í•˜ì§€ ì•Šì•„ë„ ë¨
fun sum(a : Int, b : Int, operation : (Int, Int) -> Int) {
    // ...
    operation(a,b)  // ì´ëŸ°ì‹ìœ¼ë¡œ í˜¸ì¶œê°€ëŠ¥.
}

fun testSum(a : Int, b : Int) : Int {
    return a + b
}
```

```kotlin
fun printTest(aaa : (String) -> Unit /*ì•„ë¬´ê²ƒë„ ë¦¬í„´í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»*/) {
    // ...
}
```

---

## Generic

```kotlin
fun main() {
    val t = testClass(10)       // Int
    val t2 = testClass("10")    // String
}

class testClass<T>(test : T) {
    var value = test
}
```

```kotlin
// ìœ„ì™€ ë˜‘ê°™ì€ í‘œí˜„ì„.
fun<T> testFunc(a : T) {

}
```

---

## Object

* Singletonì´ë¼ ìƒê°í•˜

```kotlin
fun main() {
    val t = testClass()
    val t2 = testClass()
    // ê°ì²´ê°€ ë‘ ë²ˆ ìƒì„±ë¨.

    val t3 = testObject()
    val t4 = testObject()
    // í•œ ë²ˆë§Œ ìƒì„±ë¨.
}

class testClass {
    init {
        println("Init testClass")
    }
}

object testObject {
    init {
        println("Init testObject")
    }
}
```

* static ì„ ì–¸

```kotlin
// ì´ë ‡ê²Œ ì ‘ê·¼í•´ì•¼í•¨.
testObject.number = 1

class testObject {
    companion object {
        var number = 0
    }
}
```

---

## ì§€ì—° ì´ˆê¸°í™” (lateinit)

```kotlin
lateinit var lateString : String
println(lateString) // Error - ì´ˆê¸°í™” í›„ ì‚¬ìš©ê°€ëŠ¥
lateString = "Hello world"
println(lateString) // Okay
```

```kotlin
val lazyString : String by lazy {
    // ì‚¬ìš©ë ë•Œ ì´ˆê¸°í™” ëœë‹¤.
    "Hello World"
}
```

---

## infix function

* ì¤‘ê°„ì— ë„£ëŠ” í•¨ìˆ˜?

```kotlin
fun main() {
    println(10 newSum 20)   // ì´ë ‡ê²Œ ì“°ê³ ì‹¶ë‹¤
}

infix fun Int.newSum(num : Int) : Int = this + num
```

---

## scope function

### let, with

* **let**
    * let í•¨ìˆ˜ëŠ” í˜¸ì¶œëœ ê°ì²´(this)ë¥¼ ëŒë‹¤ì‹ ë‚´ë¶€ë¡œ ì „ë‹¬í•˜ê³ , ëŒë‹¤ì‹ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    * ì£¼ë¡œ **null ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê°ì²´**ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜, í•œì •ëœ ë²”ìœ„ ë‚´ì—ì„œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
    * ëŒë‹¤ì‹ ë‚´ì—ì„œëŠ” ê°ì²´ë¥¼ itìœ¼ë¡œ ì°¸ì¡°í•©ë‹ˆë‹¤(ëª…ì‹œì ìœ¼ë¡œ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤).

```kotlin
val str: String? = "Hello Kotlin"

// nullì´ ì•„ë‹ ë•Œë§Œ ì½”ë“œ ë¸”ë¡ ì‹¤í–‰
str?.let {
    println(it)  // ì—¬ê¸°ì„œ 'it'ì€ 'str'ì„ ê°€ë¦¬í‚µë‹ˆë‹¤.
    val length = it.length  // 'str'ì˜ ê¸¸ì´ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
    println("The length of the string is $length")
}
```

* **with**
    * with í•¨ìˆ˜ëŠ” ì£¼ì–´ì§„ ê°ì²´ë¥¼ ëŒë‹¤ì‹ì˜ ìˆ˜ì‹  ê°ì²´ë¡œ ì‚¬ìš©í•˜ê³ , ëŒë‹¤ì‹ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    * íŠ¹ì • ê°ì²´ë¥¼ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•´ì•¼ í•  ë•Œ ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê²Œ ë§Œë“¤ì–´ì£¼ë©°, ì£¼ë¡œ ì´ˆê¸°í™” ê³¼ì •ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤.
    * ëŒë‹¤ì‹ ë‚´ì—ì„œ ê°ì²´ëŠ” thisë¡œ ì°¸ì¡°ë©ë‹ˆë‹¤.

```kotlin
val builder = StringBuilder()

with(builder) {
    append("Hello ")  // ì—¬ê¸°ì„œ 'this'ëŠ” 'builder' ê°ì²´ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.
    append("Kotlin!")
    toString()
}

println(builder)  // ì¶œë ¥: "Hello Kotlin!"
```

* letê³¼ withì˜ ì£¼ìš” ì°¨ì´ì :
    * letì€ ê°ì²´ë¥¼ itìœ¼ë¡œ ì°¸ì¡°í•˜ë©°, ì£¼ë¡œ null ì²˜ë¦¬ë‚˜, í•œ ê°ì²´ë¥¼ í•œì •ëœ ë²”ìœ„ ë‚´ì—ì„œ ì‚¬ìš©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
    * withì€ ê°ì²´ë¥¼ thisë¡œ ì°¸ì¡°í•˜ë©°, ì£¼ë¡œ ê°ì²´ì˜ ì´ˆê¸°í™”ë‚˜ ì—¬ëŸ¬ ë©”ì†Œë“œ/ì†ì„±ì„ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## run, apply, also

* **run**
    * runì€ withì™€ ìœ ì‚¬í•˜ê²Œ ë™ì‘í•˜ì§€ë§Œ, ê°ì²´ ëŒ€ì‹  **ëŒë‹¤ì‹ì„ ìˆ˜ì‹  ê°ì²´ë¡œ ë°›ìŠµë‹ˆë‹¤.**
    * í˜¸ì¶œëœ ê°ì²´(this)ë¥¼ ëŒë‹¤ì‹ ë‚´ë¶€ë¡œ ì „ë‹¬í•˜ê³ , ëŒë‹¤ì‹ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    * ì£¼ë¡œ ê°ì²´ì˜ ì´ˆê¸°í™”ì™€ ì—°ì‚° ê²°ê³¼ë¥¼ í•¨ê»˜ í•„ìš”ë¡œ í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

```kotlin
val result = "Hello Kotlin".run {
    println(this)  // 'this'ëŠ” ë¬¸ìì—´ "Hello Kotlin"ì„ ê°€ë¦¬í‚µë‹ˆë‹¤.
    length  // ëŒë‹¤ì‹ì˜ ë§ˆì§€ë§‰ ì¤„ì´ ê²°ê³¼ê°’ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.
}

println("String length: $result")  // ì¶œë ¥: String length: 12
```

* **apply**
    * applyëŠ” ê°ì²´ì— í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì²˜ëŸ¼ ì‚¬ìš©ë©ë‹ˆë‹¤.
    * í˜¸ì¶œëœ ê°ì²´(this)ë¥¼ ëŒë‹¤ì‹ ë‚´ë¶€ë¡œ ì „ë‹¬í•˜ë©°, ê°ì²´ ìì‹ ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    * ì£¼ë¡œ ê°ì²´ì˜ ì†ì„±ì„ ì´ˆê¸°í™”í•˜ê±°ë‚˜ ì„¤ì •í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.

```kotlin
val person = Person().apply {
    name = "John"  // 'this'ëŠ” 'person' ê°ì²´ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.
    age = 25
}

println(person)  // ì¶œë ¥: Person(name=John, age=25)
```

* **also**
    * alsoëŠ” applyì™€ ìœ ì‚¬í•˜ì§€ë§Œ, í˜¸ì¶œëœ ê°ì²´ë¥¼ itìœ¼ë¡œ ì°¸ì¡°í•©ë‹ˆë‹¤.
    * í˜¸ì¶œëœ ê°ì²´(it)ë¥¼ ëŒë‹¤ì‹ ë‚´ë¶€ë¡œ ì „ë‹¬í•˜ë©°, ê°ì²´ ìì‹ ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    * ì£¼ë¡œ ê°ì²´ì˜ ì†ì„±ì„ ë³€ê²½í•˜ê±°ë‚˜ ì¶”ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©ë˜ë©°, itì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ê°ì²´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.

```kotlin
val numbers = mutableListOf(1, 2, 3).also {
    println("The list elements are: $it")  // 'it'ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.
    it.add(4)  // ë¦¬ìŠ¤íŠ¸ì— ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
}

println(numbers)  // ì¶œë ¥: [1, 2, 3, 4]

```