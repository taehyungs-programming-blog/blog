---
layout: default
title: "(11. FClassNetCache)"
parent: "(UE Code-Review ğŸ¤–)"
has_children: true
nav_order: 2
permalink: docs/review/ue/ver4/11/FClassNetCache
---

## ìš°ì„  FClassNetCache, ë€ ë­˜ê¹Œ?

```cpp
// MyCharacter.h ì´ëŸ°ê°ì²´ê°€ ìˆë‹¤ ê°€ì •í•˜ì.
UCLASS()
class MYGAME_API AMyCharacter : public ACharacter
{
    GENERATED_BODY()

public:
    AMyCharacter();

    // ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë³µì œë  ì†ì„±ë“¤ -> ì´ê±¸ ì–´ë–»ê²Œ ì²˜ë¦¬í• ê¹Œ?
    UPROPERTY(Replicated)
    float Health;
    
    UPROPERTY(ReplicatedUsing=OnRep_Ammo)
    int32 Ammo;
    
    // ë³µì œë˜ì§€ ì•ŠëŠ” ì†ì„±
    UPROPERTY()
    float LocalOnlyValue;
    
    // ì¡°ê±´ë¶€ ë³µì œ ì†ì„±
    UPROPERTY(Replicated)
    FVector LastHitLocation;
    
    // ë³µì œ ì½œë°± í•¨ìˆ˜
    UFUNCTION()
    void OnRep_Ammo();
    
    // ë°ë¯¸ì§€ ì²˜ë¦¬ í•¨ìˆ˜
    void TakeDamage(float DamageAmount, FVector HitLocation);
    
    // ë³µì œ ì†ì„± ì„¤ì •
    virtual void GetLifetimeReplicatedProps(TArray<FLifetimeProperty>& OutLifetimeProps) const override;
    
    // ë””ë²„ê¹… í•¨ìˆ˜
    void DebugNetworkCache();
};

// MyCharacter.cpp
#include "MyCharacter.h"
#include "Net/UnrealNetwork.h"

AMyCharacter::AMyCharacter()
{
    Health = 100.0f;
    Ammo = 30;
    LocalOnlyValue = 0.0f;
}

void AMyCharacter::GetLifetimeReplicatedProps(TArray<FLifetimeProperty>& OutLifetimeProps) const
{
    Super::GetLifetimeReplicatedProps(OutLifetimeProps);
    
    // ê¸°ë³¸ ë³µì œ
    DOREPLIFETIME(AMyCharacter, Health);
    DOREPLIFETIME(AMyCharacter, Ammo);
    
    // ì¡°ê±´ë¶€ ë³µì œ (ì†Œìœ ìì—ê²Œë§Œ)
    DOREPLIFETIME_CONDITION(AMyCharacter, LastHitLocation, COND_OwnerOnly);
}

void AMyCharacter::OnRep_Ammo()
{
    // íƒ„ì•½ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ UI ì—…ë°ì´íŠ¸ ë“±ì˜ ì‘ì—…
    UE_LOG(LogTemp, Display, TEXT("íƒ„ì•½ì´ %dë¡œ ë³€ê²½ë¨"), Ammo);
}

void AMyCharacter::TakeDamage(float DamageAmount, FVector HitLocation)
{
    // ì„œë²„ì—ì„œë§Œ ì‹¤í–‰
    if (HasAuthority())
    {
        // ì²´ë ¥ ê°ì†Œ
        Health -= DamageAmount;
        LastHitLocation = HitLocation;
        
        // ì²´ë ¥ì´ 0 ì´í•˜ë©´ ì‚¬ë§ ì²˜ë¦¬
        if (Health <= 0)
        {
            Health = 0;
            // ì‚¬ë§ ì²˜ë¦¬ ì½”ë“œ...
        }
        
        // ë³€ê²½ëœ ì†ì„±ì€ ìë™ìœ¼ë¡œ ë³µì œë¨
        // ë³„ë„ì˜ RPC í˜¸ì¶œ ì—†ì´ë„ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì „íŒŒë¨
    }
}

void AMyCharacter::DebugNetworkCache()
{
    // ë„¤íŠ¸ì›Œí¬ ìºì‹œ ì •ë³´ ì¶œë ¥
    UNetDriver* NetDriver = GetNetDriver();
    if (!NetDriver || !NetDriver->NetCache)
    {
        UE_LOG(LogTemp, Warning, TEXT("NetDriver ë˜ëŠ” NetCacheê°€ ì—†ìŒ"));
        return;
    }
    
    // í´ë˜ìŠ¤ ìºì‹œ ê°€ì ¸ì˜¤ê¸°
    const FClassNetCache* ClassCache = NetDriver->NetCache->GetClassNetCache(GetClass());
    if (!ClassCache)
    {
        UE_LOG(LogTemp, Warning, TEXT("í´ë˜ìŠ¤ ìºì‹œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ"));
        return;
    }
    
    // ìºì‹œ ì •ë³´ ì¶œë ¥
    UE_LOG(LogTemp, Display, TEXT("=== %sì˜ ë„¤íŠ¸ì›Œí¬ ìºì‹œ ì •ë³´ ==="), *GetClass()->GetName());
    UE_LOG(LogTemp, Display, TEXT("í•„ë“œ ìˆ˜: %d"), ClassCache->Fields.Num());
    UE_LOG(LogTemp, Display, TEXT("í•„ë“œ ë² ì´ìŠ¤: %d"), ClassCache->FieldsBase);
    
    // ë³µì œ ê°€ëŠ¥í•œ ì†ì„± ì¶œë ¥
    for (int32 i = 0; i < ClassCache->Fields.Num(); i++)
    {
        const FFieldNetCache& FieldCache = ClassCache->Fields[i];
        FField* Field = FieldCache.Field.ToField();
        
        if (Field && Field->IsA<FProperty>())
        {
            FProperty* Property = CastField<FProperty>(Field);
            UE_LOG(LogTemp, Display, TEXT("ì†ì„±[%d]: %s (ì¸ë±ìŠ¤: %d)"),
                i, *Property->GetName(), FieldCache.FieldNetIndex);
        }
    }
}

// ê²Œì„ ëª¨ë“œì—ì„œ ì‚¬ìš© ì˜ˆì‹œ
void AMyGameMode::BeginPlay()
{
    Super::BeginPlay();
    
    // ìºë¦­í„° ìƒì„± ì‹œ ë„¤íŠ¸ì›Œí¬ ìºì‹œê°€ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë¨
    AMyCharacter* Character = GetWorld()->SpawnActor<AMyCharacter>(DefaultPawnClass);
    
    // ë””ë²„ê¹… ëª©ì ìœ¼ë¡œ ìºì‹œ ì •ë³´ ì¶œë ¥
    if (Character)
    {
        Character->DebugNetworkCache();
    }
}

// í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°ë¯¸ì§€ ìš”ì²­ ì˜ˆì‹œ (RPC ì‚¬ìš©)
void AMyPlayerController::RequestDamage(AActor* Target, float Amount, FVector HitLocation)
{
    // ì„œë²„ì— RPC ìš”ì²­
    ServerRequestDamage(Target, Amount, HitLocation);
}

// ì„œë²„ RPC êµ¬í˜„
UFUNCTION(Server, Reliable)
void AMyPlayerController::ServerRequestDamage(AActor* Target, float Amount, FVector HitLocation)
{
    // ì„œë²„ì—ì„œë§Œ ì‹¤í–‰ë¨
    if (!HasAuthority())
        return;
        
    // íƒ€ê²Ÿì´ ìœ íš¨í•œì§€ í™•ì¸
    AMyCharacter* Character = Cast<AMyCharacter>(Target);
    if (Character)
    {
        // ë°ë¯¸ì§€ ì ìš©
        Character->TakeDamage(Amount, HitLocation);
        
        // ë°ë¯¸ì§€ ì ìš© í›„ Healthì™€ LastHitLocationì´ ë³€ê²½ë¨
        // ì´ ë³€ê²½ëœ ì†ì„±ë“¤ì€ ìë™ìœ¼ë¡œ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ë³µì œë¨
        // HealthëŠ” ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—, LastHitLocationì€ ì†Œìœ ìì—ê²Œë§Œ ë³µì œë¨
    }
}
```

* ë­ ëŒ€ëµ ì´ëŸ°ê²ƒì´ë‹¤.

---

## FClassNetCacheëŠ” ì–´ë–»ê²Œ ë™ì‘í•˜ê²Œ ë ê¹Œ?

* `FClassNetCacheMgr`ë¥¼ í†µí•´ NetDriverì—ì„œ ê´€ë¦¬ëœë‹¤.

```cpp
virtual void PostInitProperties() override
{
    // ...
    
    // ëŒ€ëµ ì´ëŸ°ì‹ ìƒì„±
    GuidCache = TSharedPtr<FNetGUIDCache>(new FNetGUIDCache(this));
    NetCache = TSharedPtr<FClassNetCacheMgr>(new FClassNetCacheMgr());
}
```

```cpp
class FClassNetCache
{
    // ...


    // FClassNetCacheì˜ í•„ë“œëŠ” ì•„ë˜ì™€ ê°™ê³  ì¤‘ìš”í•œê±´ FieldsBaseì˜ ì´í•´ê°€ í•„ìš”í•˜ë‹¤
    int32 FieldsBase;

    const FClassNetCache* Super;
    TWeakObjectPtr<const UClass> Class;
    uint32 ClassChecksum;
    TArray<FFieldNetCache> Fields;

    TMap<void*, FFieldNetCache> FieldMap;
    TMap<uint32, FFieldNetCache> FieldChecksumMap;

    int32 GetMaxIndex() const
    {
        return FieldsBase + Fields.Num();
    }
};
```

### FieldsBaseì˜ ëª©ì 

* FieldsBaseëŠ” í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ì—ì„œ í˜„ì¬ í´ë˜ìŠ¤ê°€ ìƒì†ë°›ì€ ëª¨ë“  ë³µì œ ê°€ëŠ¥í•œ ì†ì„±(Fields)ì˜ ê¸°ë³¸ ì¸ë±ìŠ¤ë¥¼ ë‚˜íƒ€ëƒ„. 
* ì´ê²ƒì€ ë„¤íŠ¸ì›Œí¬ ë³µì œ ì‹œìŠ¤í…œì´ ê° í´ë˜ìŠ¤ì˜ ë³µì œ ê°€ëŠ¥í•œ ì†ì„±ë“¤ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ê³  ì¶”ì í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

* ì‘ë™ ë°©ì‹

```
//    class UObject â—„â”€â”€â”€â”€â”€â”€â”€ UObject has zero Fields(net-related)                       
//    {                                                                                 
//    };                                                                                
//                                        â”Œâ”€â”€â”€â”€â”€â”€â”€ 10 Fields exist:                     
//    class AActor : UObject              â”‚           bReplicateMovement, bHidden, ...  
//    {                                   â”‚        : its FieldsBase is '0'              
//        ...â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             
//    };                                                                                
//                                                                                      
//    class ATestC : public AActor                                                      
//    {                                                                                 
//        UPROPERTY(replicated)â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 1 Fields exists:                     
//        int32 F;                                 : its FieldsBase is '10'             
//    };                                                                                
//                                                                                      
//    class ATestB : public ATestC                                                      
//    {                                                                                 
//        UPROPERTY(replicated)â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 1 Fields exists:                     
//        int32 C;                                 : its FieldsBase is '11'             
//                                                                                      
//        int32 D;                                                                      
//    };                                                                                
//                                                                                      
//    class ATestA : public ATestB                                                      
//    {                                                                                 
//        UPROPERTY(replicated)â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2 Fields exists:                     
//        int32 A;                                 : its FieldsBase is '12'             
//                                                                                      
//        UPROPERTY(replicated)                                                         
//        int32 B;                                                                      
//    };  
```

* UObject í´ë˜ìŠ¤ëŠ” ë³µì œ ê°€ëŠ¥í•œ ì†ì„±ì´ ì—†ìœ¼ë¯€ë¡œ FieldsBaseëŠ” 0
* AActor í´ë˜ìŠ¤ëŠ” 10ê°œì˜ ë³µì œ ê°€ëŠ¥í•œ ì†ì„±(bReplicateMovement, bHidden ë“±)ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ì´ í´ë˜ìŠ¤ì˜ FieldsBaseëŠ” 0ì…ë‹ˆë‹¤.
* ATestC í´ë˜ìŠ¤ëŠ” AActorë¥¼ ìƒì†ë°›ê³  1ê°œì˜ ë³µì œ ê°€ëŠ¥í•œ ì†ì„±(F)ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ì˜ FieldsBaseëŠ” 10 (ë¶€ëª¨ í´ë˜ìŠ¤ AActorì˜ ì†ì„± ìˆ˜).
* ATestB í´ë˜ìŠ¤ëŠ” ATestCë¥¼ ìƒì†ë°›ê³  1ê°œì˜ ë³µì œ ê°€ëŠ¥í•œ ì†ì„±(C)ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ì˜ FieldsBaseëŠ” 11 (ë¶€ëª¨ í´ë˜ìŠ¤ë“¤ì˜ ì´ ì†ì„± ìˆ˜).
* ATestA í´ë˜ìŠ¤ëŠ” ATestBë¥¼ ìƒì†ë°›ê³  2ê°œì˜ ë³µì œ ê°€ëŠ¥í•œ ì†ì„±(A, B)ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ í´ë˜ìŠ¤ì˜ FieldsBaseëŠ” 12 (ë¶€ëª¨ í´ë˜ìŠ¤ë“¤ì˜ ì´ ì†ì„± ìˆ˜).

---

## ì´í›„ ì„¤ëª…ì— ë“¤ì–´ê°€ê¸° ì „, Unrealì˜ Propertyì— ëŒ€í•´ ì•Œì•„ë³´ì

### FProperty êµ¬ì¡°

* UTest í´ë˜ìŠ¤ ì˜ˆì‹œë¥¼ í†µí•´ FPropertyì˜ êµ¬ì¡°ë¥¼ ì„¤ëª…
    * ì•„ë˜ëŠ” ê·¸ëƒ¥ ê°€ì •ì„

```
class UTest : UObject              UTest::StaticClass: UClass                                                                                        
{                                                        â”‚                                                                                           
    UPROPERTY(Replicated)                                â”‚                                                                                           
    bool A;                                              â””â”€â”€FProperty* PropertyLink                                                                  
                                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   
    bool B;                                                 â”‚ FBoolProperty                         â”‚  â”Œâ”€â–º FBoolProperty                         â”‚   
                                                            â”‚   ClassPrivate.Name==BoolProperty     â”‚  â”‚ â”‚   ClassPrivate.Name==BoolProperty     â”‚   
    UPROPERTY()                                             â”‚        Owner.Object==UTest            â”‚  â”‚ â”‚        Owner.Object==UTest            â”‚   
    bool C;                                                 â”‚         NamePrivate=="A"              â”‚  â”‚ â”‚         NamePrivate=="C"              â”‚   
};                                                          â”‚                Nextâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”˜ â”‚                Next                   â”‚   
                                                            â”‚      OffsetInternal==0                â”‚    â”‚      OffsetInternal==2                â”‚   
                                                            â”‚                      +sizeof(UObject) â”‚    â”‚                      +sizeof(UObject) â”‚   
                                                            â”‚         ElementSize==1                â”‚    â”‚         ElementSize==1                â”‚   
                                                            â”‚            ArrayDim==1                â”‚    â”‚            ArrayDim==1                â”‚   
                                                            â”‚       PropertyFlags==CPF_Net          â”‚    â”‚       PropertyFlags==CPF_None         â”‚   
                                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   
```

* ì´ ë‹¤ì´ì–´ê·¸ë¨ì€ FPropertyì˜ ì£¼ìš” ë©¤ë²„ ë³€ìˆ˜ë“¤ì„ ë³´ì—¬ì¤€ë‹¤
    * ClassPrivate: í”„ë¡œí¼í‹° íƒ€ì… ì •ë³´
    * Owner: í”„ë¡œí¼í‹°ë¥¼ ì†Œìœ í•œ ê°ì²´
    * NamePrivate: í”„ë¡œí¼í‹° ì´ë¦„
    * Next: ë‹¤ìŒ í”„ë¡œí¼í‹° ë§í¬
    * OffsetInternal: ë©”ëª¨ë¦¬ ì˜¤í”„ì…‹
    * ElementSize: ìš”ì†Œ í¬ê¸°
    * ArrayDim: ë°°ì—´ ì°¨ì›
    * PropertyFlags: í”„ë¡œí¼í‹° í”Œë˜ê·¸(ì˜ˆ: CPF_Netì€ ë„¤íŠ¸ì›Œí¬ ë³µì œ ê°€ëŠ¥)

---

### FArrayProperty êµ¬ì¡°

```
// 1. Inner:FProperty*:
//                                                         
//             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
//           â”€â”€â”´â”€                                       â”‚  
//    TArray<Type>        FArrayProperty                â”‚  
//    â”€â”€â”€â”¬â”€â”€                â–² â”‚                         â”‚  
//       â”‚                  â”‚ â””â”€â”€Inner:FProperty*â—„â”€â”€â”€â”€â”€â”€â”˜  
//       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              
```

- `FArrayProperty`ëŠ” `TArray<Type>`ì„ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œí¼í‹° í´ë˜ìŠ¤.
- Inner ë©¤ë²„ ë³€ìˆ˜ëŠ” ë°°ì—´ ë‚´ë¶€ ìš”ì†Œì˜ íƒ€ì…ì„ ë‚˜íƒ€ë‚´ëŠ” `FProperty í¬ì¸í„°`ì´ë‹¤.
- ì´ êµ¬ì¡°ë¥¼ í†µí•´ ë°°ì—´ì˜ ìš”ì†Œ íƒ€ì…ì— ëŒ€í•œ ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.

```
// 2. FArrayProperty_Super:
//
//    FArrayProperty_Super==TProperty<FScriptArray, FProperty>                                                                      
//                          â”€â”€â”€â”€â”¬â”€â”€â”€â”€ â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”¬â”€â”€                                                                       
//                              â”‚          â”‚              â”‚                                                                         
//                              â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       
//                              â”‚                       â”‚                   â”‚                                                       
//                              â”‚                       â–¼                   â–¼                                                       
//                              â””â”€â”€â–ºtemplate<typename InTCppType, class TInPropertyBaseClass>                                       
//                                  class TProperty : public TInPropertyBaseClass, public TPropertyTypeFundermentals<InTCppType>    
//                                                                                                                                  
//                                                                                                                                  
//                                      FField                                                                                      
//                                         â–²                                                                                        
//                                         â”‚                                                                                        
//                                         â”‚                                                                                        
//                                     FProperty  TPropertyTypeFundermentals<FScriptArray>                                          
//                                         â–²           â–²                                                                            
//                                         â”‚           â”‚                                                                            
//                                   Super â”‚           â”‚ ***it contains template values:                                            
//                                         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     1.CPPSize=sizeof(FScriptArray)                                         
//                                               â”‚           2.CPPAlignment=alignof(FScriptArray)                                       
//                                               â”‚                                                                                  
//                                               â”‚                                                                                  
//                                        FArrayProperty_Super                                                                      
//                                        ==TProperty<FScriptArray,FProperty>                                                       
```

- `FArrayProperty`ëŠ” `FArrayProperty_Super`ë¥¼ ìƒì†ë°›ëŠ”ë‹¤.
- FArrayProperty_SuperëŠ” `TProperty<FScriptArray, FProperty>`ì˜ íƒ€ì… ë³„ì¹­.
- ì´ í…œí”Œë¦¿ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒì† ê´€ê³„ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤: 
    - FField â†’ FProperty â†’ TProperty<FScriptArray, FProperty> 
    - TPropertyTypeFundamentals<FScriptArray>ë„ í•¨ê»˜ ìƒì†

```
// 3. FProperty::ElementSize is updated by TPropertyTypeFundermentals::CPPSize   
```
    
* ë©”ëª¨ë¦¬ í¬ê¸° ì„¤ì •
- `FProperty::ElementSize`ëŠ” `TPropertyTypeFundamentals::CPPSize`ì— ì˜í•´ ì—…ë°ì´íŠ¸ëœë‹¤.
- ì´ëŠ” TPropertyì˜ ìƒì„±ìì—ì„œ `SetElementSize()` í•¨ìˆ˜ë¥¼ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤.

---

### FFieldì— ëŒ€í•´

```cpp
class FField
{
    // ê¸°ë³¸ í•„ë“œ í´ë˜ìŠ¤ì™€ í•„ë“œ íƒ€ì… í´ë˜ìŠ¤ ì •ì˜
    typedef FField BaseFieldClass;
    typedef FFieldClass FieldTypeClass;

    /** ì´ FFieldì˜ íƒ€ì…ì„ ë‚˜íƒ€ë‚´ëŠ” í´ë˜ìŠ¤ ê°ì²´ì— ëŒ€í•œ í¬ì¸í„° */
    FFieldClass* ClassPrivate;

    /** ì´ í•„ë“œì˜ ì†Œìœ ì */
    FFieldVariant Owner;

    /** ì—°ê²° ë¦¬ìŠ¤íŠ¸ì˜ ë‹¤ìŒ í•„ë“œ */
    FField* Next;

    /** ì´ í•„ë“œì˜ ì´ë¦„ */
    FName NamePrivate;
};
```

* FFieldëŠ” ì–¸ë¦¬ì–¼ ì—”ì§„ì˜ ë©¤ë²„ ë³€ìˆ˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µ. ì½”ë“œì— ìˆëŠ” ì£¼ì„ ê·¸ë¦¼ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, í´ë˜ìŠ¤ì˜ í”„ë¡œí¼í‹°ë“¤ì€ FFieldì˜ íŒŒìƒ í´ë˜ìŠ¤ì¸ FPropertyë¡œ í‘œí˜„ë˜ë©°, ì´ë“¤ì€ ì—°ê²° ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ êµ¬ì„±ëœë‹¤.

```cpp
class UTest : UObject
{
    UPROPERTY()
    bool A;

    bool B;  // UPROPERTYê°€ ì—†ìŒ

    UPROPERTY()
    bool C;
};

// ì´ í´ë˜ìŠ¤ì˜ í”„ë¡œí¼í‹° Aì™€ CëŠ” FBoolProperty ê°ì²´ë¡œ í‘œí˜„ë˜ë©°, ì´ë“¤ì€ Next í¬ì¸í„°ë¥¼ í†µí•´ ì—°ê²°. BëŠ” UPROPERTY ë§¤í¬ë¡œê°€ ì—†ìœ¼ë¯€ë¡œ ë¦¬í”Œë ‰ì…˜ ì‹œìŠ¤í…œì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤
```