---
layout: default
title: "LocalPlayerμ—μ„ SceneRenderμ—°κ΄€ λ¶€λ¶„ μ •λ¦¬"
parent: "(01. SceneRender)"
grand_parent: "(UE Code-Review π³)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## μ°μ„  LocalPlayerμ— λ€ν•΄ μ΄ν•΄κ°€ ν•„μ”ν•λ‹¤.

* LocalPlayerλ” ν΄λΌμ΄μ–ΈνΈλ‚ λ¦¬μ¨ μ„λ²„μ—μ„ μ‹¤μ  ν”λ μ΄μ–΄λ¥Ό λ€ν‘ν•λ” ν΄λμ¤
* μ£Όμ” νΉμ§•
    * λ§µμ΄ λ³€κ²½λμ–΄λ„ μ μ§€λ©λ‹λ‹¤ (λ§µ λ…λ¦½μ )
    * λ¶„ν• ν™”λ©΄/ν‘λ™ κ²μ„μ—μ„ μ—¬λ¬ κ°κ°€ μ΅΄μ¬ν•  μ μμµλ‹λ‹¤
    * λ°λ””μΌ€μ΄ν‹°λ“ μ„λ²„μ—μ„λ” μƒμ„±λμ§€ μ•μµλ‹λ‹¤

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/unreal_review_ver3/basic/01.04_01.png"/>
</p>

---

## FSceneViewStateInterface(FSceneViewStateReference)μ— κ΄€ν•΄

* λ λ”λ§ μƒνƒλ¥Ό ν”„λ μ„ κ°„μ— μ μ§€ν•λ” μΈν„°νμ΄μ¤
* λ¨μ… λΈ”λ¬, μ‹κ°„μ  AA(Temporal Anti-Aliasing), μ¤ν΄λ£¨μ „ μΏΌλ¦¬ λ“±μ ν”„λ μ„ κ°„ μ§€μ†λμ–΄μ•Ό ν•λ” λ λ”λ§ μƒνƒλ¥Ό κ΄€λ¦¬

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/unreal_review_ver3/basic/01.04_02.png"/>
</p>

```cpp
virtual bool CalcSceneView(
    class FSceneViewFamily* ViewFamily,
    FVector& OutViewLocation,
    FRotator& OutViewRotation,
    FViewport* Viewport,
    class FViewElementDrawer* ViewDrawer = NULL,
    int32 StereoViewIndex = INDEX_NONE)
{
    FSceneViewInitOptions ViewInitOptions;
    if (!CalcSceneViewInitOptions(ViewInitOptions, Viewport, ViewDrawer, StereoViewIndex))
    {
        return nullptr;
    }


    ViewInitOptions.ViewFamily = ViewFamily;

    //...

    FSceneView* const View = new FSceneView(ViewInitOptions);
    OutViewLocation = View->ViewLocation;
    OutViewRotation = View->ViewRotation;
    
    ViewFamily->Views.Add(View);
    {
        if (PlayerController->PlayerCameraManager)
        {
            //...
        }
    }

    return View;
}
```