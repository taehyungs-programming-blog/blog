---
layout: default
title: "13. [ë¬¸ë²•] ë°ì´í„°ë² ì´ìŠ¤ ì‘ì„±"
parent: "(DATABASE)"
grand_parent: "Game Server ğŸ‘¾"
nav_order: 2
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## ë°ì´í„° ë² ì´ìŠ¤, í…Œì´ë¸” ìƒì„±

```sql
-- ë°ì´í„° ë² ì´ìŠ¤(Schema) ë§Œë“¤ê¸°
CREATE DATABASE GameDB


-- í…Œì´ë¸” ìƒì„±/ì‚­ì œ/ë³€ê²½
USE GameDB
-- CREATE TABLE [í…Œì´ë¸”ëª…](ì—´ì´ë¦„ ìë£Œí˜• [default ê°’] [not | not null])
CREATE TABLE accounts(
    accountId INTEGER NOT NULL,
    accountName VARCHAR(10) NOT NULL,
    coins INTEGER DEFAULT 0,
    createTime DATETIME
)
SELECT *
FROM accounts

-- DROP TABLE
DROP TABLE accounts

-- í…Œì´ë¸” ë³€ê²½(ì—´ ì¶”ê°€/ì‚­ì œ/ë³€ê²½)
    -- ì—´ ì¶”ê°€
ALTER TABLE accounts
ADD lastEnterTime DATETIME

    -- ì—´ ì‚­ì œ
ALTER TABLE accounts
DROP COLUMN lastEnterTime

    -- ì—´ ìˆ˜ì •
ALTER TABLE accounts
ALTER COLUMN accountName VARCHAR(20) NOT NULL
```

```sql
-- (ì¶”ê°€) ì œì•½(CONSTRAINT) ì¶”ê°€/ì‚­ì œ (NOT NULL, UNIQUE, PRIMARY KEY)
ALTER TABLE accounts
ADD PRIMARY KEY (accountId)

-- ì œì•½ì˜ ì´ë¦„ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë‚˜ì¤‘ì— ì œì•½ì„ ì‚­ì œí• ë•Œ ê³¤ë€
ALTER TABLE accounts
DROP CONSTRAINT ()

-- ì œì•½ì˜ ì´ë¦„ì„ ì§€ì •í•´ë³´ì
ALTER TABLE accounts
ADD CONSTRAINT PK_Account PRIMARY KEY (accountId)

ALTER TABLE accounts
DROP CONSTRAINT PK_Account
```

```sql
-- ë³´í†µì€ ì´ë ‡ê²Œ ì“°ì¸ë‹¤.

IF NOT EXISTS (
    SELECT *
    FROM sys.databases
    WHERE name = 'GameDB'
)
BEGIN
    CREATE DATABASE GameDB
END
GO

USE GameDB
GO

IF NOT EXISTS (
    SELECT 1
    FROM sys.tables
    WHERE name = 'TableName'
        AND type = 'U'
)
BEGIN
    CREATE TABLE TableName (
        Id INT PRIMARY KEY IDENTITIY(1, 1)
        , Name VARCHAR(100)
    )
END
```