---
layout: default
title: "8. Static Library ë§Œë“¤ê¸° & ì‚¬ìš©í•˜ê¸°(ê¸°ì´ˆ)"
parent: (Windows API)
grand_parent: (C++)
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Static Libraryë¥¼ ë§Œë“¤ì–´ë³´ì

### ì»¤ë©˜ë“œ ë¼ì¸ì—ì„œ Static Library ë§Œë“¤ê¸°

```cpp
// add.c

int add(int a, int b)
{
    return a + b;
}
```

```cpp
// sub.c
int sub(int a, int b)
{
    return a - b;
}
```

```bash
# ë¹Œë“œ
$ cl add.c /c
$ cl sub.c /c

# /c : ì»´íŒŒì¼ë§Œ í•˜ê¸°ì— object(.obj)íŒŒì¼ë§Œ ìƒì„±ë¨
```

```bash
# ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§Œë“¤ê¸°
$ lib add.obj sub.obj /out:mystaticmanual.lib
```

### VisualStudioì—ì„œ Static Library ë§Œë“¤ê¸°

* í”„ë¡œì íŠ¸ ì†ì„± -> ì¼ë°˜ -> êµ¬ì„± í˜•ì‹ -> ì •ì ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œ ì„¤ì •

---

## Static Library ë°°í¬

ğŸ˜º Static Libraryë¥¼ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” í—¤ë”ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•œë‹¤

```cpp
// mymath.h

#pragma once

#ifdef __cplusplus
extern "C" {
#endif

    int add(int a, int b);
    int sub(int a, int b);

#ifdef __cplusplus
}
#endif
```

<Br>

ğŸ˜º ì‚¬ìš©ì€ ê·¸ëƒ¥ í•¨ìˆ˜ë¥¼ ì“°ë“¯

```cpp
// main.cpp
#include <stdio.h>
#include "mymath.h"

int main()
{
    int ret = add(1, 2);
    printf("result : %d\n", ret);
}
```

<br>

ğŸ˜º ë¹Œë“œí• ë•Œ ë§í‚¹ì€?

### ë¹Œë“œì‹œ ë§í‚¹

```bash
$ cl main.cpp /c
$ link main.obj mystaticmanual.lib
```

í˜¹ì€

```bash
# ë” ê°„ë‹¨í•˜ê²ŒëŠ” 
$ cl main.c /link mystaticmanual.lib
# or
$ cl main.c mystaticmanual.lib
```

### ì½”ë“œì—ì„œ ë§í‚¹

```cpp
// main.cpp

#include <stdio.h>
#include "mymath.h"

#pragma comment(lib, "mystaticmanual.lib")

int main()
{
    int ret = add(1, 2);
    printf("result : %d\n", ret);
}
```