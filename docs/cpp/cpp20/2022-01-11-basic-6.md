---
layout: default
title: 6. Three-way comparision
parent: (C++20)
grand_parent: (C++)
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
struct MyInt
{
    MyInt(int value) : _value(value) { }
    // < <= > >= == != ì´ê±¸ ë‹¤ ì–¸ì œ ë§Œë“¤ì§€?? -> <=>ë¥¼ ì‚¬ìš©í•˜ì
    bool operator<(const MyInt& rhs) const { return _value < rhs._value; }
    int _value;
}
```

```cpp
struct MyInt
{
    MyInt(int value) : _value(value) { }
    // auto operator<=>(const MyInt& rhs) const { return _value <=> rhs._value; }
    auto operator<=>(const MyInt& rhs) const = default; // ê°„ë‹¨í•˜ê²Œ ì´ë ‡ê²Œ êµ¬í˜„í•´ë„ ìœ„ì™€ ë™ì¼í•¨.
    int _value;
};
```

<br>

ğŸ˜º ë? ë„ˆë¬´ì‰¬ìš´ë°?? í .. ëª‡ê°€ì§€ ê°œë…ì„ ë” ì„¤ëª…í•˜ê³  ë„˜ì–´ê°€ì

* ë¹„êµíŠ¹ì„±(ìˆ˜í•™ì  ê°œë…ì´ë‹¤)
    - Relational - 6ì¢… ë¹„êµ ì—°ì‚° ì§€ì› ==, !=, <, <=, >, >=
    - Equivalence - ëª¨ë“  Equivalentí•œ ê°’ë“¤ì€ ì„œë¡œ êµ¬ë¶„ë˜ì§€ ì•Šê³  ì™„ì „ ë˜‘ê°™ë‹¤
        - ex) ëŒ€ì†Œë¬¸ì êµ¬ë³„ ì•ˆí•˜ëŠ” ë¬¸ìì—´ ë¹„êµ rookiss Rookiss
        - Equivalenceë¥¼ ë§Œì¡± - rookiss RookissëŠ” ëŒ€/ì†Œë¬¸ì ì°¨ì´ê°€ ìˆê¸°ì— ë‹¤ë¥´ë‹¤
        - Equivalenceë¥¼ ë¶ˆë§Œì¡± - rookiss RookissëŠ” ê¸€ìëŠ” ê°™ê¸°ì— ë™ì¼í•˜ë‹¤
    - Comparable - a < b, a == b, a > b ì¤‘ í•˜ë‚˜ëŠ” ì°¸ì´ë‹¤
        - ex) float ë¹„êµí•  ë•Œ, bê°€ NaN(not a number)ë©´ 3ì—°ì‚°ì´ ë‹¤ trueê°€ ì•„ë‹˜.
        - ìœ„ì˜ˆì œëŠ” Comparableë¥¼ ë¶ˆë§Œì¡±í•˜ê²Œ ëœë‹¤.
* strong ordering - Relational, Equivalence, Comparable ë¥¼ ëª¨ë‘ ë§Œì¡±í•´ì•¼í•œë‹¤
* weak ordering - Relational, ComparableëŠ” ë§Œì¡±í•´ì•¼í•˜ë©° EquivalenceëŠ” ë§Œì¡±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤
* partial ordering - Relationalë§Œ ë§Œì¡±í•˜ë©´ ëœë‹¤.

ğŸ˜º ê·¸ëŸ°ë° ì´ê±¸ ì™œ ì„¤ëª…í•œê±°ì§€??

```cpp
struct Strong
{
    std::strong_ordering operator<=>(const Strong&) const = default;
};

struct Weak
{
    std::weak_ordering operator<=>(const Weak&) const = default;
};

struct Partial
{
    std::partial_ordering operator<=>(const Partial&) const = default;
};

struct Test
{
    auto operator<=>(const Test&) const = default;
    // ì…‹ ì¤‘ ì–´ë–¤ ìë£Œí˜•ì„ ë¹„êµëŒ€ìƒìœ¼ë¡œ ì“¸ê¹Œ?
        // ì •ë‹µì€ Partial!
        // ì…‹ ì¤‘ ê°€ì¥ ì¡°ê±´ì´ ëŠìŠ¨í•œ Partialì„ ë¹„êµëŒ€ìƒìœ¼ë¡œ ì“°ê²Œ ëœë‹¤.
    Strong s;
    Weak w;
    Partial p;
};
```

<br>

ğŸ˜º ê·¸ë˜ì„œ ìœ„ì—ì„œ ìƒì„±í•œ MyIntì´ defaultë¡œ `<=>`ì—°ì‚°ì„ ì²˜ë¦¬í–ˆëŠ”ë° _valueë¥¼ ì¡ì€ê²ƒì´ ìì‹ ì´ ì†Œìœ í•œ ë³€ìˆ˜ ì¤‘ ê°€ì¥ ëŠìŠ¨í•œ ì¡°ê±´ì„ ê°–ê¸° ë•Œë¬¸ì´ì˜€ë‹¤.

ğŸ˜º ë§Œì•½ ìì‹ ì´ ê°–ì€ ë³€ìˆ˜ê°€ ë§ì•„ì§ˆ ê²½ìš° ìì‹ ì˜ ë³€ìˆ˜ ì¤‘ ê°€ì¥ ëŠìŠ¨í•œ ì¡°ê±´ì„ ì°¾ì„ ê²ƒì´ë‹¤.

```cpp
struct MyInt
{
    MyInt(int value) : _value(value) { }
    auto operator<=>(const MyInt& rhs) const = default; 
    int _value;
    float _value2;
    // ê¸°íƒ€ ë“±ë“±~~
};
```

ğŸ˜º ì´ëŸ°ì‹ì˜ í™œìš©ë„ ê°€ëŠ¥í•˜ë‹¤

```cpp
int a1 = 100;
int b1 = 200;
// <=>ì—°ì‚°ì í•˜ë‚˜ë§Œ ì‚¬ìš©ìœ¼ë¡œ
auto ret = (a1 <=> b1);

if (ret < 0)
    // í°ì§€
    cout << "a < b" << endl;
else if (ret == 0)
    // ê°™ì€ì§€
    cout << "a == b" << endl;
else if (ret > 0)
    // ì‘ì€ì§€
    cout << "a > b" << endl;
// íŒë³„ê°€ëŠ¥(ì´ê²Œ íš¨ìœ¨ì ì¸ì§€ëŠ” ì˜....;;)
```

