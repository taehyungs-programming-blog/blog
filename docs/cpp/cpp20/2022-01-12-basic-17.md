---
layout: default
title: "17. container - 2"
parent: (C++20)
grand_parent: C++
nav_order: 2
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## erase, erase_if

```cpp
std::vector<int> vec{-1, 2, -3, 4, -5};

// 음수만 삭제해야한다면?
for (auto it = vec.begin(); it != vec.end(); )
{
    int value = *it;
    if(value < 0)
    {
        it = vec.erase(it);
    }
    else
    {
        it++;
    }
}
// 삭제를 위해서 몇줄을 써야하는 거지??? 그리고 실수하기 너무좋음
```

<br>

😺 조금 더 개선해보자면?

```cpp
std::remove_if(vec.begin(), vec.end() [](int num){return num < 0;});
// 절대 이렇게 쓰면안됨
// remove_if가 요소를 삭제하는게 아님
/*
    -1 2 -3 4 -5 라면
    remove_if를 돌리면
    2 4 -1 -3 -4
    순서만 바꿔준다
*/

// 그래도 그래도 써야겠다면?
auto newEnd = std::remove_if(vec.begin(), vec.end() [](int num){return num < 0;});
vec.erase(newEnd, vec.end());
// 이... 뭐... 가독성이 똥망...
```

<br>

😺 C++20이 그래서 준비했다!

```cpp
std::erase(vec, 2); // 2를 지워주세요
std::erase_if(vec, [](int num){return num < 0;});
```

<br>

---

## contains

```cpp
// set의 요소 찾기
std::set s{1,2,3,4,5};

auto findIt = s.find(2);
if(findIt != s.end())
{
    // 찾았다!
}
```

<br>

😺 조금 가독성을 높여보자

```cpp
if(s.contains(2))
{
    // 찾았다
}
```

<br>

😺 map도 역시 가능

```cpp
std::map<int, int> m{{1, 1000}, {2, 2000}};

if(m.contains(2/*key 값임*/))
{
    // 찾았다
}
```

<br>

---

## string의 prefix/suffix

```cpp
std::string str = "Hello World!";

bool b1 = std.strart_with("Hello");  // Hello로 시작하는지 확인
bool b2 = std.strart_with("World!"); // World!로 끝나는지 확인
```