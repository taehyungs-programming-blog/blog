---
layout: default
title: "26. jthread"
parent: (C++20)
grand_parent: (C++)
nav_order: 2
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

```cpp
void ThreadMain()
{
    // do something
}

int main()
{
    // ê¸°ì¡´ì˜ thread í˜•íƒœ
    thread t1(ThreadMain);
    t1.join();

    return 0;
}
```

<br>

ğŸ˜º ê¸°ì¡´ í˜•íƒœì˜ ë¬¸ì œì 

```cpp
mutex mut;

void ThreadMain()
{
    mutex.lock();
    
    // do something(ì•„ì£¼ ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…)
        // ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë°œìƒì‹œ unlockì´ ì•ˆë˜ê³  ë¬´ì œí•œ lockì„ ì¡ëŠ”ë‹¤
        // ë”°ë¼ì„œ joinì„ í†µí•´ í•´ë‹¹ threadê°€ ë¬¸ì œê°€ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ë¬´í•œì • ëŒ€ê¸°í•´ì•¼í•˜ëŠ”ì§€ ê²°ì •ì„ í•˜ê²Œ ëœë‹¤.

    mutex.unlock();
}

int main()
{
    thread t1(ThreadMain);
    t1.join();

    vector<thread> threads;
    for(int i = 0; i < 5; i++)
        threads.push_back(thread(ThreadMain));
    // ë¬¸ì œ) ë§¤ë²ˆ joinì„ í•˜ëŠ”ë° ì´ê²ƒë„ ë¶ˆí•„ìš” í•˜ë‹¤ ëŠë‚€ë‹¤
    for(int i = 0; i < 5; i++)
        threads[i].join();

    return 0;
}
```

<br>

ğŸ˜º jthread == joining Thread!

```cpp
void ThreadMain(std::stop_token stoken)
{
    while(ture)
    {
        if(stoken.stop_requested())
            break;

        // do something
    }
}

// ...

// ì‚¬ìš©ë²•ì€ ë§¤ìš° ê°„ë‹¨í•˜ë‹¤
jthread jt1(ThreadMain);

// ì—¬ê¸°ì„œ ëë‚´ê¸° ì•„ì‰¬ìš°ë‹ˆ
jt1.request_stop(); // ì¢…ë£Œìš”ì²­
```