---
layout: default
title: "21. lambda"
parent: (C++)
grand_parent: C++
nav_order: 3
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

ğŸ¹ ë„ˆë¬´ ê¸°ì´ˆë³´ë‹¨ ëª°ëë˜ ë‚´ìš©ìœ„ì£¼ë¡œ ì •ë¦¬ í•¨.

## closure object

* **closure object** : ëŒë‹¤ í‘œí˜„ì‹ì˜ ë™ì‘ ì›ë¦¬ì— í•´ë‹¹í•œë‹¤. ëŒë‹¤ê°€ ì‘ì„±ë˜ë©´ ì»´íŒŒì¼ëŸ¬ëŠ” closure objectë¥¼ ìƒì„±í•´ ì¤€ë‹¤.

```cpp
sort(x, x+10, [](int a, int b){ return a < b; });

// ì»´íŒŒì¼ëŸ¬ëŠ” ì•„ë˜ì™€ ê°™ì€ closure objectë¥¼ ìƒì„±í•´ ì¤€ë‹¤.
    // ì •í™•í•œ ëª¨ì–‘ ì•„ë˜ì™€ ê°™ì´ ê°„ë‹¨í•˜ì§„ ì•Šê³  ì¢€ ë” ë³µì¡í•¨.
class ClosureType
{
public:
    bool operator()(int a, int b) const
    {
        return a < b;
    }
};
```

---

## lambdaì˜ typeì¡°ì‚¬

```cpp
// ë™ì¼í•´ ë³´ì´ëŠ” ë‘ lambda ê³¼ì—° typeë„ ë™ì¼í• ê¹Œ?
auto f1 = [](int a, int b) { return a + b; }
auto f2 = [](int a, int b) { return a + b; }

// ê²°ë¡ ì€ typeì€ ë‹¤ë¦„
    // C++ ê·œì •ìƒ ëª¨ë“  lambdaì˜ typeì€ ìœ ë‹ˆí¬í•˜ë‹¤
cout << typeid(f1).name() << endl;
cout << typeid(f2).name() << endl;

// ë”°ë¼ì„œ, ì´ëŸ°ì—°ì‚°ë¶ˆê°€
f2 = [](int a, int b) { return a + b; }
```

---

## lambdaëŠ” ë­˜ë¡œ ë°›ì„ ìˆ˜ ìˆì„ê¹Œ?

```cpp
// ì„¸ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆìŒ.
auto f1 = [](int a , int b) { return a + b; }
int(*f2)(int, int) = [](int a, int b) { return a + b; }
function<int(int, int)> f3 = [](int a, int b) { return a + b; }

// inlineì¹˜í™˜ì´ ë ê¹Œ?
f1(1, 2);   // ok - inlineì¹˜í™˜ ì§€ì› - functorì´ê¸°ì— ê°€ëŠ¥í•˜ë‹¤
f2(1, 2);   // nope - í•¨ìˆ˜í¬ì¸í„°ëŠ” inlineì¹˜í™˜ ë¯¸ ì§€ì›(í•¨ìˆ˜í¬ì¸í„°ëŠ” ê°€ë¦¬í‚¤ëŠ” í•¨ìˆ˜ê°€ ë‹¬ë¼ì§ˆìˆ˜ ìˆê¸°ì—)
f3(1, 2);   // nope - ìœ„ì™€ê°™ì€ì´ìœ 
```

---

## lambdaì˜ ë¦¬í„´íƒ€ì… ì§€ì •

```cpp
// suffix return typeì´ë¼ í•œë‹¤
auto f1 = [](int a, int b) -> int { return a + b; }
```