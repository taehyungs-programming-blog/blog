---
layout: default
title: "03. μ¶”μƒ ν΄λμ¤μ™€ μΈν„°νμ΄μ¤"
parent: (Desing Pattern)
grand_parent: (C++)
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## μ¶”μƒ ν΄λμ¤ 

π¦„ μ¶”μƒ ν΄λμ¤λ” λ°λ“μ‹ **νΉμ • ν•¨μλ¥Ό λ§λ“¤λΌκ³  κ°•μ **ν•κ³  μ‹¶μ„λ• μ‚¬μ©λλ‹¤.

```cpp
class Shape     // μμ κ°€μƒν•¨μλ¥Ό ν¬ν•¨ν•  κ²½μ° μ¶”μƒ ν΄λμ¤λΌ ν•λ‹¤.
{
public:
    virtual void Draw() = 0;        // μμ κ°€μƒν•¨μ : κµ¬ν„λ¶€κ°€ μ—†λ‹¤.
};

int main()
{
    Shape s;        // error - μ¶”μƒ ν΄λμ¤λ” κ°μ²΄λ¥Ό μƒμ„±ν•  μ μ—†λ‹¤.
    Shape* p;       // ok - λ‹¨, ν¬μΈν„° μ •λ„λ” λ§λ“¤ μ μλ‹¤.
}
```

```cpp
class Rect : public Shape
{
public:
    virtual void Draw() {}      // κµ¬ν„λ¶€λ¥Ό μ κ³µν•λ©΄ μ¶”μƒ ν΄λμ¤κ°€ μ•„λ‹λ‹¤.
};

int main()
{
    Rect r;     // ok
}
```

---

## interface 

π¦„ ν•λ‚μ μλ΅μ„ μ„¤λ…ν•΄ λ³΄μ.

```cpp
#include <iostream>
using namespace std;

class Camera
{
public:
    void take() { cout << "take picture" << endl; }
};

class People
{
public:
    void useCamera(Camera* p) { p->take(); }
};

int main()
{
    People p;
    Camera c;
    p.useCamera(&c);
}
```

π¦„ μƒλ΅μ΄ μΉ΄λ©”λΌκ°€ λ‚μ™”λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.

```cpp
class HDCamera
{
public:
    void take() { cout << "HD take picture" << endl; }
};

class People
{
public:
    // μ΄λ ‡κ² λ¬΄ν•μ • λλ¦΄μ μ—†λ‹¤.
    void useCamera(Camera* p) { p->take(); }
    void useCamera(HDCamera* p) { p->take(); }
};

int main()
{
    People p;
    Camera c;
    p.useCamera(&c);

    HDCamera hd;
    p.useCamera(&hd);       // ν¨μ¨ν™”κ°€ ν•„μ”ν•λ‹¤
}
```

π¦„ κ°μ„ ν•΄ λ³΄μ.

```cpp
#include <iostream>
using namespace std;

// κ·μΉ™ : λ¨λ“  μΉ΄λ©”λΌλ” μ•„λ ν΄λμ¤λ΅λ¶€ν„° νμƒλμ–΄μ•Ό ν•λ‹¤.(=λ¨λ“  μΉ΄λ©”λΌλ” μ•„λ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤.)
struct ICamera
{
public:
    virtual void take() = 0;
    virtual ~ICamera() {}
};

class Camera : public ICamera
{
public:
    virtual void take() override { cout << "take picture" << endl; }
};

class HDCamera : public ICamera
{
public:
    virtual void take() override { cout << "HD take picture" << endl; }
};

class People
{
public:
    void useCamera(ICamera* p) { p->take(); }
};

int main()
{
    People p;
    Camera c;
    HDCamera hd;

    p.useCamera(&c);        // ok
    p.useCamera(&hd);       // ok
}
```

---

## μ–΄λ µκ² μ„¤λ…ν•μλ©΄...

* **OCP(Open Close Principle)** - κΈ°λ¥ ν™•μ¥μ—λ” μ—΄λ ¤μκ³ , μ½”λ“ μμ •μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤.(μƒλ΅μ΄ κΈ°λ¥μ΄ μ¶”κ°€λμ–΄λ„ κΈ°μ΅΄ μ½”λ“μ μμ •μ΄ μ—†λ„λ΅ λ§λ“¤μ–΄μ•Ό ν•λ‹¤λ” λ§.)
* λ¬Έμ μ μ›μΈμ€ Peopleκ³Ό Cameraκ°€ useCameraλ¥Ό ν†µν•΄ κ°•ν•κ²°ν•©μΌλ΅ μ—°κ²°λμ–΄ μλ‹¤.
μ΄ λ¶€λ¶„μ„ μ•½ν•κ²°ν•©μΌλ΅ λ³€κ²½ν•λ©΄ λ  κ²ƒ.
* ν•΄κ²°λ κµ¬ν„μ€ μ•½ν• κ²°ν•©μ΄λΌ ν•λ‹¤.
* κ°μ²΄κ°€ μ„λ΅ μƒνΈ μ‘μ© ν•μ§€λ§, μ„λ΅μ— λ€ν•΄ μ μ•μ§€ λ» ν•λ” κ²ƒ. κµμ²΄/ν™•μ¥ κ°€λ¥ν• μ μ—°ν• λ””μμΈ
* κ°μ²΄λ” μƒνΈ κ°„μ— μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄μ„ ν†µμ‹  ν•΄μ•Ό ν•λ‹¤.