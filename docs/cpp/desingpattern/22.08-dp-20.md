---
layout: default
title: "20. Factory Method"
parent: (Desing Pattern)
grand_parent: (C++)
nav_order: 3
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Factory Method

ğŸ³ ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜ í•˜ì§€ë§Œ, ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ì§€ì— ëŒ€í•œ ê²°ì •ì€ ì„œë¸Œ í´ë˜ìŠ¤ê°€ í•œë‹¤.<Br>
ğŸ³ Factory Method íŒ¨í„´ì—ì„œëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ì‹œì ì„ ì„œë¸Œí´ë˜ìŠ¤ë¡œ ë¯¸ë£¬ë‹¤.<Br>
ğŸ³ template methodì™€ ìœ ì‚¬í•œ í˜•íƒœì´ë‹¤<Br>

```cpp
struct IEdit
{
    virtual void Draw() = 0;
    virtual ~IEdit() {}
};

struct IButton
{
    virtual void Draw() = 0;
    virtual ~IButton() {}
};

struct WinButton : public IButton { void Draw() { cout << "Draw WinButton" << endl; }};
struct GTKButton : public IButton { void Draw() { cout << "Draw GTKButton" << endl; }};

struct WinEdit : public IEdit { void Draw() { cout << "Draw WinEdit" << endl; }};
struct GTKEdit : public IEdit { void Draw() { cout << "Draw GTKEdit" << endl; }};

class WinDialog
{
public:
    void Init()
    {
        WinButton* pBtn = new WinButton;
        WinEdit* pEdit = new WinEdit;

        pBtn->Draw();
        pEdit->Draw();
    }
};

class GTKDialog
{
public:
    void Init()
    {
        GTKButton* pBtn = new GTKButton;
        GTKEdit* pEdit = new GTKEdit;

        pBtn->Draw();
        pEdit->Draw();
    }
};
// ê³µí†µëœ ë¶€ë¶„ì„ ê¸°ë°˜í´ë˜ìŠ¤ë¡œ ë½‘ì•„ë³´ì.


int main(int argv, char** argc)
{
    WinDialog dlg;
    dlg.Init();
}
```

```cpp
class BaseDialog
{
public:
    void Init()
    {
        IButton* pBtn = CreateButton();
        IEdit* pEdit = CreateEdit();

        pBtn->Draw();
        pEdit->Draw();
    }
    virtual IButton* CreateButton() = 0;
    virtual IEdit* CreateEdit() = 0;
};

class WinDialog : public BaseDialog
{
public:
    virtual IButton* CreateButton() { return new WinButton; }
    virtual IEdit* CreateEdit() { return new WinEdit; }
};
```