---
layout: default
title: "08. Decorator Pattern"
parent: (Desing Pattern)
grand_parent: C++
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Decorator Pattern

ğŸ’ ì‹¤í–‰ ì‹œê°„ì— ê°ì²´ì— ê¸°ëŠ¥ì„ ì¶”ê°€<Br>
ğŸ’ ê°ì²´ì— ë™ì ìœ¼ë¡œ ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ë¥¼ ì¶”ê°€<Br>
ğŸ’ ê¸°ëŠ¥ ì¶”ê°€ë¥¼ ìœ„í•´ ì„œë¸Œ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¤ ìœµí†µì„± ìˆëŠ” ë°©ë²•ì„ ì œê³µ<Br>

---

## Example

```cpp
#include <iostream>
using namespace std;

class SpaceCraft
{
    int color;
    int speed;
public:
    void Fire() { cout << "Space Craft : ------------" << endl; }
};

int main()
{
    SpaceCraft sc;
    sc.Fire();
}
```

ğŸ’ ì›ì‹œì ì¸ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•´ ë³´ì.

```cpp
// ìƒì†ì„ ì¨ë³´ì.
class LeftMissile : public SpaceScraft
{
public:
     void Fie()
     {
         SpaceCraft::Fire();
         cout << "Left Missile : >>>>>>>>>>>>>>>>" << endl;
     }
};

int main()
{
    SpaceCraft sc;
    sc.Fire();

    // ë¬¸ì œëŠ” ìœ„ì˜ scì™€ëŠ” ì „í˜€ ê´€ê³„ì—†ëŠ” ìƒˆë¡œìš´ ì˜¤ë¸Œì íŠ¸ê°€ ìƒê¸´ê²ƒì´ë‹¤.
    LeftMissile lm;
    lm.Fire();
}
```

```cpp
// êµ¬ì„±(Composition)ì„ í†µí•œ ê¸°ëŠ¥ì¶”ê°€
class LeftMissile
{
    SpaceCraft* craft;
public:
    LeftMissile(SpaceCraft* p) : craft(p) {}
    void Fire()
    {
        craft->Fire();
        cout << "Left Missile : >>>>>>>>>>>>>>>>" << endl;
    }
};

int main()
{
    SpaceCraft sc;
    sc.Fire();

    LeftMissile lm(&sc);
    lm.Fire();
}
```

ğŸ’ ìƒì†ì— ì˜í•œ ê¸°ëŠ¥ì¶”ê°€ : í´ë˜ìŠ¤ì— ì¶”ê°€, ì½”ë“œ ì‘ì„±ì‹œ ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥<br>
ğŸ’ êµ¬ì„±ì— ì˜í•œ ê¸°ëŠ¥ì¶”ê°€ : ê°ì²´ì— ì¶”ê°€, ì‹¤í–‰ì‹œê°„ì— ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥<br>

```cpp
class RightMissile
{
    SpaceCraft* craft;
public:
    RightMissile(SpaceCraft* p) : craft(p) {}
    void Fire()
    {
        craft->Fire();
        cout << "Right Missile : >>>>>>>>>>>>>>>>" << endl;
    }
};

int main()
{
    SpaceCraft sc;
    sc.Fire();

    LeftMissile lm(&sc);
    lm.Fire();

    RightMissile rm(&sc);       
    // ì´ëŸ¬ë©´ left missileì€ fireë˜ì§€ ì•ŠëŠ”ë‹¤
    rm.Fire();
}
```

```cpp
struct Component
{
    virtual void Fire() = 0;
    virtual ~Component() {}
};

class SpaceCraft : public Component
{
    int color;
    int speed;
public:
    void Fire() { cout << "Space Craft : ------------" << endl; }
};

class LeftMissile : public Component
{
    Component* craft;
public:
    LeftMissile(Component* p) : craft(p) {}
    void Fire()
    {
        craft->Fire();
        cout << "Left Missile : >>>>>>>>>>>>>>>>" << endl;
    }
};

class RightMissile : public Component
{
    Component* craft;
public:
    RightMissile(Component* p) : craft(p) {}
    void Fire()
    {
        craft->Fire();
        cout << "Right Missile : >>>>>>>>>>>>>>>>" << endl;
    }
};

int main()
{
    SpaceCraft sc;
    sc.Fire();

    LeftMissile lm(&sc);
    lm.Fire();

    RightMissile rm(&lm);       // ok
    rm.Fire();
}
```

ğŸ’ ì¡°ê¸ˆ ë” ì§„í™”í•´ ë³´ìë©´

```cpp
struct IDecorator : public Component
{
    Component* craft;
public:
    IDecorator(Component* p) : craft(p) {}
    void Fire() { craft->Fire(); }
};

class LeftMissile : public IDecorator
{
public:
    LeftMissile(Component* p) : IDecorator(p) {}
    void Fire()
    {
        IDecorator::Fire();
        cout << "Left Missile : >>>>>>>>>>>>>>>>" << endl;
    }
};

class RightMissile : public IDecorator
{
public:
    RightMissile(Component* p) : IDecorator(p) {}
    void Fire()
    {
        IDecorator::Fire();
        cout << "Right Missile : >>>>>>>>>>>>>>>>" << endl;
    }
};
```