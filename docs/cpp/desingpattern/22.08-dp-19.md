---
layout: default
title: "19. Abstract Factory Pattern"
parent: (Desing Pattern)
grand_parent: (C++)
nav_order: 2
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Abstract Factory Pattern

ğŸ¦„ ì—¬ëŸ¬ ê°ì²´ì˜ êµ°ì„ ìƒì„±í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µ

```cpp
#include <iostream>
using namespace std;

struct WinButton { void Draw() { cout << "Draw WinButton" << endl; }};
struct GTKButton { void Draw() { cout << "Draw GTKButton" << endl; }};

struct WinEdit { void Draw() { cout << "Draw WinEdit" << endl; }};
struct GTKEdit { void Draw() { cout << "Draw GTKEdit" << endl; }};

int main(int argv, char** argc)
{
    if(strcmp(argc[1], "Windows") == 0)
        ? pBtn = new WinButton;
    else
        ? pBtn = new GTKButton;
        // ê³µë™ì˜ ê¸°ë°˜í´ë˜ìŠ¤ê°€ í•„ìš”í•˜ë‹¤

    pBtn->Draw();
}
```

```cpp
struct IEdit
{
    virtual void Draw() = 0;
    virtual ~IEdit() {}
};

struct IButton
{
    virtual void Draw() = 0;
    virtual ~IButton() {}
};

struct WinButton : public IButton { void Draw() { cout << "Draw WinButton" << endl; }};
struct GTKButton : public IButton { void Draw() { cout << "Draw GTKButton" << endl; }};

struct WinEdit : public IEdit { void Draw() { cout << "Draw WinEdit" << endl; }};
struct GTKEdit : public IEdit { void Draw() { cout << "Draw GTKEdit" << endl; }};

int main(int argv, char** argc)
{
    IButton * pBtn;
    if(strcmp(argc[1], "Windows") == 0)
        pBtn = new WinButton;
    else
        pBtn = new GTKButton;
        // ë²„íŠ¼ì´ ì¶”ê°€ë ë•Œë§ˆë‹¤ ifë¬¸ì´ ì¶”ê°€ë˜ì–´ì•¼í•˜ë‚˜?

    pBtn->Draw();
}
```

```cpp
struct IFactory
{
    virtual IButton* CreateButton() = 0;
    virtual IEdit* CreateButton() = 0;
    virtual ~IFactory() {}
};

struct WinFactory : public IFactory
{
    WinButton* CreateButton() { return new WinButton; }
    WinEdit* CreateEdit() { return new WinEdit; }
};

struct GTKFactory : public IFactory
{
    GTKButton* CreateButton() { return new GTKButton; }
    GTKEdit* CreateEdit() { return new GTKEdit; }
};

int main(int argv, char** argc)
{
    * pFactory;
    if(strcmp(argc[1], "Windows") == 0)
        pFactory = new WinFactory;
    else
        pFactory = new GTKFactory;
  
    IButton* pBtn = pFactory->CreateButton();
    pBtn->Draw();
}
```