---
layout: default
title: "(03. ë¡œë¹„ì˜ êµ¬í˜„)"
parent: "(MMORPG ë§Œë“¤ì–´ ë³´ê¸° ğŸ¤©)"
has_children: true
nav_order: 1
---

```csharp
public class UI_SelectCharacterPopup : UI_Popup
{
    // ...

    Transform _parent;

    // UI_CharacterSlotItemë¥¼ Listë¡œ ê´€ë¦¬
    List<UI_CharacterSlotItem> _slots = new List<UI_CharacterSlotItem>();
```

* ëŒ€ëµ í•„ìš”í•´ ë³´ì´ëŠ” ì‘ì—…ì€ ìºë¦­í„° ëª©ë¡ ë°›ê¸°, ìºë¦­í„° ìƒì„± í•˜ê¸°, ìºë¦­í„° ì‚­ì œ í•˜ê¸°, ê²Œì„ ì‹œì‘í•˜ê¸°

---

## ì‘ì—…ì€ ìºë¦­í„° ëª©ë¡ ë°›ê¸°

```csharp
public static void S_HeroListResHandler(PacketSession session, IMessage packet)
{
    Debug.Log("S_HeroListResHandler");

    UI_TitleScene sceneUI = Managers.UI.GetSceneUI<UI_TitleScene>();
    if (sceneUI == null)
        return;

    S_HeroListRes resPacket = packet as S_HeroListRes;
    sceneUI.OnHeroListResHandler(resPacket);
}
```

```csharp
public void OnHeroListResHandler(S_HeroListRes resPacket)
{
    List<MyHeroInfo> heroes = resPacket.Heroes.ToList();

    UI_SelectCharacterPopup popup = Managers.UI.GetLastPopupUI<UI_SelectCharacterPopup>();
    if (popup == null)
        popup = Managers.UI.ShowPopupUI<UI_SelectCharacterPopup>();

    popup.SetInfo(heroes);
}
```

---

## ìºë¦­í„° ìƒì„± í•˜ê¸°

---

## ìºë¦­í„° ì‚­ì œ í•˜ê¸°

---

## ê²Œì„ ì‹œì‘í•˜ê¸°

---

## TODO: ORM to Clientì–´ë–»ê²Œ íŒ¨í‚·ë§Œë“¤ê³  ê´€ë¦¬í•˜ëŠ”ì§€ í™•ì¸.

```csharp
public static HeroDb CreateHeroDb(long accountDbId, C_CreateHeroReq reqPacket)
{
    using (GameDbContext db = new GameDbContext())
    {
        HeroDb heroDb = db.Heroes.Where(h => h.Name == reqPacket.Name).FirstOrDefault();
        if (heroDb != null)
            return null;

        heroDb = new HeroDb()
        {
            AccountDbId = accountDbId,
            Name = reqPacket.Name,
            Gender = reqPacket.Gender,
            ClassType = reqPacket.ClassType
        };

        db.Heroes.Add(heroDb);

        if (db.SaveChangesEx())
            return heroDb;

        return null;
    }
}
```

---

## TODO: JobSerializerë¡œ ì²˜ë¦¬ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ í™•ì¸

```csharp
public class GameLogic : JobSerializer
public partial class DBManager : JobSerializer
public partial class GameRoom : JobSerializer
```