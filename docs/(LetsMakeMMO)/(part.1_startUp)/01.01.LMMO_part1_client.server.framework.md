---
layout: default
title: "01-01. ì‚¬ì „ ì‚¬í•­"
parent: "(01. Client, Server Core)"
grand_parent: "(MMORPG ë§Œë“¤ì–´ ë³´ê¸° ğŸ¤©)"
nav_order: 1
---

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

* [Get Code ğŸŒŸ](https://github.com/Arthur880708/LetMakeMMO/tree/1)

---

## VS ì¤€ë¹„

* MS-SQLì„ ì‚¬ìš©í•˜ê¸°ì— `ë°ì´í„° ìŠ¤í† ë¦¬ì§€ ë° ì²˜ë¦¬`ì˜ ì„¤ì¹˜ê°€ í•„ìš”í•˜ë‹¤

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/letsMakeMmo/part1/lmmo-p1-1-1.png"/>
</p>

* ì„¤ì¹˜ê°€ ë˜ì–´ìˆë‹¤ë©´ Visual Studioì—ì„œ `SQL Server Object Explorer`ë¥¼ í™•ì¸í•´ ë³´ì

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/letsMakeMmo/part1/lmmo-p1-1-2.png"/>
</p>

* DB ì–˜ê¸°ê°€ ë‚˜ì™”ìœ¼ë‹ˆ ... ORMì„ í™œìš©í•  ì˜ˆì •
    * (ì°¸ê³ ) ì¼ë°˜ì ìœ¼ë¡œ ê²Œì„ì„œë²„ì—ì„œ ORMì„ ì˜ ì“°ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.
    * ORMì˜ ì¥ì ?
        * ê°œë°œì†ë„, SQL ì¿¼ë¦¬ ìì²´ë„ ì½”ë“œì—ì„œ ê´€ë¦¬ê°€ ê°€ëŠ¥.

```csharp
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations.Schema;

namespace Server.Game
{
    [Table("Hero")]
    public class HeroDb
	{
        public int HeroDbId { get; set; }
        public long AccountDbId { get; set; }
        public DateTime CreateDate { get; private set; }
    }

    [Table("Item")]
    public class ItemDb
    {
        public long ItemDbId { get; set; }
        public int TemplateId { get; set; }
        public int EquipSlot { get; set; }
        public long AccountDbId { get; set; }
        public int Count { get; set; }
        public int OwnerDbId { get; set; }
        public int EnchantCount { get; set; }
    }
}
```

* GameServer, ServerCore ì—ì„œ Microsoft.EntityFrameworkCore.Design Nuget ì„¤ì¹˜ or ì—…ë°ì´íŠ¸
* MS-SQLì„ ì²˜ìŒì„¤ì¹˜í•´ DBê°€ ì—†ë‹¤ë©´ GameDBë€ ì´ë¦„ìœ¼ë¡œ í•˜ë‚˜ ë§Œë“¤ì–´ ë‘ì

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/letsMakeMmo/part1/lmmo-p1-1-4.png"/>
</p>

---

## Server ë¹Œë“œìˆœì„œ

* Serverì˜ PacketGeneratorë¥¼ ë¨¼ì € ë¹Œë“œí•˜ì
* ORMì˜ ì„¤ì •ì„ ìœ„í•´ì„œ `íŒ¨í‚¤ì§€ ê´€ë¦¬ì ì½˜ì†”` ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ ì…ë ¥

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/letsMakeMmo/part1/lmmo-p1-1-3.png"/>
</p>

```shell
$ add-migration init
```

* ì„±ê³µì‹œ Migrations í´ë”ê°€ ìƒì„±ë¨ì„ í™•ì¸

<p align="center">
  <img src="https://taehyungs-programming-blog.github.io/blog/assets/images/letsMakeMmo/part1/lmmo-p1-1-5.png"/>
</p>

---

## Unity

* Version : 2022.3.32f1

